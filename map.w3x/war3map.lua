udg_QuestIntro = nil
udg_IntLightCheck = 0
udg_Cat = 0
udg_Random = 0
udg_mainHero = nil
udg_IsRatBlocked = false
udg_ActiveGrave = nil
udg_RevivePoint = nil
udg_KeyRed = nil
udg_KeyBlue = nil
udg_KeyGreen = nil
udg_RainWeather = nil
udg_Skulls = 0
udg_xWizard = 0
udg_FinalDialog = nil
udg_Yes = nil
udg_ActiveTrader = nil
udg_tmpitem = nil
gg_rct_Intro_Trap = nil
gg_rct_Bandits1 = nil
gg_rct_Bandits2 = nil
gg_rct_Bandits_Barkeep = nil
gg_rct_Button_1 = nil
gg_rct_WallHide = nil
gg_rct_Button_2 = nil
gg_rct_Solve3 = nil
gg_rct_Region_011 = nil
gg_rct_KainStart = nil
gg_rct_KotoBogSpawn2 = nil
gg_rct_FirstDorWannaKey = nil
gg_rct_EnterDark_2 = nil
gg_rct_Region_016 = nil
gg_rct_KotoBogPortal = nil
gg_rct_Region_018 = nil
gg_rct_Graveyard = nil
gg_rct_Tumbler1 = nil
gg_rct_Tumbler2 = nil
gg_rct_Tumbler3 = nil
gg_rct_LibraryPass = nil
gg_rct_LibraryPass_2 = nil
gg_rct_ButtonToLibrary = nil
gg_rct_Rat_Leave_Zone = nil
gg_rct_Rat_Start_Zone = nil
gg_rct_Region_028 = nil
gg_rct_Rat_Barrel_Zone = nil
gg_rct_Bergi_Run_Away = nil
gg_rct_BergiFinish = nil
gg_rct_Cinematic_1 = nil
gg_rct_Cinematic2 = nil
gg_rct_Cry1 = nil
gg_rct_Cry2 = nil
gg_rct_DoorwayOpen = nil
gg_rct_DoorwayOpen2 = nil
gg_rct_DoorwayOpen3 = nil
gg_rct_LibraryOpen = nil
gg_rct_LibraryClosed = nil
gg_rct_DoorwayOpen4 = nil
gg_rct_Portal_2_Out = nil
gg_rct_Portal1_In = nil
gg_rct_Cry3 = nil
gg_rct_Barkeep_walk = nil
gg_rct_RedKeyDoor = nil
gg_rct_Cry4 = nil
gg_rct_BlueKeyDoor = nil
gg_rct_Trap2 = nil
gg_rct_Trap1 = nil
gg_rct_Trap3 = nil
gg_rct_Button_yard = nil
gg_rct_Rat_In = nil
gg_rct_Tower1 = nil
gg_rct_Doorway_Fly = nil
gg_rct_PreventFly = nil
gg_rct_NoFly1 = nil
gg_rct_NoFly2 = nil
gg_rct_NoFly3 = nil
gg_rct_NoFly4 = nil
gg_rct_NoFly5 = nil
gg_rct_NoFly6 = nil
gg_rct_NoFly7 = nil
gg_rct_NoFly8 = nil
gg_rct_Button_Throw = nil
gg_rct_Region_067 = nil
gg_rct_Region_068 = nil
gg_rct_ButtonYard = nil
gg_rct_DoorwayYard = nil
gg_rct_Region_071 = nil
gg_rct_AcidDoor = nil
gg_rct_boss = nil
gg_rct_Cry5 = nil
gg_rct_Region_075 = nil
gg_rct_WEbolldBoss = nil
gg_rct_RedBossKey = nil
gg_rct_GreenBoss = nil
gg_rct_IceBoss = nil
gg_rct_WaytoChurch = nil
gg_rct_Light3 = nil
gg_rct_Dark3 = nil
gg_rct_Light4 = nil
gg_rct_Light5 = nil
gg_rct_Light6 = nil
gg_rct_Dark4 = nil
gg_rct_Dark5 = nil
gg_rct_Dark6 = nil
gg_rct_EnterCave = nil
gg_rct_Cry6 = nil
gg_rct_LeaveMausoleum = nil
gg_rct_Dark8 = nil
gg_rct_bossWin = nil
gg_rct_Tips2 = nil
gg_rct_Tips3 = nil
gg_rct_BossRealStart = nil
gg_rct_DestroyVision1 = nil
gg_rct_ButtonA_1 = nil
gg_rct_ButtonA_2 = nil
gg_rct_ButtonA_3 = nil
gg_rct_Armor_Zone = nil
gg_rct_Golem_Free = nil
gg_rct_UndergroundDoor1 = nil
gg_rct_UndergroundDoor2 = nil
gg_rct_SecretDoor1 = nil
gg_rct_DoorWayOpen5 = nil
gg_rct_RespawnBandit = nil
gg_rct_BanditGate = nil
gg_rct_Outro2 = nil
gg_rct_Outro3 = nil
gg_rct_Outro4 = nil
gg_rct_Outro5 = nil
gg_rct_FinalBanditsSpawn = nil
gg_rct_Outro = nil
gg_rct_BashZone = nil
gg_rct_FinalZone = nil
gg_rct_OpenGate6 = nil
gg_rct_EventKill = nil
gg_rct_Skull1 = nil
gg_rct_Skull2 = nil
gg_rct_Skull3 = nil
gg_rct_SkullPortal = nil
gg_rct_TPToNecro = nil
gg_rct_TPToNecroOut = nil
gg_rct_HideWall = nil
gg_rct_OpenGate = nil
gg_rct_FieldSkeletons = nil
gg_rct_KotobogInteract = nil
gg_rct_YellowDoor = nil
gg_rct_Dark7 = nil
gg_rct_Light7 = nil
gg_rct_xWizard = nil
gg_rct_xWizardPatrol = nil
gg_rct_Region_131 = nil
gg_rct_Dark9 = nil
gg_rct_YellowKeyMaster = nil
gg_rct_Light8 = nil
gg_rct_OgreMan = nil
gg_rct_BarrelAlternate = nil
gg_rct_PeonPlace = nil
gg_rct_BrokenLever = nil
gg_rct_BlackDoor = nil
gg_rct_BlackDoorIn = nil
gg_rct_Dark10 = nil
gg_rct_Light9 = nil
gg_rct_PlayerSave1 = nil
gg_rct_Fence1 = nil
gg_rct_Fence2 = nil
gg_rct_LightFight = nil
gg_rct_HintObstacle = nil
gg_rct_HintObstacle2 = nil
gg_rct_HintBloodGout = nil
gg_rct_HintBatsEvasion = nil
gg_rct_OpenGate11 = nil
gg_rct_NoEnter2 = nil
gg_rct_NoEnterHeart = nil
gg_rct_OpenDoor3 = nil
gg_rct_AbuserZone = nil
gg_rct_NoKainHere = nil
gg_rct_NoTraderHere = nil
gg_rct_NoTraderHere2 = nil
gg_rct_TraderRespawn = nil
gg_rct_VillageGate = nil
gg_rct_Patrol1 = nil
gg_rct_Start1 = nil
gg_rct_GuardZone = nil
gg_rct_p1 = nil
gg_rct_p2 = nil
gg_rct_p3 = nil
gg_rct_TraderReadyPoint = nil
gg_rct_p4 = nil
gg_rct_p5 = nil
gg_rct_p6 = nil
gg_rct_BlackDoorInTp = nil
gg_rct_BlackDoorOut = nil
gg_cam_Cinematic1 = nil
gg_cam_Camera_003 = nil
gg_cam_Cinematic2 = nil
gg_cam_Cinematic3 = nil
gg_cam_Cinematic4 = nil
gg_cam_Cinematic5 = nil
gg_snd_Intro1 = nil
gg_snd_Intro2 = nil
gg_snd_Intro3 = nil
gg_snd_Intro4 = nil
gg_snd_Blood_Omen__Legacy_of_Kain___Solemn_Dirge__Willendorf_u = ""
gg_snd_Intro5 = nil
gg_snd_Intro6 = nil
gg_snd_Intro7 = nil
gg_snd_Intro8 = nil
gg_snd_Tips1 = nil
gg_snd_tremblement = nil
gg_snd_Tips2 = nil
gg_snd_Blood_Omen__Legacy_of_Kain___Kain_s_Mausoleum = ""
gg_snd_Tavern1 = nil
gg_snd_Tavern2 = nil
gg_snd_Tavern3 = nil
gg_snd_Tavern4 = nil
gg_snd_Murder1 = nil
gg_snd_Murder2 = nil
gg_snd_Kain1 = nil
gg_snd_Kain2 = nil
gg_snd_Kain3 = nil
gg_snd_cat_y = nil
gg_snd_Kain4Mana = nil
gg_snd_Kain5Light = nil
gg_snd_102__Awakening = ""
gg_snd_Kain6Rain = nil
gg_snd_SoundsKainLaugh = nil
gg_snd_Enemy = nil
gg_snd_BattleNetDoorsStereo2 = nil
gg_snd_PeonPissed4 = nil
gg_snd_PeonPissed3 = nil
gg_snd_KainRessurect = nil
gg_snd_Cry = nil
gg_snd_KainRevenge = nil
gg_snd_NecromancerYesAttack3 = nil
gg_snd_KelThuzadDeath1 = nil
gg_snd_UndeadDissipate2 = nil
gg_snd_BattleNetDoorsStereo201 = nil
gg_snd_MetalHeavySliceFlesh1 = nil
gg_snd_103__The_Road_to_Vengeance = ""
gg_snd_104__Nupraptor_s_Theme = ""
gg_snd_KainMindControl = nil
gg_snd_KainSpear = nil
gg_snd_KainBatForm = nil
gg_snd_KainBrigand1 = nil
gg_snd_KainBrigand2 = nil
gg_snd_KainBrigand3 = nil
gg_snd_KainBrigand4 = nil
gg_snd_KainKilled1 = nil
gg_snd_KainKilled2 = nil
gg_snd_Outro = nil
gg_snd_KainLighting = nil
gg_snd_U01Peasant15A = nil
gg_snd_U01Peasant15B = nil
gg_snd_U01Peasant15C = nil
gg_snd_HeroStep4 = nil
gg_snd_HeroLichReady1 = nil
gg_snd_OgreWhat1 = nil
gg_snd_OgreWhat2 = nil
gg_snd_PitlordYesAttack2 = nil
gg_snd_CaptainWhat3 = nil
gg_snd_Sound_06291 = nil
gg_snd_GhoulWarcry1 = nil
gg_snd_Blood_omen_2__Battle_theme = ""
gg_snd_Varien___Born_Of_Blood__Risen_From_Ash = ""
gg_snd_All_Clear = ""
gg_trg_GoAway = nil
gg_trg_GoAway2 = nil
gg_trg_Gain = nil
gg_trg_DeathArmy = nil
gg_trg_Tips_1 = nil
gg_trg_Tips_2 = nil
gg_trg_Tips_3 = nil
gg_trg_Tips_4 = nil
gg_trg_Tips_5 = nil
gg_trg_Tips_6 = nil
gg_trg_Tips_7 = nil
gg_trg_Tips_8 = nil
gg_trg_Tips_9 = nil
gg_trg_Tips_10 = nil
gg_trg_Intro_1 = nil
gg_trg_Intro_2 = nil
gg_trg_Intro_3 = nil
gg_trg_Intro_4 = nil
gg_trg_CinematicStart = nil
gg_trg_TpToNecro = nil
gg_trg_TpToNecroDoor = nil
gg_trg_GuardLeave = nil
gg_trg_G_Button_1 = nil
gg_trg_G_Button_2 = nil
gg_trg_G_Button_3 = nil
gg_trg_G_Button_1_Left = nil
gg_trg_G_Button_Left_2 = nil
gg_trg_G_Button_Left_3 = nil
gg_trg_Closed1 = nil
gg_trg_RatKey = nil
gg_trg_RatKAggro = nil
gg_trg_Open_Pass_1 = nil
gg_trg_Key1 = nil
gg_trg_Key2 = nil
gg_trg_Key3 = nil
gg_trg_LightOn = nil
gg_trg_FirstDorHelper = nil
gg_trg_LightOff = nil
gg_trg_LightDamage = nil
gg_trg_Button_1 = nil
gg_trg_Button_4 = nil
gg_trg_Button_2 = nil
gg_trg_Button_3 = nil
gg_trg_Button_Fly = nil
gg_trg_OpenDoorLabirinthToBlue = nil
gg_trg_OpenDoorLabirinth = nil
gg_trg_Grave1 = nil
gg_trg_Grave2 = nil
gg_trg_Grave3 = nil
gg_trg_RedKey = nil
gg_trg_RedKeyDoor = nil
gg_trg_BlueKey = nil
gg_trg_BlueKeyDoor = nil
gg_trg_Portal1_Inn = nil
gg_trg_Respawn_rat = nil
gg_trg_Trap1 = nil
gg_trg_Trap1_Damage = nil
gg_trg_Trap2 = nil
gg_trg_Trap2_Damage = nil
gg_trg_Trap3 = nil
gg_trg_Trap3_Damage = nil
gg_trg_Button_Yard = nil
gg_trg_RemoveDark = nil
gg_trg_Button_5 = nil
gg_trg_ButtonMainGate = nil
gg_trg_Key_4 = nil
gg_trg_ShadowSpin = nil
gg_trg_AcidKeyDoor = nil
gg_trg_AcidKey = nil
gg_trg_ChurchCloseTo = nil
gg_trg_OpetToBoss = nil
gg_trg_BrokenLever = nil
gg_trg_CaveEnter = nil
gg_trg_CheckpointCave2 = nil
gg_trg_YellowKeyMaster = nil
gg_trg_YellowKey = nil
gg_trg_YellowKeyDoor = nil
gg_trg_BlackDoor = nil
gg_trg_BlackDoorIn = nil
gg_trg_BlackDoorOut = nil
gg_trg_StartOnce = nil
gg_trg_StartRepeat = nil
gg_trg_StartKain = nil
gg_trg_TraderRespawn = nil
gg_trg_Stop = nil
gg_trg_StopByDeath = nil
gg_trg_Skull1Drop = nil
gg_trg_Skull2Drop = nil
gg_trg_Skull3Drop = nil
gg_trg_KeyDrop = nil
gg_trg_Skull1 = nil
gg_trg_Skull2 = nil
gg_trg_Skull3 = nil
gg_trg_SkullTP = nil
gg_trg_BanditsRespawn = nil
gg_trg_Outro_1 = nil
gg_trg_Outro_Bandits = nil
gg_trg_Outro_2 = nil
gg_trg_Outro_3 = nil
gg_trg_Outro_4 = nil
gg_trg_Outro_5 = nil
gg_trg_Outro_5_Yes = nil
gg_trg_Outro_6 = nil
gg_trg_PreventFromLeaving = nil
gg_trg_CheckForEveryoneDeaths = nil
gg_trg_OpenBanditGate = nil
gg_trg_OpenBanditGate2 = nil
gg_trg_OpenBanditGate3 = nil
gg_trg_LightOnEgg = nil
gg_trg_LightOffEgg = nil
gg_trg_BergiCave = nil
gg_trg_Rabbits = nil
gg_trg_RabbitsEnd = nil
gg_trg_KotoBog = nil
gg_trg_xWizard = nil
gg_trg_MrOgreman = nil
gg_trg_xWizardRescue = nil
gg_trg_CATapult = nil
gg_trg_ExplodeStarcraft = nil
gg_trg_SelectHero = nil
gg_trg_Revive_victim = nil
gg_trg_Cry = nil
gg_trg_Kain_Laugh = nil
gg_trg_Enemy_Scream = nil
gg_trg_SkipIntro = nil
gg_trg_Fixed_Camera = nil
gg_trg_Kain_Dies = nil
gg_trg_Init = nil
gg_unit_hpea_0000 = nil
gg_unit_Hpal_0002 = nil
gg_unit_H000_0004 = nil
gg_unit_hfoo_0005 = nil
gg_unit_hfoo_0006 = nil
gg_unit_h001_0007 = nil
gg_item_manh_0008 = nil
gg_unit_n000_0032 = nil
gg_item_lmbr_0011 = nil
gg_unit_o003_0144 = nil
gg_unit_hprt_0060 = nil
gg_item_I000_0009 = nil
gg_unit_uplg_0418 = nil
gg_unit_unec_0406 = nil
gg_unit_n002_0069 = nil
gg_item_spsh_0071 = nil
gg_unit_opeo_0070 = nil
gg_unit_obot_0077 = nil
gg_unit_u005_0013 = nil
gg_unit_h00B_0051 = nil
gg_unit_u00B_0054 = nil
gg_unit_ocat_0161 = nil
gg_unit_u002_0163 = nil
gg_unit_u001_0047 = nil
gg_unit_u007_0313 = nil
gg_unit_hwt3_0119 = nil
gg_unit_zzrg_0301 = nil
gg_unit_hrif_0204 = nil
gg_unit_hrif_0225 = nil
gg_unit_hrif_0227 = nil
gg_unit_u007_0312 = nil
gg_item_I000_0287 = nil
gg_unit_o001_0294 = nil
gg_unit_n004_0296 = nil
gg_unit_zcso_0295 = nil
gg_unit_zcso_0297 = nil
gg_unit_zcso_0298 = nil
gg_unit_zzrg_0299 = nil
gg_unit_zzrg_0300 = nil
gg_unit_u009_0303 = nil
gg_unit_u009_0304 = nil
gg_unit_Giam_0440 = nil
gg_unit_u00A_0384 = nil
gg_unit_h00C_0341 = nil
gg_unit_n006_0049 = nil
gg_unit_n000_0061 = nil
gg_unit_u00D_0066 = nil
gg_unit_n008_0067 = nil
gg_unit_u000_0088 = nil
gg_unit_h00D_0132 = nil
gg_unit_h00F_0379 = nil
gg_unit_h00F_0469 = nil
gg_unit_h00F_0470 = nil
gg_unit_h00F_0471 = nil
gg_unit_h00F_0472 = nil
gg_unit_h00F_0473 = nil
gg_unit_h00F_0480 = nil
gg_unit_h00F_0380 = nil
gg_unit_h00F_0495 = nil
gg_unit_h00F_0496 = nil
gg_unit_h00F_0497 = nil
gg_unit_h00F_0498 = nil
gg_unit_h00F_0499 = nil
gg_item_I00C_0501 = nil
gg_dest_YTfb_1741 = nil
gg_dest_YTfb_1740 = nil
gg_dest_YTfb_1739 = nil
gg_dest_DTfx_14592 = nil
gg_dest_DTlv_4275 = nil
gg_dest_CTtc_0212 = nil
gg_dest_DTfx_0479 = nil
gg_dest_YTfb_0506 = nil
gg_dest_YTfb_0507 = nil
gg_dest_YTfb_0508 = nil
gg_dest_YTfb_0509 = nil
gg_dest_YY13_0211 = nil
gg_dest_YTfb_0595 = nil
gg_dest_YTfb_0596 = nil
gg_dest_YTfb_0597 = nil
gg_dest_YTfb_0598 = nil
gg_dest_DTlv_0696 = nil
gg_dest_YTfb_0972 = nil
gg_dest_YTfb_0973 = nil
gg_dest_YTfb_0974 = nil
gg_dest_YTfb_0975 = nil
gg_dest_YTfb_0976 = nil
gg_dest_YTfb_0977 = nil
gg_dest_YTfc_1351 = nil
gg_dest_YTfc_1352 = nil
gg_dest_YTfb_1353 = nil
gg_dest_YTfb_0703 = nil
gg_dest_YTfb_0704 = nil
gg_dest_YTfb_0705 = nil
gg_dest_B008_20585 = nil
gg_dest_YTfb_14487 = nil
gg_dest_YTfb_14486 = nil
gg_dest_YTfb_14485 = nil
gg_dest_YTfb_14488 = nil
gg_dest_DTfx_14591 = nil
gg_dest_B003_3904 = nil
gg_dest_B003_3905 = nil
gg_dest_B003_3906 = nil
gg_dest_DTfx_4421 = nil
gg_dest_YTfb_4504 = nil
gg_dest_YTfb_4505 = nil
gg_dest_YTfb_4506 = nil
gg_dest_DTlv_10970 = nil
gg_dest_DTfx_14593 = nil
gg_dest_B004_6078 = nil
gg_dest_B004_10353 = nil
gg_dest_YTfb_6073 = nil
gg_dest_YTfb_6074 = nil
gg_dest_YTfb_6075 = nil
gg_dest_YTfb_6076 = nil
gg_dest_DTg5_4525 = nil
gg_dest_YTfb_8452 = nil
gg_dest_YTfb_8453 = nil
gg_dest_YTfb_8454 = nil
gg_dest_YTfb_8523 = nil
gg_dest_DTlv_14661 = nil
gg_dest_YTfb_10005 = nil
gg_dest_YTfb_10009 = nil
gg_dest_YTfb_10010 = nil
gg_dest_B003_10418 = nil
gg_dest_DTfx_10185 = nil
gg_dest_DTlv_6072 = nil
gg_dest_DTg5_10374 = nil
gg_dest_DTlv_10436 = nil
gg_dest_YTfb_10520 = nil
gg_dest_YTfb_10522 = nil
gg_dest_YTfb_10521 = nil
gg_dest_YTfb_10519 = nil
gg_dest_YTfb_10855 = nil
gg_dest_YTfb_10856 = nil
gg_dest_YTfb_10854 = nil
gg_dest_DTfx_10977 = nil
gg_dest_YTfb_11006 = nil
gg_dest_YTfb_11007 = nil
gg_dest_YTfb_11008 = nil
gg_dest_YTfb_11009 = nil
gg_dest_YTfb_11168 = nil
gg_dest_YTfb_11169 = nil
gg_dest_YTfb_11170 = nil
gg_dest_YTfb_11586 = nil
gg_dest_YTfb_11587 = nil
gg_dest_YTfb_11588 = nil
gg_dest_YTfb_11589 = nil
gg_dest_YTfb_12133 = nil
gg_dest_YTfb_12134 = nil
gg_dest_YTfb_12135 = nil
gg_dest_YTfb_12136 = nil
gg_dest_YTfb_12242 = nil
gg_dest_YTfb_12243 = nil
gg_dest_YTfb_12244 = nil
gg_dest_YTfb_12245 = nil
gg_dest_DTlv_12259 = nil
gg_dest_YTfb_13079 = nil
gg_dest_YTfb_13080 = nil
gg_dest_YTfb_13081 = nil
gg_dest_YTfb_15275 = nil
gg_dest_YTfb_15274 = nil
gg_dest_YTfb_15273 = nil
gg_dest_YTfb_15272 = nil
gg_dest_DTg7_13495 = nil
gg_dest_B004_4256 = nil
gg_dest_YTfb_3746 = nil
gg_dest_YTfb_3781 = nil
gg_dest_YTfb_3779 = nil
gg_dest_B008_2929 = nil
gg_dest_DTlv_15491 = nil
gg_dest_CTtc_15827 = nil
gg_dest_YTfb_16985 = nil
gg_dest_YTfb_16986 = nil
gg_dest_YTfb_16987 = nil
gg_dest_YTfb_16988 = nil
gg_dest_YTfb_17008 = nil
gg_dest_DTlv_17404 = nil
gg_dest_LTrt_17524 = nil
gg_dest_YTfb_18039 = nil
gg_dest_YTfb_18040 = nil
gg_dest_YTfb_18041 = nil
gg_dest_B007_19692 = nil
gg_dest_YTfb_19804 = nil
gg_dest_YTfb_19805 = nil
gg_dest_YTfb_19806 = nil
gg_dest_YTfb_19807 = nil
gg_dest_B004_20476 = nil
gg_dest_DTlv_16350 = nil
gg_dest_YTfb_16554 = nil
gg_dest_YTfb_17362 = nil
gg_dest_YTfb_17364 = nil
gg_snd_Hollow_Knight_OST___Nosk__Boss_Theme_u = ""
gg_snd_Rayman_Origins_Soundtrack___Ocean_World__Moray_Boss = ""
function InitGlobals()
    udg_IntLightCheck = 0
    udg_Cat = 0
    udg_Random = 0
    udg_IsRatBlocked = false
    udg_Skulls = 0
    udg_xWizard = 0
    udg_FinalDialog = DialogCreate()
end

function InitSounds()
    gg_snd_Intro1 = CreateSound("war3mapImported\\Intro1.wav", false, false, false, 10, 10, "DefaultEAXON")
    SetSoundDuration(gg_snd_Intro1, 4593)
    SetSoundChannel(gg_snd_Intro1, 0)
    SetSoundVolume(gg_snd_Intro1, 127)
    SetSoundPitch(gg_snd_Intro1, 1.0)
    gg_snd_Intro2 = CreateSound("war3mapImported\\Intro2.wav", false, false, false, 10, 10, "DefaultEAXON")
    SetSoundDuration(gg_snd_Intro2, 9187)
    SetSoundChannel(gg_snd_Intro2, 0)
    SetSoundVolume(gg_snd_Intro2, 127)
    SetSoundPitch(gg_snd_Intro2, 1.0)
    gg_snd_Intro3 = CreateSound("war3mapImported\\Intro3.wav", false, false, false, 10, 10, "DefaultEAXON")
    SetSoundDuration(gg_snd_Intro3, 9187)
    SetSoundChannel(gg_snd_Intro3, 0)
    SetSoundVolume(gg_snd_Intro3, 127)
    SetSoundPitch(gg_snd_Intro3, 1.0)
    gg_snd_Intro4 = CreateSound("war3mapImported\\Intro4.wav", false, false, false, 10, 10, "DefaultEAXON")
    SetSoundDuration(gg_snd_Intro4, 9187)
    SetSoundChannel(gg_snd_Intro4, 0)
    SetSoundVolume(gg_snd_Intro4, 127)
    SetSoundPitch(gg_snd_Intro4, 1.0)
    gg_snd_Blood_Omen__Legacy_of_Kain___Solemn_Dirge__Willendorf_u = "war3mapImported\\Blood Omen_ Legacy of Kain - Solemn Dirge (Willendorf).mp3"
    gg_snd_Intro5 = CreateSound("war3mapImported\\Intro5.wav", false, false, false, 10, 10, "DefaultEAXON")
    SetSoundDuration(gg_snd_Intro5, 4593)
    SetSoundChannel(gg_snd_Intro5, 0)
    SetSoundVolume(gg_snd_Intro5, 127)
    SetSoundPitch(gg_snd_Intro5, 1.0)
    gg_snd_Intro6 = CreateSound("war3mapImported\\Intro6.wav", false, false, false, 10, 10, "DefaultEAXON")
    SetSoundDuration(gg_snd_Intro6, 4593)
    SetSoundChannel(gg_snd_Intro6, 0)
    SetSoundVolume(gg_snd_Intro6, 127)
    SetSoundPitch(gg_snd_Intro6, 1.0)
    gg_snd_Intro7 = CreateSound("war3mapImported\\Intro7.wav", false, false, false, 10, 10, "DefaultEAXON")
    SetSoundDuration(gg_snd_Intro7, 4593)
    SetSoundChannel(gg_snd_Intro7, 0)
    SetSoundVolume(gg_snd_Intro7, 127)
    SetSoundPitch(gg_snd_Intro7, 1.0)
    gg_snd_Intro8 = CreateSound("war3mapImported\\Intro8.wav", false, false, false, 10, 10, "DefaultEAXON")
    SetSoundDuration(gg_snd_Intro8, 6281)
    SetSoundChannel(gg_snd_Intro8, 0)
    SetSoundVolume(gg_snd_Intro8, 127)
    SetSoundPitch(gg_snd_Intro8, 1.0)
    gg_snd_Tips1 = CreateSound("war3mapImported\\Tips1.wav", false, false, false, 10, 10, "DefaultEAXON")
    SetSoundDuration(gg_snd_Tips1, 16776)
    SetSoundChannel(gg_snd_Tips1, 0)
    SetSoundVolume(gg_snd_Tips1, 127)
    SetSoundPitch(gg_snd_Tips1, 1.0)
    gg_snd_tremblement = CreateSound("war3mapImported\\tremblement.wav", false, false, false, 10, 10, "DefaultEAXON")
    SetSoundDuration(gg_snd_tremblement, 3832)
    SetSoundChannel(gg_snd_tremblement, 0)
    SetSoundVolume(gg_snd_tremblement, 127)
    SetSoundPitch(gg_snd_tremblement, 1.0)
    gg_snd_Tips2 = CreateSound("war3mapImported\\Tips2.wav", false, false, false, 10, 10, "DefaultEAXON")
    SetSoundDuration(gg_snd_Tips2, 6501)
    SetSoundChannel(gg_snd_Tips2, 0)
    SetSoundVolume(gg_snd_Tips2, 127)
    SetSoundPitch(gg_snd_Tips2, 1.0)
    gg_snd_Blood_Omen__Legacy_of_Kain___Kain_s_Mausoleum = "war3mapImported\\Blood Omen_ Legacy of Kain - Kain's Mausoleum.mp3"
    gg_snd_Tavern1 = CreateSound("war3mapImported/Tavern1.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_Tavern1, 4728)
    SetSoundChannel(gg_snd_Tavern1, 0)
    SetSoundVolume(gg_snd_Tavern1, 127)
    SetSoundPitch(gg_snd_Tavern1, 1.0)
    gg_snd_Tavern2 = CreateSound("war3mapImported/Tavern2.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_Tavern2, 8512)
    SetSoundChannel(gg_snd_Tavern2, 0)
    SetSoundVolume(gg_snd_Tavern2, 127)
    SetSoundPitch(gg_snd_Tavern2, 1.0)
    gg_snd_Tavern3 = CreateSound("war3mapImported/Tavern3.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_Tavern3, 7665)
    SetSoundChannel(gg_snd_Tavern3, 0)
    SetSoundVolume(gg_snd_Tavern3, 127)
    SetSoundPitch(gg_snd_Tavern3, 1.0)
    gg_snd_Tavern4 = CreateSound("war3mapImported/Tavern4.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_Tavern4, 8810)
    SetSoundChannel(gg_snd_Tavern4, 0)
    SetSoundVolume(gg_snd_Tavern4, 127)
    SetSoundPitch(gg_snd_Tavern4, 1.0)
    gg_snd_Murder1 = CreateSound("war3mapImported/Murder1.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_Murder1, 1144)
    SetSoundChannel(gg_snd_Murder1, 0)
    SetSoundVolume(gg_snd_Murder1, 127)
    SetSoundPitch(gg_snd_Murder1, 1.0)
    gg_snd_Murder2 = CreateSound("war3mapImported/Murder2.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_Murder2, 2215)
    SetSoundChannel(gg_snd_Murder2, 0)
    SetSoundVolume(gg_snd_Murder2, 127)
    SetSoundPitch(gg_snd_Murder2, 1.0)
    gg_snd_Kain1 = CreateSound("war3mapImported/Kain1.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_Kain1, 6744)
    SetSoundChannel(gg_snd_Kain1, 0)
    SetSoundVolume(gg_snd_Kain1, 127)
    SetSoundPitch(gg_snd_Kain1, 1.0)
    gg_snd_Kain2 = CreateSound("war3mapImported/Kain2.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_Kain2, 16451)
    SetSoundChannel(gg_snd_Kain2, 0)
    SetSoundVolume(gg_snd_Kain2, 127)
    SetSoundPitch(gg_snd_Kain2, 1.0)
    gg_snd_Kain3 = CreateSound("war3mapImported/Kain3.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_Kain3, 6583)
    SetSoundChannel(gg_snd_Kain3, 0)
    SetSoundVolume(gg_snd_Kain3, 127)
    SetSoundPitch(gg_snd_Kain3, 1.0)
    gg_snd_cat_y = CreateSound("war3mapImported/cat_y.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_cat_y, 4445)
    SetSoundChannel(gg_snd_cat_y, 0)
    SetSoundVolume(gg_snd_cat_y, 127)
    SetSoundPitch(gg_snd_cat_y, 1.0)
    gg_snd_Kain4Mana = CreateSound("war3mapImported/Kain4Mana.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_Kain4Mana, 9142)
    SetSoundChannel(gg_snd_Kain4Mana, 0)
    SetSoundVolume(gg_snd_Kain4Mana, 127)
    SetSoundPitch(gg_snd_Kain4Mana, 1.0)
    gg_snd_Kain5Light = CreateSound("war3mapImported/Kain5Light.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_Kain5Light, 14961)
    SetSoundChannel(gg_snd_Kain5Light, 0)
    SetSoundVolume(gg_snd_Kain5Light, 127)
    SetSoundPitch(gg_snd_Kain5Light, 1.0)
    gg_snd_102__Awakening = "war3mapImported/102. Awakening.mp3"
    gg_snd_Kain6Rain = CreateSound("war3mapImported/Kain6Rain.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_Kain6Rain, 6446)
    SetSoundChannel(gg_snd_Kain6Rain, 0)
    SetSoundVolume(gg_snd_Kain6Rain, 127)
    SetSoundPitch(gg_snd_Kain6Rain, 1.0)
    gg_snd_SoundsKainLaugh = CreateSound("war3mapImported/SoundsKainLaugh.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_SoundsKainLaugh, 3182)
    SetSoundChannel(gg_snd_SoundsKainLaugh, 0)
    SetSoundVolume(gg_snd_SoundsKainLaugh, 127)
    SetSoundPitch(gg_snd_SoundsKainLaugh, 1.0)
    gg_snd_Enemy = CreateSound("war3mapImported/Enemy.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_Enemy, 2082)
    SetSoundChannel(gg_snd_Enemy, 0)
    SetSoundVolume(gg_snd_Enemy, 127)
    SetSoundPitch(gg_snd_Enemy, 1.0)
    gg_snd_BattleNetDoorsStereo2 = CreateSound("Sound/Interface/BattleNetDoorsStereo2.flac", false, false, false, 0, 0, "SpellsEAX")
    SetSoundParamsFromLabel(gg_snd_BattleNetDoorsStereo2, "GlueScreenBNetSlam")
    SetSoundDuration(gg_snd_BattleNetDoorsStereo2, 2645)
    SetSoundVolume(gg_snd_BattleNetDoorsStereo2, 127)
    gg_snd_PeonPissed4 = CreateSound("Units/Orc/Peon/PeonPissed4.flac", false, true, true, 0, 0, "DefaultEAXON")
    SetSoundParamsFromLabel(gg_snd_PeonPissed4, "PeonPissed")
    SetSoundDuration(gg_snd_PeonPissed4, 2352)
    SetSoundVolume(gg_snd_PeonPissed4, 127)
    gg_snd_PeonPissed3 = CreateSound("Units/Orc/Peon/PeonPissed3.flac", false, true, true, 0, 0, "DefaultEAXON")
    SetSoundParamsFromLabel(gg_snd_PeonPissed3, "PeonPissed")
    SetSoundDuration(gg_snd_PeonPissed3, 1551)
    SetSoundVolume(gg_snd_PeonPissed3, 127)
    gg_snd_KainRessurect = CreateSound("war3mapImported/KainRessurect.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_KainRessurect, 6684)
    SetSoundChannel(gg_snd_KainRessurect, 0)
    SetSoundVolume(gg_snd_KainRessurect, 127)
    SetSoundPitch(gg_snd_KainRessurect, 1.0)
    gg_snd_Cry = CreateSound("war3mapImported/Cry.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_Cry, 2805)
    SetSoundChannel(gg_snd_Cry, 0)
    SetSoundVolume(gg_snd_Cry, 127)
    SetSoundPitch(gg_snd_Cry, 1.0)
    gg_snd_KainRevenge = CreateSound("war3mapImported/KainRevenge.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_KainRevenge, 8068)
    SetSoundChannel(gg_snd_KainRevenge, 0)
    SetSoundVolume(gg_snd_KainRevenge, 127)
    SetSoundPitch(gg_snd_KainRevenge, 1.0)
    gg_snd_NecromancerYesAttack3 = CreateSound("Units/Undead/Necromancer/NecromancerYesAttack3.flac", false, true, true, 0, 0, "DefaultEAXON")
    SetSoundParamsFromLabel(gg_snd_NecromancerYesAttack3, "NecromancerYesAttack")
    SetSoundDuration(gg_snd_NecromancerYesAttack3, 2216)
    SetSoundVolume(gg_snd_NecromancerYesAttack3, 127)
    gg_snd_KelThuzadDeath1 = CreateSound("Sound/Dialogue/Extra/KelThuzadDeath1.flac", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundParamsFromLabel(gg_snd_KelThuzadDeath1, "KelThuzadDeath1")
    SetSoundDuration(gg_snd_KelThuzadDeath1, 2977)
    SetSoundVolume(gg_snd_KelThuzadDeath1, 120)
    gg_snd_UndeadDissipate2 = CreateSound("Sound/Units/Undead/Dissipate/UndeadDissipate2.flac", false, true, true, 0, 0, "DefaultEAXON")
    SetSoundParamsFromLabel(gg_snd_UndeadDissipate2, "UndeadDissipate")
    SetSoundDuration(gg_snd_UndeadDissipate2, 3612)
    SetSoundVolume(gg_snd_UndeadDissipate2, 127)
    gg_snd_BattleNetDoorsStereo201 = CreateSound("Sound/Interface/BattleNetDoorsStereo2.flac", false, false, false, 0, 0, "SpellsEAX")
    SetSoundParamsFromLabel(gg_snd_BattleNetDoorsStereo201, "GlueScreenBNetSlam")
    SetSoundDuration(gg_snd_BattleNetDoorsStereo201, 2645)
    SetSoundVolume(gg_snd_BattleNetDoorsStereo201, 127)
    gg_snd_MetalHeavySliceFlesh1 = CreateSound("Sound/Units/Combat/MetalHeavySliceFlesh1.flac", false, true, true, 0, 0, "CombatSoundsEAX")
    SetSoundParamsFromLabel(gg_snd_MetalHeavySliceFlesh1, "MetalHeavySliceFlesh")
    SetSoundDuration(gg_snd_MetalHeavySliceFlesh1, 1104)
    SetSoundVolume(gg_snd_MetalHeavySliceFlesh1, 95)
    gg_snd_103__The_Road_to_Vengeance = "war3mapImported/103. The Road to Vengeance.mp3"
    gg_snd_104__Nupraptor_s_Theme = "war3mapImported/104. Nupraptor's Theme.mp3"
    gg_snd_KainMindControl = CreateSound("war3mapImported/KainMindControl.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_KainMindControl, 11058)
    SetSoundChannel(gg_snd_KainMindControl, 0)
    SetSoundVolume(gg_snd_KainMindControl, 127)
    SetSoundPitch(gg_snd_KainMindControl, 1.0)
    gg_snd_KainSpear = CreateSound("war3mapImported/KainSpear.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_KainSpear, 3819)
    SetSoundChannel(gg_snd_KainSpear, 0)
    SetSoundVolume(gg_snd_KainSpear, 127)
    SetSoundPitch(gg_snd_KainSpear, 1.0)
    gg_snd_KainBatForm = CreateSound("war3mapImported/KainBatForm.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_KainBatForm, 7715)
    SetSoundChannel(gg_snd_KainBatForm, 0)
    SetSoundVolume(gg_snd_KainBatForm, 127)
    SetSoundPitch(gg_snd_KainBatForm, 1.0)
    gg_snd_KainBrigand1 = CreateSound("war3mapImported/KainBrigand1.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_KainBrigand1, 1842)
    SetSoundChannel(gg_snd_KainBrigand1, 0)
    SetSoundVolume(gg_snd_KainBrigand1, 127)
    SetSoundPitch(gg_snd_KainBrigand1, 1.0)
    gg_snd_KainBrigand2 = CreateSound("war3mapImported/KainBrigand2.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_KainBrigand2, 2391)
    SetSoundChannel(gg_snd_KainBrigand2, 0)
    SetSoundVolume(gg_snd_KainBrigand2, 127)
    SetSoundPitch(gg_snd_KainBrigand2, 1.0)
    gg_snd_KainBrigand3 = CreateSound("war3mapImported/KainBrigand3.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_KainBrigand3, 2626)
    SetSoundChannel(gg_snd_KainBrigand3, 0)
    SetSoundVolume(gg_snd_KainBrigand3, 127)
    SetSoundPitch(gg_snd_KainBrigand3, 1.0)
    gg_snd_KainBrigand4 = CreateSound("war3mapImported/KainBrigand4.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_KainBrigand4, 4298)
    SetSoundChannel(gg_snd_KainBrigand4, 0)
    SetSoundVolume(gg_snd_KainBrigand4, 127)
    SetSoundPitch(gg_snd_KainBrigand4, 1.0)
    gg_snd_KainKilled1 = CreateSound("war3mapImported/KainKilled1.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_KainKilled1, 10280)
    SetSoundChannel(gg_snd_KainKilled1, 0)
    SetSoundVolume(gg_snd_KainKilled1, 127)
    SetSoundPitch(gg_snd_KainKilled1, 1.0)
    gg_snd_KainKilled2 = CreateSound("war3mapImported/KainKilled2.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_KainKilled2, 8895)
    SetSoundChannel(gg_snd_KainKilled2, 0)
    SetSoundVolume(gg_snd_KainKilled2, 127)
    SetSoundPitch(gg_snd_KainKilled2, 1.0)
    gg_snd_Outro = CreateSound("war3mapImported/Outro.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_Outro, 14851)
    SetSoundChannel(gg_snd_Outro, 0)
    SetSoundVolume(gg_snd_Outro, 127)
    SetSoundPitch(gg_snd_Outro, 1.0)
    gg_snd_KainLighting = CreateSound("war3mapImported/KainLighting.wav", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_KainLighting, 9636)
    SetSoundChannel(gg_snd_KainLighting, 0)
    SetSoundVolume(gg_snd_KainLighting, 127)
    SetSoundPitch(gg_snd_KainLighting, 1.0)
    gg_snd_U01Peasant15A = CreateSound("Sound/Dialogue/UndeadCampaign/Undead01/U01Peasant15A.flac", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundParamsFromLabel(gg_snd_U01Peasant15A, "U01Peasant15A")
    SetSoundDuration(gg_snd_U01Peasant15A, 4127)
    SetSoundVolume(gg_snd_U01Peasant15A, 120)
    gg_snd_U01Peasant15B = CreateSound("Sound/Dialogue/UndeadCampaign/Undead01/U01Peasant15B.flac", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundParamsFromLabel(gg_snd_U01Peasant15B, "U01Peasant15B")
    SetSoundDuration(gg_snd_U01Peasant15B, 4911)
    SetSoundVolume(gg_snd_U01Peasant15B, 120)
    gg_snd_U01Peasant15C = CreateSound("Sound/Dialogue/UndeadCampaign/Undead01/U01Peasant15C.flac", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundParamsFromLabel(gg_snd_U01Peasant15C, "U01Peasant15C")
    SetSoundDuration(gg_snd_U01Peasant15C, 4937)
    SetSoundVolume(gg_snd_U01Peasant15C, 120)
    gg_snd_HeroStep4 = CreateSound("Sound/Units/Footsteps/HeroStep4.flac", false, true, true, 0, 0, "SpellsEAX")
    SetSoundParamsFromLabel(gg_snd_HeroStep4, "HeroCinematicStep2")
    SetSoundDuration(gg_snd_HeroStep4, 229)
    SetSoundVolume(gg_snd_HeroStep4, 100)
    gg_snd_HeroLichReady1 = CreateSound("Units/Undead/HeroLich/HeroLichReady1.flac", false, true, true, 0, 0, "HeroAcksEAX")
    SetSoundParamsFromLabel(gg_snd_HeroLichReady1, "HeroLichReady")
    SetSoundDuration(gg_snd_HeroLichReady1, 4336)
    SetSoundVolume(gg_snd_HeroLichReady1, 127)
    gg_snd_OgreWhat1 = CreateSound("Units/Creeps/Ogre/OgreWhat1.flac", false, true, true, 0, 0, "DefaultEAXON")
    SetSoundParamsFromLabel(gg_snd_OgreWhat1, "OgreOneHeadWhat")
    SetSoundDuration(gg_snd_OgreWhat1, 2554)
    SetSoundVolume(gg_snd_OgreWhat1, 127)
    gg_snd_OgreWhat2 = CreateSound("Units/Creeps/Ogre/OgreWhat2.flac", false, true, true, 0, 0, "DefaultEAXON")
    SetSoundParamsFromLabel(gg_snd_OgreWhat2, "OgreOneHeadWhat")
    SetSoundDuration(gg_snd_OgreWhat2, 1764)
    SetSoundVolume(gg_snd_OgreWhat2, 127)
    gg_snd_PitlordYesAttack2 = CreateSound("Units/Demon/Pitlord/PitlordYesAttack2.flac", false, true, true, 0, 0, "DefaultEAXON")
    SetSoundParamsFromLabel(gg_snd_PitlordYesAttack2, "PitLordYesAttack")
    SetSoundDuration(gg_snd_PitlordYesAttack2, 3537)
    SetSoundVolume(gg_snd_PitlordYesAttack2, 90)
    gg_snd_CaptainWhat3 = CreateSound("Units/Human/TheCaptain/CaptainWhat3.flac", false, true, true, 0, 0, "HeroAcksEAX")
    SetSoundParamsFromLabel(gg_snd_CaptainWhat3, "CaptainWhat")
    SetSoundDuration(gg_snd_CaptainWhat3, 463)
    SetSoundVolume(gg_snd_CaptainWhat3, 127)
    gg_snd_Sound_06291 = CreateSound("war3mapImported/Sound_06291.mp3", false, false, false, 0, 0, "DefaultEAXON")
    SetSoundDuration(gg_snd_Sound_06291, 23144)
    SetSoundChannel(gg_snd_Sound_06291, 0)
    SetSoundVolume(gg_snd_Sound_06291, 127)
    SetSoundPitch(gg_snd_Sound_06291, 1.0)
    gg_snd_GhoulWarcry1 = CreateSound("Units/Undead/Ghoul/GhoulWarcry1.flac", false, true, true, 0, 0, "DefaultEAXON")
    SetSoundParamsFromLabel(gg_snd_GhoulWarcry1, "GhoulWarcry")
    SetSoundDuration(gg_snd_GhoulWarcry1, 2995)
    SetSoundVolume(gg_snd_GhoulWarcry1, 127)
    gg_snd_Blood_omen_2__Battle_theme = "war3mapImported/Blood omen 2_ Battle theme.mp3"
    gg_snd_Varien___Born_Of_Blood__Risen_From_Ash = "war3mapImported/Varien - Born Of Blood, Risen From Ash.mp3"
    gg_snd_All_Clear = "war3mapImported/All Clear.mp3"
    gg_snd_Hollow_Knight_OST___Nosk__Boss_Theme_u = "war3mapImported/Hollow Knight OST - Nosk (Boss Theme).mp3"
    gg_snd_Rayman_Origins_Soundtrack___Ocean_World__Moray_Boss = "war3mapImported/Rayman Origins Soundtrack - Ocean World_ Moray Boss.mp3"
end

function CreateAllDestructables()
    local d
    local t
    local life
    gg_dest_B003_10418 = BlzCreateDestructableZWithSkin(FourCC("B003"), 10135.5, -2957.0, 568.6, 0.000, 0.500, 0, FourCC("B003"))
    gg_dest_B003_3904 = BlzCreateDestructableZWithSkin(FourCC("B003"), 772.3, 8500.6, 656.8, 180.000, 0.500, 0, FourCC("B003"))
    gg_dest_B003_3906 = BlzCreateDestructableZWithSkin(FourCC("B003"), 785.6, 8038.8, 663.3, 180.287, 0.500, 0, FourCC("B003"))
    gg_dest_B003_3905 = BlzCreateDestructableZWithSkin(FourCC("B003"), 778.2, 8281.3, 663.3, 181.177, 0.500, 0, FourCC("B003"))
    gg_dest_B004_4256 = BlzCreateDestructableZWithSkin(FourCC("B004"), 801.5, 6531.2, 701.6, 90.000, 2.300, 0, FourCC("B004"))
    gg_dest_B004_6078 = BlzCreateDestructableZWithSkin(FourCC("B004"), 2510.8, 1817.2, 928.0, 268.725, 5.000, 0, FourCC("B004"))
    gg_dest_B004_20476 = BlzCreateDestructableZWithSkin(FourCC("B004"), 1271.0, 6528.7, 695.3, 90.000, 2.300, 0, FourCC("B004"))
    gg_dest_B004_10353 = BlzCreateDestructableZWithSkin(FourCC("B004"), 8967.1, -1451.4, 641.8, 270.000, 3.500, 0, FourCC("B004"))
    gg_dest_B007_19692 = BlzCreateDestructableZWithSkin(FourCC("B007"), 13408.0, 3424.0, 507.6, 180.000, 1.500, 0, FourCC("B007"))
    gg_dest_B008_20585 = BlzCreateDestructableZWithSkin(FourCC("B008"), -3232.0, 3680.0, 503.3, 355.588, 1.000, 0, FourCC("B008"))
    gg_dest_B008_2929 = BlzCreateDestructableWithSkin(FourCC("B008"), -1952.0, 2912.0, 355.588, 1.000, 0, FourCC("B008"))
    gg_dest_CTtc_0212 = BlzCreateDestructableWithSkin(FourCC("CTtc"), 416.0, -2464.0, 270.000, 1.687, 2, FourCC("CTtc"))
    gg_dest_CTtc_15827 = BlzCreateDestructableZWithSkin(FourCC("CTtc"), -4320.0, 9120.0, 189.2, 270.000, 1.687, 2, FourCC("CTtc"))
    gg_dest_DTfx_14593 = BlzCreateDestructableWithSkin(FourCC("DTfx"), 5248.0, 6784.0, 270.000, 1.000, 0, FourCC("DTfx"))
    gg_dest_DTfx_14592 = BlzCreateDestructableWithSkin(FourCC("DTfx"), 4864.0, 7296.0, 270.000, 1.000, 0, FourCC("DTfx"))
    gg_dest_DTfx_14591 = BlzCreateDestructableWithSkin(FourCC("DTfx"), 5632.0, 7296.0, 270.000, 1.000, 0, FourCC("DTfx"))
    gg_dest_DTfx_10185 = BlzCreateDestructableWithSkin(FourCC("DTfx"), 8576.0, -1152.0, 270.000, 1.000, 0, FourCC("DTfx"))
    gg_dest_DTfx_0479 = BlzCreateDestructableZWithSkin(FourCC("DTfx"), 448.0, 6528.0, 567.3, 270.000, 1.000, 0, FourCC("DTfx"))
    gg_dest_DTfx_10977 = BlzCreateDestructableWithSkin(FourCC("DTfx"), 4864.0, 6400.0, 270.000, 1.000, 0, FourCC("DTfx"))
    gg_dest_DTfx_4421 = BlzCreateDestructableWithSkin(FourCC("DTfx"), 3392.0, 3520.0, 270.000, 1.000, 0, FourCC("DTfx"))
    gg_dest_DTg5_10374 = BlzCreateDestructableWithSkin(FourCC("DTg5"), 9344.0, -1024.0, 270.000, 0.900, 0, FourCC("DTg5"))
    gg_dest_DTg5_4525 = BlzCreateDestructableZWithSkin(FourCC("DTg5"), 9600.0, 3264.0, 477.7, 270.000, 0.900, 0, FourCC("DTg5"))
    gg_dest_DTg7_13495 = BlzCreateDestructableWithSkin(FourCC("DTg7"), 3264.0, 11136.0, 0.000, 0.900, 0, FourCC("DTg7"))
    gg_dest_DTlv_16350 = BlzCreateDestructableWithSkin(FourCC("DTlv"), -1120.0, 11488.0, 90.593, 1.500, 0, FourCC("DTlv"))
    gg_dest_DTlv_10970 = BlzCreateDestructableWithSkin(FourCC("DTlv"), 9952.0, -1312.0, 90.193, 1.500, 0, FourCC("DTlv"))
    gg_dest_DTlv_12259 = BlzCreateDestructableZWithSkin(FourCC("DTlv"), 1056.0, 8032.0, 503.3, 180.000, 1.500, 0, FourCC("DTlv"))
    gg_dest_DTlv_6072 = BlzCreateDestructableWithSkin(FourCC("DTlv"), 4448.0, 2656.0, 269.772, 1.500, 0, FourCC("DTlv"))
    gg_dest_DTlv_14661 = BlzCreateDestructableZWithSkin(FourCC("DTlv"), 4768.0, -3168.0, 366.6, 55.257, 1.500, 0, FourCC("DTlv"))
    gg_dest_DTlv_15491 = BlzCreateDestructableWithSkin(FourCC("DTlv"), 3232.0, 10784.0, 0.581, 1.500, 0, FourCC("DTlv"))
    gg_dest_DTlv_4275 = BlzCreateDestructableWithSkin(FourCC("DTlv"), 2976.0, 6304.0, 0.613, 1.500, 0, FourCC("DTlv"))
    gg_dest_DTlv_17404 = BlzCreateDestructableWithSkin(FourCC("DTlv"), -2592.0, 10400.0, 180.326, 1.500, 0, FourCC("DTlv"))
    gg_dest_DTlv_0696 = BlzCreateDestructableWithSkin(FourCC("DTlv"), -2336.0, 2976.0, 43.000, 1.500, 0, FourCC("DTlv"))
    gg_dest_DTlv_10436 = BlzCreateDestructableZWithSkin(FourCC("DTlv"), 10848.0, -3360.0, 628.8, 180.000, 1.500, 0, FourCC("DTlv"))
    gg_dest_LTrt_17524 = BlzCreateDestructableZWithSkin(FourCC("LTrt"), 6344.4, 7851.8, 778.4, 61.958, 4.000, 3, FourCC("LTrt"))
    gg_dest_YTfb_14486 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 9376.0, -992.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_14487 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 9312.0, -992.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_0705 = BlzCreateDestructableWithSkin(FourCC("YTfb"), -992.0, -672.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_0704 = BlzCreateDestructableWithSkin(FourCC("YTfb"), -864.0, -672.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_0703 = BlzCreateDestructableWithSkin(FourCC("YTfb"), -928.0, -672.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_4504 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 2784.0, 4384.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_4505 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 2848.0, 4384.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_4506 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 2912.0, 4384.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_1353 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), 2016.0, 7200.0, 509.6, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_16554 = BlzCreateDestructableWithSkin(FourCC("YTfb"), -864.0, 11232.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_0977 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), -1376.0, 8032.0, 765.7, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_0976 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), -1376.0, 7904.0, 765.7, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_6073 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 2528.0, 1824.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_6074 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 2528.0, 1888.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_6075 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 2528.0, 1952.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_6076 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 2528.0, 2016.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_0975 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), -1376.0, 8096.0, 765.7, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_8452 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 5344.0, 1312.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_8453 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 5344.0, 1248.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_8454 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 5344.0, 1184.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_8523 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 5344.0, 1120.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_0974 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), -1376.0, 7968.0, 765.7, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_10005 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 6624.0, -3424.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_10009 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 6624.0, -3360.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_10010 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 6624.0, -3296.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_0973 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), -1376.0, 7840.0, 765.7, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_0972 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), -1376.0, 7776.0, 765.7, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_0598 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), 736.0, 6496.0, 765.7, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_0597 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), 736.0, 6432.0, 765.7, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_1741 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), 1824.0, 6304.0, 509.6, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_10520 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 10080.0, -2208.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_10522 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 10080.0, -2080.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_10521 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 10080.0, -2144.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_10519 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 10080.0, -2272.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_10855 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 10080.0, -2720.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_10856 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 10080.0, -2656.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_10854 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 10080.0, -2784.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_0596 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), 736.0, 6368.0, 765.7, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_11006 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 4192.0, 6048.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_14488 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 9248.0, -992.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_11008 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 4128.0, 6048.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_11009 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 4000.0, 6048.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_11168 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 9824.0, -1824.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_11169 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 9760.0, -1824.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_11170 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 9696.0, -1824.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_11586 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 9504.0, -96.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_11587 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 9568.0, -96.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_11588 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 9632.0, -96.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_11589 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 9696.0, -96.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_12133 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 1312.0, 8480.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_12134 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 1312.0, 8544.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_12135 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 1312.0, 8608.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_12136 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 1312.0, 8672.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_12242 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 3296.0, 7392.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_12243 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 3296.0, 7328.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_12244 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 3296.0, 7264.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_12245 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 3296.0, 7200.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_0595 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), 736.0, 6304.0, 765.7, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_13079 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 6432.0, 7904.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_13080 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 6368.0, 7968.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_13081 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 6304.0, 8032.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_15275 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 3232.0, 11232.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_15274 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 3232.0, 11168.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_15273 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 3232.0, 11104.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_15272 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 3232.0, 11040.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_17362 = BlzCreateDestructableWithSkin(FourCC("YTfb"), -928.0, 11168.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_0509 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), -1760.0, 6432.0, 765.7, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_3746 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 5984.0, 7776.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_3781 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 6048.0, 7776.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_3779 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 6048.0, 7712.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_0508 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), -1760.0, 6496.0, 765.7, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_0507 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), -1760.0, 6560.0, 765.7, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_0506 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), -1760.0, 6624.0, 765.7, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_16985 = BlzCreateDestructableWithSkin(FourCC("YTfb"), -2528.0, 11232.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_16986 = BlzCreateDestructableWithSkin(FourCC("YTfb"), -2528.0, 11296.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_16987 = BlzCreateDestructableWithSkin(FourCC("YTfb"), -2528.0, 11360.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_16988 = BlzCreateDestructableWithSkin(FourCC("YTfb"), -2528.0, 11424.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_17008 = BlzCreateDestructableWithSkin(FourCC("YTfb"), -2272.0, 11872.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_1739 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), 1824.0, 6432.0, 509.6, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_11007 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 4064.0, 6048.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_18039 = BlzCreateDestructableWithSkin(FourCC("YTfb"), -992.0, -608.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_18040 = BlzCreateDestructableWithSkin(FourCC("YTfb"), -928.0, -608.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_18041 = BlzCreateDestructableWithSkin(FourCC("YTfb"), -864.0, -608.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_1740 = BlzCreateDestructableZWithSkin(FourCC("YTfb"), 1824.0, 6368.0, 509.6, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_19804 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 13280.0, 3808.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_19805 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 13280.0, 3744.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_19806 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 13280.0, 3680.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_19807 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 13280.0, 3616.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_14485 = BlzCreateDestructableWithSkin(FourCC("YTfb"), 9440.0, -992.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfb_17364 = BlzCreateDestructableWithSkin(FourCC("YTfb"), -992.0, 11104.0, 270.000, 1.000, 0, FourCC("YTfb"))
    gg_dest_YTfc_1351 = BlzCreateDestructableZWithSkin(FourCC("YTfc"), 2048.0, 7424.0, 765.7, 270.000, 1.000, 0, FourCC("YTfc"))
    gg_dest_YTfc_1352 = BlzCreateDestructableZWithSkin(FourCC("YTfc"), 2048.0, 7296.0, 765.7, 270.000, 1.000, 0, FourCC("YTfc"))
    gg_dest_YY13_0211 = BlzCreateDestructableZWithSkin(FourCC("YY13"), -1696.0, -2656.0, 187.8, 0.000, 1.000, 0, FourCC("YY13"))
end

function CreateAllItems()
    local itemID
    gg_item_I000_0009 = BlzCreateItemWithSkin(FourCC("I000"), 2505.5, 6731.0, FourCC("I000"))
    gg_item_I000_0287 = BlzCreateItemWithSkin(FourCC("I000"), 3776.4, 2780.6, FourCC("I000"))
    BlzCreateItemWithSkin(FourCC("I005"), 457.1, 5047.5, FourCC("I005"))
    BlzCreateItemWithSkin(FourCC("I009"), 14258.4, 6786.8, FourCC("I009"))
    gg_item_I00C_0501 = BlzCreateItemWithSkin(FourCC("I00C"), 14722.8, 378.1, FourCC("I00C"))
    gg_item_lmbr_0011 = BlzCreateItemWithSkin(FourCC("lmbr"), -907.0, 5024.4, FourCC("lmbr"))
    BlzCreateItemWithSkin(FourCC("lmbr"), 1467.2, 9945.6, FourCC("lmbr"))
    BlzCreateItemWithSkin(FourCC("lmbr"), 8419.4, 2372.8, FourCC("lmbr"))
    BlzCreateItemWithSkin(FourCC("lmbr"), 1288.9, 6717.0, FourCC("lmbr"))
    BlzCreateItemWithSkin(FourCC("lmbr"), 820.0, 3122.4, FourCC("lmbr"))
    BlzCreateItemWithSkin(FourCC("lmbr"), 8382.8, 5447.7, FourCC("lmbr"))
    BlzCreateItemWithSkin(FourCC("lmbr"), 8022.5, 8945.3, FourCC("lmbr"))
    BlzCreateItemWithSkin(FourCC("lmbr"), 7945.6, -1269.0, FourCC("lmbr"))
    gg_item_manh_0008 = BlzCreateItemWithSkin(FourCC("manh"), -767.0, 8480.5, FourCC("manh"))
    BlzCreateItemWithSkin(FourCC("manh"), 8175.6, 451.6, FourCC("manh"))
    BlzCreateItemWithSkin(FourCC("ratf"), 5253.3, 7330.2, FourCC("ratf"))
    BlzCreateItemWithSkin(FourCC("rwiz"), 10271.5, -1672.2, FourCC("rwiz"))
    gg_item_spsh_0071 = BlzCreateItemWithSkin(FourCC("spsh"), 3070.0, 1774.1, FourCC("spsh"))
end

function CreateBuildingsForPlayer0()
    local p = Player(0)
    local u
    local unitID
    local t
    local life
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -2089.7, 2514.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -2242.5, 2490.4, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -2422.2, 2490.8, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -2597.5, 2530.9, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -2754.9, 2621.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -2055.5, 2554.4, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -1889.4, 2528.2, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 6136.0, 3685.3, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 6351.4, 3678.3, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 6767.2, 3690.0, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 5953.2, 3595.3, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 5853.0, 3425.6, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 5679.6, 3345.8, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 5564.2, 3154.3, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 5508.0, 3013.4, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 6021.0, 3143.2, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 4561.3, 2649.0, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -22.6, -2187.6, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -157.7, -2061.8, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -138.4, -1854.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 834.0, -1151.7, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 680.2, -1426.5, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 970.7, -1063.8, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 671.9, -1330.2, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -1396.9, -2677.5, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -1279.6, -2849.3, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -1183.4, -3069.4, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -1093.1, -3093.4, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -898.2, -2957.5, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -1046.2, -2890.6, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -775.7, -3066.4, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -631.9, -3160.5, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -806.6, -3273.2, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -484.2, -2871.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -1631.4, 3184.2, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 7250.7, 4459.5, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 7362.3, 4336.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 7392.8, 3265.3, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 7466.1, 3338.5, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 7274.3, 3138.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 7475.0, 3539.5, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 7471.8, 3681.3, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 7508.9, 3855.6, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8050.2, 3044.7, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 7982.7, 3249.7, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8460.5, 3493.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8633.7, 3469.0, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8218.3, 2999.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8019.2, 3455.5, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8087.1, 3593.8, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8276.0, 2808.6, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -1931.7, 2637.8, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -2328.1, 3029.4, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -2499.3, 3110.5, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 7846.3, 2381.8, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8034.7, 2304.7, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 7897.6, 2437.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8197.2, 2269.8, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8301.0, 2125.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8442.5, 2168.3, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8589.1, 2117.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8652.4, 2163.3, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8815.3, 2042.5, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8964.5, 2027.6, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8905.1, 1942.7, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8756.8, 2263.0, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8903.4, 2405.0, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 10103.5, 2403.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 10080.7, 2288.4, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 10241.5, 2556.0, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 10280.2, 2693.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 10306.0, 2788.8, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 10215.1, 3106.4, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -3817.8, 5017.6, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -3419.7, 7476.3, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -3421.9, 7314.4, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -3534.9, 7171.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -3340.7, 7767.3, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -3179.6, 7831.8, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -3039.7, 7942.2, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -1493.9, 3461.7, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -1173.2, 3589.7, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 7073.9, 3144.6, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 6925.3, 3236.6, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 7687.0, 4037.7, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 4736.1, 10312.4, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 7806.7, 4204.8, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 7890.0, 4476.0, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 7829.5, 4323.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8397.3, 3947.4, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8276.8, 3746.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8162.1, 3730.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8531.4, 4103.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 8296.5, 3893.5, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 6835.6, 3363.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 6750.0, 3519.8, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 9134.8, 2696.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 9224.8, 2836.9, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 9220.7, 3116.5, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 9157.9, 2932.8, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 4767.3, 10453.9, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 4311.0, 11226.0, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 9149.9, 1612.4, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 9948.7, 1607.4, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 10104.9, 1625.3, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 10311.4, 1615.6, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 10573.0, 1859.7, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 10672.0, 1976.4, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 10878.2, 2119.2, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 11005.9, 2170.9, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 4181.4, 11380.2, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 1273.4, 11468.0, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 1080.0, 11470.6, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 918.6, 11539.8, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -294.6, 11088.5, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -947.1, 10882.1, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -1159.6, 10926.6, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -1318.0, 10805.8, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), -1435.7, 10656.3, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 4716.2, 11074.5, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 4877.6, 11085.5, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 5043.4, 11145.9, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 5112.5, 11221.0, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 5338.2, 11310.6, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 5319.1, 10469.4, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 5033.1, 10376.0, 270.000, FourCC("h004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 4883.9, 10339.3, 270.000, FourCC("h004"))
end

function CreateUnitsForPlayer0()
    local p = Player(0)
    local u
    local unitID
    local t
    local life
    gg_unit_H000_0004 = BlzCreateUnitWithSkin(p, FourCC("H000"), -765.9, -112.0, 87.120, FourCC("H000"))
    SetHeroStr(gg_unit_H000_0004, 2, true)
    SetHeroAgi(gg_unit_H000_0004, 3, true)
    SetHeroInt(gg_unit_H000_0004, 1, true)
    SetUnitState(gg_unit_H000_0004, UNIT_STATE_MANA, 15)
    SetUnitColor(gg_unit_H000_0004, ConvertPlayerColor(20))
    u = BlzCreateUnitWithSkin(p, FourCC("oeye"), 11877.8, 9684.2, 188.696, FourCC("oeye"))
    u = BlzCreateUnitWithSkin(p, FourCC("oeye"), 9378.8, 6845.5, 188.696, FourCC("oeye"))
    u = BlzCreateUnitWithSkin(p, FourCC("oeye"), 11968.4, 729.6, 320.316, FourCC("oeye"))
    u = BlzCreateUnitWithSkin(p, FourCC("oeye"), 11993.6, -716.3, 327.688, FourCC("oeye"))
    u = BlzCreateUnitWithSkin(p, FourCC("oeye"), 10866.0, -1202.0, 326.491, FourCC("oeye"))
    u = BlzCreateUnitWithSkin(p, FourCC("oeye"), 7957.2, 4012.9, 154.110, FourCC("oeye"))
    u = BlzCreateUnitWithSkin(p, FourCC("oeye"), 7344.3, 2788.2, 0.352, FourCC("oeye"))
    u = BlzCreateUnitWithSkin(p, FourCC("oeye"), 6560.5, 3226.0, 154.110, FourCC("oeye"))
    u = BlzCreateUnitWithSkin(p, FourCC("oeye"), 12094.3, 281.9, 320.316, FourCC("oeye"))
    u = BlzCreateUnitWithSkin(p, FourCC("oeye"), 12116.2, -75.1, 320.316, FourCC("oeye"))
    u = BlzCreateUnitWithSkin(p, FourCC("oeye"), 11903.4, -534.0, 320.316, FourCC("oeye"))
    u = BlzCreateUnitWithSkin(p, FourCC("oeye"), 11762.4, -1137.4, 320.316, FourCC("oeye"))
    u = BlzCreateUnitWithSkin(p, FourCC("oeye"), 1360.9, 5235.1, 307.231, FourCC("oeye"))
    u = BlzCreateUnitWithSkin(p, FourCC("oeye"), 1346.8, 4417.1, 126.775, FourCC("oeye"))
end

function CreateUnitsForPlayer1()
    local p = Player(1)
    local u
    local unitID
    local t
    local life
    gg_unit_zcso_0295 = BlzCreateUnitWithSkin(p, FourCC("zcso"), 9264.1, 9292.0, 255.357, FourCC("zcso"))
    gg_unit_zcso_0297 = BlzCreateUnitWithSkin(p, FourCC("zcso"), 9169.6, 9299.6, 282.316, FourCC("zcso"))
    gg_unit_zcso_0298 = BlzCreateUnitWithSkin(p, FourCC("zcso"), 9218.5, 9236.5, 267.938, FourCC("zcso"))
end

function CreateBuildingsForPlayer5()
    local p = Player(5)
    local u
    local unitID
    local t
    local life
    u = BlzCreateUnitWithSkin(p, FourCC("h004"), 9064.3, 1805.5, 270.000, FourCC("h004"))
end

function CreateUnitsForPlayer8()
    local p = Player(8)
    local u
    local unitID
    local t
    local life
    gg_unit_zzrg_0299 = BlzCreateUnitWithSkin(p, FourCC("zzrg"), 9279.9, 9119.3, 108.922, FourCC("zzrg"))
    gg_unit_zzrg_0300 = BlzCreateUnitWithSkin(p, FourCC("zzrg"), 9215.0, 9128.4, 77.532, FourCC("zzrg"))
    gg_unit_zzrg_0301 = BlzCreateUnitWithSkin(p, FourCC("zzrg"), 9134.6, 9136.9, 44.006, FourCC("zzrg"))
    u = BlzCreateUnitWithSkin(p, FourCC("hrdh"), -1489.2, 9599.5, 191.660, FourCC("hrdh"))
end

function CreateUnitsForPlayer10()
    local p = Player(10)
    local u
    local unitID
    local t
    local life
    u = BlzCreateUnitWithSkin(p, FourCC("u003"), 7202.3, 219.0, 222.490, FourCC("u003"))
    gg_unit_u005_0013 = BlzCreateUnitWithSkin(p, FourCC("u005"), 9605.6, 4394.7, 277.530, FourCC("u005"))
    SetUnitColor(gg_unit_u005_0013, ConvertPlayerColor(21))
    u = BlzCreateUnitWithSkin(p, FourCC("uske"), 1080.2, 7143.8, 186.046, FourCC("uske"))
    SetUnitAcquireRange(u, 200.0)
    u = BlzCreateUnitWithSkin(p, FourCC("u003"), 7264.6, -87.3, 205.470, FourCC("u003"))
    u = BlzCreateUnitWithSkin(p, FourCC("uske"), 1183.7, 7161.3, 165.284, FourCC("uske"))
    SetUnitAcquireRange(u, 200.0)
    u = BlzCreateUnitWithSkin(p, FourCC("uske"), 429.3, 7293.0, 96.099, FourCC("uske"))
    SetUnitAcquireRange(u, 200.0)
    u = BlzCreateUnitWithSkin(p, FourCC("uske"), 3734.3, 8095.6, 266.063, FourCC("uske"))
    SetUnitAcquireRange(u, 200.0)
    u = BlzCreateUnitWithSkin(p, FourCC("uske"), 4053.4, 8080.8, 269.597, FourCC("uske"))
    SetUnitAcquireRange(u, 200.0)
    u = BlzCreateUnitWithSkin(p, FourCC("uske"), 340.0, 7216.2, 45.067, FourCC("uske"))
    SetUnitAcquireRange(u, 200.0)
    gg_unit_u001_0047 = BlzCreateUnitWithSkin(p, FourCC("u001"), 7343.6, 67.9, 183.500, FourCC("u001"))
    SetUnitColor(gg_unit_u001_0047, ConvertPlayerColor(1))
    SetUnitAcquireRange(gg_unit_u001_0047, 200.0)
    gg_unit_h00B_0051 = BlzCreateUnitWithSkin(p, FourCC("h00B"), -3185.3, 11284.9, 78.188, FourCC("h00B"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), -3424.5, 11754.9, 306.145, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), -3570.3, 11315.5, 297.003, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("nrat"), 1086.5, 7246.3, 71.095, FourCC("nrat"))
    SetUnitAcquireRange(u, 200.0)
    u = BlzCreateUnitWithSkin(p, FourCC("nrat"), 462.4, 7294.8, 79.818, FourCC("nrat"))
    SetUnitAcquireRange(u, 200.0)
    u = BlzCreateUnitWithSkin(p, FourCC("o002"), -5630.5, -2603.9, 278.760, FourCC("o002"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), -6035.5, 11526.6, 113.092, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), -6256.9, 11490.5, 76.376, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), 10401.7, 6509.2, 289.614, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h006"), 10560.1, 6300.8, 146.091, FourCC("h006"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00B"), 10394.2, 6296.2, 77.360, FourCC("h00B"))
    gg_unit_hwt3_0119 = BlzCreateUnitWithSkin(p, FourCC("hwt3"), 6842.5, 1126.6, 266.430, FourCC("hwt3"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), -5608.5, 8970.9, 347.231, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("u004"), 3902.1, 8189.2, 272.550, FourCC("u004"))
    SetUnitAcquireRange(u, 200.0)
    u = BlzCreateUnitWithSkin(p, FourCC("u004"), 7491.4, 204.3, 83.826, FourCC("u004"))
    u = BlzCreateUnitWithSkin(p, FourCC("u004"), 7463.4, -133.8, 316.269, FourCC("u004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h002"), 1675.1, 8689.7, 299.219, FourCC("h002"))
    u = BlzCreateUnitWithSkin(p, FourCC("h002"), 1169.6, 8122.9, 231.754, FourCC("h002"))
    u = BlzCreateUnitWithSkin(p, FourCC("h002"), 2213.4, 8440.0, 325.202, FourCC("h002"))
    u = BlzCreateUnitWithSkin(p, FourCC("h002"), 2936.8, 8153.7, 213.247, FourCC("h002"))
    u = BlzCreateUnitWithSkin(p, FourCC("h002"), 1811.0, 8391.5, 104.764, FourCC("h002"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00B"), -5659.7, 10712.5, 278.362, FourCC("h00B"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00B"), -5940.3, 10708.0, 285.266, FourCC("h00B"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), -2029.0, 11635.8, 88.705, FourCC("hfoo"))
    gg_unit_h00F_0379 = BlzCreateUnitWithSkin(p, FourCC("h00F"), -1787.3, 11032.1, 347.210, FourCC("h00F"))
    SetUnitColor(gg_unit_h00F_0379, ConvertPlayerColor(8))
    SetUnitAcquireRange(gg_unit_h00F_0379, 200.0)
    gg_unit_h00F_0380 = BlzCreateUnitWithSkin(p, FourCC("h00F"), -4187.9, 11059.0, 148.385, FourCC("h00F"))
    SetUnitColor(gg_unit_h00F_0380, ConvertPlayerColor(8))
    u = BlzCreateUnitWithSkin(p, FourCC("h00B"), -4570.7, 8682.1, 182.173, FourCC("h00B"))
    u = BlzCreateUnitWithSkin(p, FourCC("u007"), 7941.9, -1537.3, 272.000, FourCC("u007"))
    u = BlzCreateUnitWithSkin(p, FourCC("u004"), 7793.5, -1323.6, 306.433, FourCC("u004"))
    u = BlzCreateUnitWithSkin(p, FourCC("u004"), 8071.4, -1304.6, 261.045, FourCC("u004"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), -4607.4, 8950.5, 312.973, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), -4842.8, 8979.1, 324.787, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), -1912.8, 10560.4, 172.595, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00B"), -2036.4, 10476.2, 78.188, FourCC("h00B"))
    gg_unit_Giam_0440 = BlzCreateUnitWithSkin(p, FourCC("Giam"), 6852.7, 10984.0, 193.420, FourCC("Giam"))
    SetHeroLevel(gg_unit_Giam_0440, 15, false)
    gg_unit_h00F_0469 = BlzCreateUnitWithSkin(p, FourCC("h00F"), -5391.7, 8777.9, 98.750, FourCC("h00F"))
    SetUnitColor(gg_unit_h00F_0469, ConvertPlayerColor(8))
    gg_unit_h00F_0470 = BlzCreateUnitWithSkin(p, FourCC("h00F"), -5869.0, 9056.2, 175.659, FourCC("h00F"))
    SetUnitColor(gg_unit_h00F_0470, ConvertPlayerColor(8))
    gg_unit_h00F_0471 = BlzCreateUnitWithSkin(p, FourCC("h00F"), -5662.9, 9683.7, 175.659, FourCC("h00F"))
    SetUnitColor(gg_unit_h00F_0471, ConvertPlayerColor(8))
    gg_unit_h00F_0472 = BlzCreateUnitWithSkin(p, FourCC("h00F"), -1997.8, 11540.3, 81.393, FourCC("h00F"))
    SetUnitColor(gg_unit_h00F_0472, ConvertPlayerColor(8))
    gg_unit_h00F_0473 = BlzCreateUnitWithSkin(p, FourCC("h00F"), -5190.1, 10687.4, 152.959, FourCC("h00F"))
    SetUnitColor(gg_unit_h00F_0473, ConvertPlayerColor(8))
    u = BlzCreateUnitWithSkin(p, FourCC("h00F"), -2247.3, 10873.3, 176.363, FourCC("h00F"))
    SetUnitColor(u, ConvertPlayerColor(8))
    gg_unit_h00F_0480 = BlzCreateUnitWithSkin(p, FourCC("h00F"), -4218.8, 11578.5, 148.385, FourCC("h00F"))
    SetUnitColor(gg_unit_h00F_0480, ConvertPlayerColor(8))
    u = BlzCreateUnitWithSkin(p, FourCC("h00F"), -2495.8, 10453.9, 353.668, FourCC("h00F"))
    SetUnitColor(u, ConvertPlayerColor(8))
    u = BlzCreateUnitWithSkin(p, FourCC("h00F"), -4137.0, 8817.2, 34.482, FourCC("h00F"))
    SetUnitColor(u, ConvertPlayerColor(8))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), -2114.5, 11578.4, 74.510, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), -1940.2, 11591.8, 129.047, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), -4009.1, 9121.3, 16.495, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), -4120.1, 9094.7, 262.295, FourCC("h00A"))
    gg_unit_h00F_0495 = BlzCreateUnitWithSkin(p, FourCC("h00F"), -4143.2, 11624.7, 148.385, FourCC("h00F"))
    SetUnitColor(gg_unit_h00F_0495, ConvertPlayerColor(8))
    gg_unit_h00F_0496 = BlzCreateUnitWithSkin(p, FourCC("h00F"), -5618.7, 10195.6, 60.465, FourCC("h00F"))
    SetUnitColor(gg_unit_h00F_0496, ConvertPlayerColor(8))
    gg_unit_h00F_0497 = BlzCreateUnitWithSkin(p, FourCC("h00F"), -4292.0, 11521.3, 148.385, FourCC("h00F"))
    SetUnitColor(gg_unit_h00F_0497, ConvertPlayerColor(8))
    gg_unit_h00F_0498 = BlzCreateUnitWithSkin(p, FourCC("h00F"), -2741.3, 11589.5, 148.385, FourCC("h00F"))
    SetUnitColor(gg_unit_h00F_0498, ConvertPlayerColor(8))
    gg_unit_h00F_0499 = BlzCreateUnitWithSkin(p, FourCC("h00F"), -1869.0, 11033.1, 347.210, FourCC("h00F"))
    SetUnitColor(gg_unit_h00F_0499, ConvertPlayerColor(8))
    SetUnitAcquireRange(gg_unit_h00F_0499, 200.0)
end

function CreateUnitsForPlayer11()
    local p = Player(11)
    local u
    local unitID
    local t
    local life
    gg_unit_hfoo_0005 = BlzCreateUnitWithSkin(p, FourCC("hfoo"), -316.9, -1844.1, 76.004, FourCC("hfoo"))
    gg_unit_hfoo_0006 = BlzCreateUnitWithSkin(p, FourCC("hfoo"), -624.5, -1799.4, 49.675, FourCC("hfoo"))
    gg_unit_h001_0007 = BlzCreateUnitWithSkin(p, FourCC("h001"), -491.1, -1877.6, 62.188, FourCC("h001"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 961.5, -2648.2, 267.323, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("u00A"), -6064.3, 7341.5, 87.276, FourCC("u00A"))
end

function CreateNeutralHostile()
    local p = Player(PLAYER_NEUTRAL_AGGRESSIVE)
    local u
    local unitID
    local t
    local life
    u = BlzCreateUnitWithSkin(p, FourCC("h002"), -2617.8, 5957.7, 168.930, FourCC("h002"))
    u = BlzCreateUnitWithSkin(p, FourCC("uske"), -195.0, 6447.1, 265.100, FourCC("uske"))
    u = BlzCreateUnitWithSkin(p, FourCC("u003"), 3922.2, 2555.0, 148.460, FourCC("u003"))
    u = BlzCreateUnitWithSkin(p, FourCC("uske"), -800.9, 8271.7, 122.620, FourCC("uske"))
    u = BlzCreateUnitWithSkin(p, FourCC("uske"), -268.4, 8280.2, 208.056, FourCC("uske"))
    u = BlzCreateUnitWithSkin(p, FourCC("h002"), -2818.5, 6112.2, 333.751, FourCC("h002"))
    u = BlzCreateUnitWithSkin(p, FourCC("u003"), 2767.2, 7275.3, 184.844, FourCC("u003"))
    u = BlzCreateUnitWithSkin(p, FourCC("h002"), -2021.4, 8208.7, 32.304, FourCC("h002"))
    u = BlzCreateUnitWithSkin(p, FourCC("h002"), -2345.9, 2731.2, 340.995, FourCC("h002"))
    gg_unit_u00B_0054 = BlzCreateUnitWithSkin(p, FourCC("u00B"), -5897.4, 4415.6, 271.430, FourCC("u00B"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 3881.9, 3369.7, 1.268, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 3582.0, 4319.0, 97.158, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("uske"), 2989.0, 4893.6, 269.694, FourCC("uske"))
    u = BlzCreateUnitWithSkin(p, FourCC("uske"), 2698.1, 4869.4, 269.047, FourCC("uske"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 2060.7, 6230.8, 271.681, FourCC("hfoo"))
    gg_unit_u000_0088 = BlzCreateUnitWithSkin(p, FourCC("u000"), 2043.7, 6536.5, 114.646, FourCC("u000"))
    SetUnitColor(gg_unit_u000_0088, ConvertPlayerColor(0))
    u = BlzCreateUnitWithSkin(p, FourCC("u003"), 5785.4, -2218.3, 178.325, FourCC("u003"))
    gg_unit_u002_0163 = BlzCreateUnitWithSkin(p, FourCC("u002"), 11690.4, 13.5, 41.947, FourCC("u002"))
    SetUnitColor(gg_unit_u002_0163, ConvertPlayerColor(6))
    u = BlzCreateUnitWithSkin(p, FourCC("h00E"), 14112.6, 6663.4, 9.608, FourCC("h00E"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00E"), 14394.7, 6959.8, 249.238, FourCC("h00E"))
    u = BlzCreateUnitWithSkin(p, FourCC("h002"), -1429.1, 3954.2, 87.168, FourCC("h002"))
    u = BlzCreateUnitWithSkin(p, FourCC("h002"), -3186.1, 4919.6, 347.990, FourCC("h002"))
    u = BlzCreateUnitWithSkin(p, FourCC("h002"), -3299.2, 4126.0, 151.343, FourCC("h002"))
    u = BlzCreateUnitWithSkin(p, FourCC("h006"), 4609.8, 10668.7, 32.124, FourCC("h006"))
    u = BlzCreateUnitWithSkin(p, FourCC("uske"), 2869.0, 7363.9, 96.099, FourCC("uske"))
    u = BlzCreateUnitWithSkin(p, FourCC("uske"), 2874.6, 7168.2, 173.486, FourCC("uske"))
    u = BlzCreateUnitWithSkin(p, FourCC("u003"), 4725.9, 5836.7, 92.610, FourCC("u003"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 2832.3, 6307.3, 273.520, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("uske"), 5709.4, 3934.4, 7.630, FourCC("uske"))
    u = BlzCreateUnitWithSkin(p, FourCC("uske"), 5698.6, 4307.4, 348.710, FourCC("uske"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 7118.5, 3982.5, 301.502, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 6621.6, 5312.8, 207.924, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 6145.6, 5046.8, 71.700, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("uske"), 5323.0, 5774.9, 219.886, FourCC("uske"))
    u = BlzCreateUnitWithSkin(p, FourCC("uske"), 4874.6, 5405.8, 241.118, FourCC("uske"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00E"), 14592.4, 6619.9, 175.058, FourCC("h00E"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00B"), 1758.1, 10821.9, 161.016, FourCC("h00B"))
    u = BlzCreateUnitWithSkin(p, FourCC("u007"), 3276.8, -1775.2, 350.544, FourCC("u007"))
    u = BlzCreateUnitWithSkin(p, FourCC("u007"), 3328.1, -2836.1, 355.691, FourCC("u007"))
    u = BlzCreateUnitWithSkin(p, FourCC("u007"), 6861.5, -2269.1, 176.844, FourCC("u007"))
    u = BlzCreateUnitWithSkin(p, FourCC("u003"), 6834.3, -2104.1, 148.910, FourCC("u003"))
    u = BlzCreateUnitWithSkin(p, FourCC("u003"), 6682.3, -2308.4, 148.910, FourCC("u003"))
    u = BlzCreateUnitWithSkin(p, FourCC("u007"), 5872.4, 210.1, 271.608, FourCC("u007"))
    u = BlzCreateUnitWithSkin(p, FourCC("u007"), 10334.4, -3334.5, 85.694, FourCC("u007"))
    u = BlzCreateUnitWithSkin(p, FourCC("u007"), 12398.1, -2377.7, 185.482, FourCC("u007"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 8661.4, 3222.6, 3.660, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("u004"), 11990.3, -3241.9, 113.711, FourCC("u004"))
    u = BlzCreateUnitWithSkin(p, FourCC("u004"), 12053.1, -2006.1, 193.858, FourCC("u004"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 8737.4, 3094.6, 70.972, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 9843.7, 508.6, 186.224, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("h006"), 10664.9, -975.6, 155.080, FourCC("h006"))
    u = BlzCreateUnitWithSkin(p, FourCC("u009"), 9431.9, -574.0, 213.887, FourCC("u009"))
    u = BlzCreateUnitWithSkin(p, FourCC("u009"), 9827.0, -428.7, 252.480, FourCC("u009"))
    u = BlzCreateUnitWithSkin(p, FourCC("u009"), 10505.6, 190.7, 265.029, FourCC("u009"))
    u = BlzCreateUnitWithSkin(p, FourCC("h006"), 11564.9, -22.8, 13.498, FourCC("h006"))
    u = BlzCreateUnitWithSkin(p, FourCC("h006"), 11614.3, -176.5, 51.327, FourCC("h006"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 9337.2, 492.6, 330.670, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00B"), 1710.2, 10697.7, 161.020, FourCC("h00B"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00B"), 646.9, 11121.4, 125.336, FourCC("h00B"))
    gg_unit_u007_0312 = BlzCreateUnitWithSkin(p, FourCC("u007"), 9388.8, 2094.0, 13.850, FourCC("u007"))
    gg_unit_u007_0313 = BlzCreateUnitWithSkin(p, FourCC("u007"), 9823.0, 2316.0, 236.537, FourCC("u007"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 10596.3, -846.0, 258.702, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), 783.9, 11070.3, 136.573, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), 610.6, 10999.5, 84.459, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h006"), 11278.8, 4813.1, 351.628, FourCC("h006"))
    u = BlzCreateUnitWithSkin(p, FourCC("h006"), 4668.2, 9085.1, 352.128, FourCC("h006"))
    u = BlzCreateUnitWithSkin(p, FourCC("h006"), 3709.2, 9201.3, 152.573, FourCC("h006"))
    u = BlzCreateUnitWithSkin(p, FourCC("h006"), 3506.2, 9181.7, 41.840, FourCC("h006"))
    u = BlzCreateUnitWithSkin(p, FourCC("h006"), 5702.8, 8547.6, 258.234, FourCC("h006"))
    u = BlzCreateUnitWithSkin(p, FourCC("h006"), 6638.8, 8234.3, 159.585, FourCC("h006"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00B"), 3113.3, 11186.0, 356.098, FourCC("h00B"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), 3107.7, 11342.6, 353.421, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), 4106.0, 11167.1, 251.790, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), 3056.0, 11105.2, 0.892, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), -5480.1, 11330.1, 114.751, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h006"), 11946.2, 5328.7, 204.205, FourCC("h006"))
    gg_unit_h00C_0341 = BlzCreateUnitWithSkin(p, FourCC("h00C"), -5647.9, 11381.6, 90.100, FourCC("h00C"))
    u = BlzCreateUnitWithSkin(p, FourCC("u003"), 3681.0, 2608.1, 279.910, FourCC("u003"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 4719.2, 1970.9, 207.924, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 4909.9, 1159.4, 207.924, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 4765.3, 1250.5, 288.613, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 3789.6, 1611.9, 178.521, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 3071.0, 2133.2, 91.113, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 3364.0, 1509.9, 0.000, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("h006"), 2595.3, 1903.8, 158.102, FourCC("h006"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 9213.8, -2897.6, 90.120, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("hfoo"), 9941.7, -3451.7, 351.239, FourCC("hfoo"))
    u = BlzCreateUnitWithSkin(p, FourCC("h007"), 8869.7, -2735.7, 89.593, FourCC("h007"))
    u = BlzCreateUnitWithSkin(p, FourCC("h007"), 9689.5, -2905.8, 86.655, FourCC("h007"))
    u = BlzCreateUnitWithSkin(p, FourCC("h007"), 10452.8, -958.7, 0.000, FourCC("h007"))
    u = BlzCreateUnitWithSkin(p, FourCC("h006"), 2149.1, 5170.6, 196.564, FourCC("h006"))
    u = BlzCreateUnitWithSkin(p, FourCC("h007"), 1980.4, 5227.6, 304.300, FourCC("h007"))
    u = BlzCreateUnitWithSkin(p, FourCC("h007"), 1962.8, 5020.7, 59.817, FourCC("h007"))
    gg_unit_u00A_0384 = BlzCreateUnitWithSkin(p, FourCC("u00A"), 5230.1, 7999.9, 273.610, FourCC("u00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("u003"), 5769.4, 10.8, 306.786, FourCC("u003"))
    u = BlzCreateUnitWithSkin(p, FourCC("u003"), 6015.8, -9.3, 260.046, FourCC("u003"))
    u = BlzCreateUnitWithSkin(p, FourCC("u007"), 4341.5, -3443.0, 179.170, FourCC("u007"))
    u = BlzCreateUnitWithSkin(p, FourCC("u004"), 4538.3, -3505.4, 14.890, FourCC("u004"))
    u = BlzCreateUnitWithSkin(p, FourCC("u003"), 6414.5, -3288.3, 199.403, FourCC("u003"))
    u = BlzCreateUnitWithSkin(p, FourCC("u003"), 6413.2, -3468.6, 175.792, FourCC("u003"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00E"), 14051.1, 6933.8, 326.783, FourCC("h00E"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00B"), 774.0, 10179.3, 321.308, FourCC("h00B"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00B"), 981.8, 10179.3, 224.613, FourCC("h00B"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), 10781.7, 5633.9, 179.356, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), 10908.3, 4473.6, 324.577, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), 12007.9, 3776.5, 201.345, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), 11517.1, 3835.0, 92.657, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), 11351.0, 2666.9, 89.717, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), 11726.2, 2675.6, 95.550, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h006"), 11701.5, 2947.5, 85.915, FourCC("h006"))
    u = BlzCreateUnitWithSkin(p, FourCC("h006"), 11399.9, 2957.2, 83.958, FourCC("h006"))
    u = BlzCreateUnitWithSkin(p, FourCC("h006"), 14464.6, 3852.8, 72.686, FourCC("h006"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00B"), 14591.6, 3900.7, 70.470, FourCC("h00B"))
    u = BlzCreateUnitWithSkin(p, FourCC("u009"), 14526.8, 2755.9, 116.769, FourCC("u009"))
    u = BlzCreateUnitWithSkin(p, FourCC("u009"), 14295.2, 2566.4, 174.469, FourCC("u009"))
    u = BlzCreateUnitWithSkin(p, FourCC("u003"), 4954.1, -2002.0, 50.837, FourCC("u003"))
    u = BlzCreateUnitWithSkin(p, FourCC("u003"), 3907.4, -672.4, 241.024, FourCC("u003"))
    u = BlzCreateUnitWithSkin(p, FourCC("u003"), 4175.4, -2305.0, 356.437, FourCC("u003"))
    u = BlzCreateUnitWithSkin(p, FourCC("u003"), 5287.3, -2846.1, 241.923, FourCC("u003"))
    u = BlzCreateUnitWithSkin(p, FourCC("u009"), 8792.9, -435.6, 2.121, FourCC("u009"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00B"), 2362.7, 10620.6, 86.978, FourCC("h00B"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), 3081.6, 10750.4, 0.892, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), 2055.7, 11138.2, 284.019, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), 440.3, 10238.2, 33.251, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00A"), 335.0, 10349.9, 83.790, FourCC("h00A"))
    u = BlzCreateUnitWithSkin(p, FourCC("u009"), 8588.1, -540.9, 128.227, FourCC("u009"))
end

function CreateNeutralPassiveBuildings()
    local p = Player(PLAYER_NEUTRAL_PASSIVE)
    local u
    local unitID
    local t
    local life
    u = BlzCreateUnitWithSkin(p, FourCC("h005"), 7016.2, 4656.0, 270.000, FourCC("h005"))
    u = BlzCreateUnitWithSkin(p, FourCC("h005"), 7144.2, 4592.0, 270.000, FourCC("h005"))
end

function CreateNeutralPassive()
    local p = Player(PLAYER_NEUTRAL_PASSIVE)
    local u
    local unitID
    local t
    local life
    gg_unit_hpea_0000 = BlzCreateUnitWithSkin(p, FourCC("hpea"), -898.6, 313.0, 357.833, FourCC("hpea"))
    gg_unit_Hpal_0002 = BlzCreateUnitWithSkin(p, FourCC("Hpal"), -4335.6, -1819.0, 259.231, FourCC("Hpal"))
    SetHeroStr(gg_unit_Hpal_0002, 7, true)
    SetHeroAgi(gg_unit_Hpal_0002, 10, true)
    SetHeroInt(gg_unit_Hpal_0002, 4, true)
    life = GetUnitState(gg_unit_Hpal_0002, UNIT_STATE_LIFE)
    SetUnitState(gg_unit_Hpal_0002, UNIT_STATE_LIFE, 0.95 * life)
    SetUnitState(gg_unit_Hpal_0002, UNIT_STATE_MANA, 85)
    SetUnitColor(gg_unit_Hpal_0002, ConvertPlayerColor(20))
    SelectHeroSkill(gg_unit_Hpal_0002, FourCC("A002"))
    IssueImmediateOrder(gg_unit_Hpal_0002, "")
    u = BlzCreateUnitWithSkin(p, FourCC("n006"), -5778.0, 9676.4, 0.803, FourCC("n006"))
    u = BlzCreateUnitWithSkin(p, FourCC("necr"), -1095.7, 2958.7, 257.560, FourCC("necr"))
    u = BlzCreateUnitWithSkin(p, FourCC("necr"), -1457.7, 3226.6, 174.523, FourCC("necr"))
    u = BlzCreateUnitWithSkin(p, FourCC("necr"), -1008.2, 3079.1, 151.407, FourCC("necr"))
    gg_unit_n000_0032 = BlzCreateUnitWithSkin(p, FourCC("n000"), 634.6, -612.6, 312.290, FourCC("n000"))
    u = BlzCreateUnitWithSkin(p, FourCC("necr"), -1353.7, 3342.0, 292.795, FourCC("necr"))
    u = BlzCreateUnitWithSkin(p, FourCC("necr"), -1315.6, 3069.0, 23.995, FourCC("necr"))
    u = BlzCreateUnitWithSkin(p, FourCC("necr"), -1168.2, 3051.9, 296.651, FourCC("necr"))
    u = BlzCreateUnitWithSkin(p, FourCC("necr"), -1325.2, 3177.5, 58.515, FourCC("necr"))
    u = BlzCreateUnitWithSkin(p, FourCC("necr"), -1246.7, 3377.2, 18.183, FourCC("necr"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), -1206.7, 7479.6, 270.560, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), -1067.3, 8563.4, 264.470, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), -1202.8, 8447.6, 308.100, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), -992.0, 7472.0, 270.560, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 2293.1, 7542.8, 264.470, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 3087.3, 7544.0, 264.470, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("n006"), -2038.5, 11840.6, 274.134, FourCC("n006"))
    gg_unit_n006_0049 = BlzCreateUnitWithSkin(p, FourCC("n006"), -3108.7, 11477.3, 66.570, FourCC("n006"))
    life = GetUnitState(gg_unit_n006_0049, UNIT_STATE_LIFE)
    SetUnitState(gg_unit_n006_0049, UNIT_STATE_LIFE, 0.01 * life)
    u = BlzCreateUnitWithSkin(p, FourCC("n006"), -4331.6, 11640.9, 350.776, FourCC("n006"))
    u = BlzCreateUnitWithSkin(p, FourCC("n006"), -5425.2, 10703.7, 269.702, FourCC("n006"))
    u = BlzCreateUnitWithSkin(p, FourCC("n006"), -6042.9, 10400.3, 19.445, FourCC("n006"))
    gg_unit_hprt_0060 = BlzCreateUnitWithSkin(p, FourCC("hprt"), 1060.4, 9218.8, 271.060, FourCC("hprt"))
    gg_unit_n000_0061 = BlzCreateUnitWithSkin(p, FourCC("n000"), -1108.0, 3207.5, 234.620, FourCC("n000"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 7824.1, 5327.4, 352.472, FourCC("nvlw"))
    gg_unit_u00D_0066 = BlzCreateUnitWithSkin(p, FourCC("u00D"), 9174.4, 5554.4, 177.765, FourCC("u00D"))
    SetUnitColor(gg_unit_u00D_0066, ConvertPlayerColor(4))
    gg_unit_n008_0067 = BlzCreateUnitWithSkin(p, FourCC("n008"), 11633.0, 9469.9, 88.818, FourCC("n008"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 4070.4, 3372.8, 176.771, FourCC("nvlw"))
    gg_unit_n002_0069 = BlzCreateUnitWithSkin(p, FourCC("n002"), 3296.7, 3774.7, 2.348, FourCC("n002"))
    gg_unit_opeo_0070 = BlzCreateUnitWithSkin(p, FourCC("opeo"), 962.5, 2153.7, 87.876, FourCC("opeo"))
    gg_unit_obot_0077 = BlzCreateUnitWithSkin(p, FourCC("obot"), 1032.5, 2381.5, 27.094, FourCC("obot"))
    gg_unit_h00D_0132 = BlzCreateUnitWithSkin(p, FourCC("h00D"), 14247.5, 6712.6, 69.441, FourCC("h00D"))
    gg_unit_o003_0144 = BlzCreateUnitWithSkin(p, FourCC("o003"), -4793.5, 7489.3, 1.892, FourCC("o003"))
    u = BlzCreateUnitWithSkin(p, FourCC("ocat"), -6970.7, -2712.5, 160.636, FourCC("ocat"))
    gg_unit_ocat_0161 = BlzCreateUnitWithSkin(p, FourCC("ocat"), 8310.0, 9215.1, 356.870, FourCC("ocat"))
    u = BlzCreateUnitWithSkin(p, FourCC("ocat"), -6472.3, -3502.3, 339.971, FourCC("ocat"))
    u = BlzCreateUnitWithSkin(p, FourCC("ocat"), -4654.5, -3524.0, 327.886, FourCC("ocat"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 5296.7, 1607.6, 183.007, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 658.7, 11538.1, 249.062, FourCC("nvlw"))
    gg_unit_hrif_0204 = BlzCreateUnitWithSkin(p, FourCC("hrif"), 6439.9, 1595.8, 0.000, FourCC("hrif"))
    u = BlzCreateUnitWithSkin(p, FourCC("n006"), 562.4, 11201.8, 305.570, FourCC("n006"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 3854.2, 5788.8, 355.320, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 4887.1, 3895.0, 270.816, FourCC("nvlw"))
    gg_unit_hrif_0225 = BlzCreateUnitWithSkin(p, FourCC("hrif"), 7315.5, 1605.2, 45.000, FourCC("hrif"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 11841.2, 6740.8, 166.497, FourCC("nvlw"))
    gg_unit_hrif_0227 = BlzCreateUnitWithSkin(p, FourCC("hrif"), 6850.9, 878.3, 135.000, FourCC("hrif"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 2846.3, -74.7, 270.816, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 4438.5, -1035.3, 270.816, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 9405.3, -1959.0, 122.358, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 9598.3, -1984.4, 300.683, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 9707.8, -2629.9, 160.911, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 9841.9, -2878.6, 242.047, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 9554.4, -3145.7, 240.245, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 9456.7, -3431.7, 98.089, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 4157.2, -3097.1, 270.816, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 6437.0, -3098.9, 270.816, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 9398.8, -3389.8, 270.816, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 8823.9, -2590.8, 174.073, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("u008"), 4593.4, 6441.4, 253.020, FourCC("u008"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 8696.4, -2445.3, 304.990, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 8763.0, -2364.6, 57.845, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 8730.5, -2760.9, 163.866, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 8746.5, -2911.4, 179.346, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 8920.7, -2492.3, 322.843, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 9579.7, -2560.7, 353.144, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 9465.3, -2290.1, 258.923, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 9573.5, -2649.2, 160.856, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 9619.8, -2879.2, 231.379, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 9572.1, -2643.8, 252.012, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 9469.1, -2185.3, 118.074, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 9272.4, -2123.4, 331.446, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 9183.4, -2087.1, 1.648, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("n003"), 9058.8, -2235.1, 16.425, FourCC("n003"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 9228.4, -1421.8, 351.099, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 3659.2, 1665.0, 357.523, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 4341.6, -2123.3, 264.141, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 9013.0, -3378.6, 264.141, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 10646.0, -1899.7, 264.141, FourCC("nvlw"))
    gg_unit_o001_0294 = BlzCreateUnitWithSkin(p, FourCC("o001"), 9216.6, 9038.7, 94.560, FourCC("o001"))
    gg_unit_n004_0296 = BlzCreateUnitWithSkin(p, FourCC("n004"), 9218.2, 9344.3, 270.127, FourCC("n004"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 10800.6, 185.6, 276.111, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 9112.0, -254.3, 319.710, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 9168.8, 364.8, 273.869, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 10092.8, 2819.9, 255.786, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 6345.2, 1842.8, 357.523, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 7331.6, 1837.6, 182.591, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 11248.4, -997.8, 176.703, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 5790.2, 432.9, 264.141, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 7086.0, -1615.0, 174.757, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("hpea"), -5649.2, 11738.5, 276.401, FourCC("hpea"))
    u = BlzCreateUnitWithSkin(p, FourCC("n006"), -6063.2, 11663.9, 261.332, FourCC("n006"))
    u = BlzCreateUnitWithSkin(p, FourCC("n006"), -6204.5, 11663.9, 283.692, FourCC("n006"))
    u = BlzCreateUnitWithSkin(p, FourCC("n006"), -4166.0, 10940.6, 236.540, FourCC("n006"))
    u = BlzCreateUnitWithSkin(p, FourCC("n006"), -4348.7, 10910.6, 271.907, FourCC("n006"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 9223.5, 4720.7, 270.560, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 9989.7, 4716.9, 270.560, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 9153.9, 3291.4, 98.758, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 10027.8, 3276.2, 270.560, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 2329.7, 5292.5, 264.470, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 2765.2, 6830.4, 264.470, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("n000"), -6135.1, -2893.8, 325.411, FourCC("n000"))
    u = BlzCreateUnitWithSkin(p, FourCC("h009"), 4881.3, 6783.4, 47.883, FourCC("h009"))
    u = BlzCreateUnitWithSkin(p, FourCC("h009"), 5612.7, 6878.7, 296.553, FourCC("h009"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 7158.6, 434.4, 264.141, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 5520.0, -1048.8, 270.816, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 8114.6, -2038.9, 180.401, FourCC("nvlw"))
    gg_unit_unec_0406 = BlzCreateUnitWithSkin(p, FourCC("unec"), -5770.7, 6828.7, 183.084, FourCC("unec"))
    u = BlzCreateUnitWithSkin(p, FourCC("n006"), -232.3, 10762.2, 91.563, FourCC("n006"))
    u = BlzCreateUnitWithSkin(p, FourCC("n006"), -1681.9, 11530.2, 205.883, FourCC("n006"))
    u = BlzCreateUnitWithSkin(p, FourCC("n006"), -2149.2, 10639.6, 345.406, FourCC("n006"))
    gg_unit_uplg_0418 = BlzCreateUnitWithSkin(p, FourCC("uplg"), -6151.4, 6862.0, 13.590, FourCC("uplg"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 12099.1, 4276.6, 282.200, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("ocat"), -6958.3, -3236.2, 160.636, FourCC("ocat"))
    u = BlzCreateUnitWithSkin(p, FourCC("ocat"), -5747.3, -1451.4, 140.025, FourCC("ocat"))
    u = BlzCreateUnitWithSkin(p, FourCC("ocat"), -4725.9, -1474.1, 24.050, FourCC("ocat"))
    u = BlzCreateUnitWithSkin(p, FourCC("ocat"), -4099.7, -2654.2, 226.435, FourCC("ocat"))
    u = BlzCreateUnitWithSkin(p, FourCC("ocat"), -4107.0, -3216.6, 327.886, FourCC("ocat"))
    u = BlzCreateUnitWithSkin(p, FourCC("ocat"), -6547.5, -2205.5, 329.226, FourCC("ocat"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 7828.0, 5205.2, 359.092, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 7899.1, 5278.0, 178.384, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 9382.2, 5803.5, 282.200, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 10164.3, 5467.5, 185.636, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 12734.9, 4022.8, 282.200, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 11347.5, 4079.6, 300.397, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 11214.5, 3108.3, 4.867, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), -3028.5, 5489.1, 279.195, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), -2140.1, 5011.1, 263.942, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("h00G"), -1696.9, 9526.5, 318.711, FourCC("h00G"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), -5948.5, 9246.8, 238.564, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), -5023.7, 10259.4, 68.643, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), -2190.0, 11682.9, 68.643, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), -1628.3, 10820.4, 338.159, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), -1742.5, 11703.1, 245.513, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 15151.6, 287.6, 180.337, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 14286.0, 257.9, 353.561, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), -6145.1, 3785.9, 89.355, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), -5659.6, 3789.6, 89.355, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), -6581.3, 5014.5, 351.913, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), -5201.9, 5005.9, 174.749, FourCC("nvlw"))
    u = BlzCreateUnitWithSkin(p, FourCC("nvlw"), 3419.6, 6607.4, 355.320, FourCC("nvlw"))
end

function CreatePlayerBuildings()
    CreateBuildingsForPlayer0()
    CreateBuildingsForPlayer5()
end

function CreatePlayerUnits()
    CreateUnitsForPlayer0()
    CreateUnitsForPlayer1()
    CreateUnitsForPlayer8()
    CreateUnitsForPlayer10()
    CreateUnitsForPlayer11()
end

function CreateAllUnits()
    CreateNeutralPassiveBuildings()
    CreatePlayerBuildings()
    CreateNeutralHostile()
    CreateNeutralPassive()
    CreatePlayerUnits()
end

function CreateRegions()
    local we
    gg_rct_Intro_Trap = Rect(-928.0, -1728.0, 192.0, -1440.0)
    gg_rct_Bandits1 = Rect(480.0, -960.0, 768.0, -704.0)
    gg_rct_Bandits2 = Rect(-1088.0, -704.0, -736.0, 96.0)
    gg_rct_Bandits_Barkeep = Rect(-992.0, -256.0, -896.0, -128.0)
    gg_rct_Button_1 = Rect(352.0, 6432.0, 544.0, 6624.0)
    gg_rct_WallHide = Rect(-1888.0, 6400.0, -1760.0, 6656.0)
    gg_rct_Button_2 = Rect(-2464.0, 2848.0, -2208.0, 3072.0)
    gg_rct_Solve3 = Rect(1952.0, 7104.0, 2080.0, 7488.0)
    gg_rct_Region_011 = Rect(-1760.0, 6272.0, -1632.0, 6880.0)
    gg_rct_KainStart = Rect(-96.0, 4192.0, 32.0, 4320.0)
    gg_rct_KotoBogSpawn2 = Rect(-1120.0, 3200.0, -1056.0, 3264.0)
    gg_rct_FirstDorWannaKey = Rect(-1664.0, 7744.0, -1280.0, 8224.0)
    gg_rct_EnterDark_2 = Rect(-1280.0, 7680.0, -1152.0, 8384.0)
    gg_rct_Region_016 = Rect(-1632.0, 2880.0, -992.0, 3424.0)
    gg_rct_KotoBogPortal = Rect(-1536.0, 3264.0, -1408.0, 3424.0)
    gg_rct_Region_018 = Rect(-3840.0, 3072.0, -3744.0, 3168.0)
    gg_rct_Graveyard = Rect(-3968.0, 1824.0, -1312.0, 7712.0)
    gg_rct_Tumbler1 = Rect(608.0, 8416.0, 800.0, 8608.0)
    gg_rct_Tumbler2 = Rect(608.0, 8192.0, 800.0, 8384.0)
    gg_rct_Tumbler3 = Rect(608.0, 7936.0, 832.0, 8128.0)
    gg_rct_LibraryPass = Rect(1728.0, 6144.0, 1920.0, 6656.0)
    gg_rct_LibraryPass_2 = Rect(704.0, 6048.0, 896.0, 6720.0)
    gg_rct_ButtonToLibrary = Rect(3264.0, 3424.0, 3520.0, 3616.0)
    gg_rct_Rat_Leave_Zone = Rect(3136.0, 3904.0, 3712.0, 4384.0)
    gg_rct_Rat_Start_Zone = Rect(3232.0, 3712.0, 3328.0, 3840.0)
    gg_rct_Region_028 = Rect(2752.0, 4288.0, 2944.0, 4512.0)
    gg_rct_Rat_Barrel_Zone = Rect(3264.0, 3584.0, 3456.0, 3712.0)
    gg_rct_Bergi_Run_Away = Rect(672.0, 1792.0, 1216.0, 2208.0)
    gg_rct_BergiFinish = Rect(1664.0, 3904.0, 1888.0, 4416.0)
    gg_rct_Cinematic_1 = Rect(-5600.0, -3360.0, -5504.0, -3264.0)
    gg_rct_Cinematic2 = Rect(-4960.0, -1952.0, -4832.0, -1888.0)
    gg_rct_Cry1 = Rect(4128.0, -2560.0, 4640.0, -896.0)
    gg_rct_Cry2 = Rect(-1376.0, 7008.0, -832.0, 7552.0)
    gg_rct_DoorwayOpen = Rect(3648.0, 3520.0, 4000.0, 3648.0)
    gg_rct_DoorwayOpen2 = Rect(4928.0, 3136.0, 5280.0, 3264.0)
    gg_rct_DoorwayOpen3 = Rect(4928.0, 2528.0, 5312.0, 2656.0)
    gg_rct_LibraryOpen = Rect(2560.0, 2016.0, 2848.0, 2144.0)
    gg_rct_LibraryClosed = Rect(2432.0, 1728.0, 2560.0, 2144.0)
    gg_rct_DoorwayOpen4 = Rect(9440.0, 3136.0, 9760.0, 3296.0)
    gg_rct_Portal_2_Out = Rect(2368.0, -576.0, 2528.0, -352.0)
    gg_rct_Portal1_In = Rect(6752.0, 1376.0, 7008.0, 1792.0)
    gg_rct_Cry3 = Rect(4544.0, 3552.0, 5248.0, 4096.0)
    gg_rct_Barkeep_walk = Rect(-672.0, 256.0, -608.0, 352.0)
    gg_rct_RedKeyDoor = Rect(5120.0, 1056.0, 5440.0, 1472.0)
    gg_rct_Cry4 = Rect(2592.0, -448.0, 3136.0, 0.0)
    gg_rct_BlueKeyDoor = Rect(6400.0, -3648.0, 6720.0, -3040.0)
    gg_rct_Trap2 = Rect(8704.0, -1600.0, 8768.0, -1312.0)
    gg_rct_Trap1 = Rect(8608.0, -1600.0, 8672.0, -1312.0)
    gg_rct_Trap3 = Rect(8672.0, -1280.0, 8768.0, -992.0)
    gg_rct_Button_yard = Rect(8480.0, -1248.0, 8672.0, -1056.0)
    gg_rct_Rat_In = Rect(8672.0, -2112.0, 8800.0, -2016.0)
    gg_rct_Tower1 = Rect(10848.0, -2464.0, 11104.0, -1760.0)
    gg_rct_Doorway_Fly = Rect(9984.0, -2528.0, 10208.0, -1888.0)
    gg_rct_PreventFly = Rect(10496.0, -2944.0, 10752.0, -1568.0)
    gg_rct_NoFly1 = Rect(11936.0, -2208.0, 12192.0, -2112.0)
    gg_rct_NoFly2 = Rect(11808.0, -2784.0, 12064.0, -2688.0)
    gg_rct_NoFly3 = Rect(11360.0, -2112.0, 11488.0, -1888.0)
    gg_rct_NoFly4 = Rect(11040.0, -2496.0, 11136.0, -1920.0)
    gg_rct_NoFly5 = Rect(11552.0, -3424.0, 11712.0, -3168.0)
    gg_rct_NoFly6 = Rect(11008.0, -3520.0, 11168.0, -3168.0)
    gg_rct_NoFly7 = Rect(10752.0, -2496.0, 10880.0, -1920.0)
    gg_rct_NoFly8 = Rect(10400.0, -2464.0, 10528.0, -1888.0)
    gg_rct_Button_Throw = Rect(4768.0, 6304.0, 4960.0, 6496.0)
    gg_rct_Region_067 = Rect(3904.0, 5984.0, 4288.0, 6176.0)
    gg_rct_Region_068 = Rect(8960.0, -2720.0, 9472.0, -1952.0)
    gg_rct_ButtonYard = Rect(10112.0, -3072.0, 10272.0, -2848.0)
    gg_rct_DoorwayYard = Rect(10016.0, -2848.0, 10208.0, -2528.0)
    gg_rct_Region_071 = Rect(9600.0, -1888.0, 9888.0, -1728.0)
    gg_rct_AcidDoor = Rect(9376.0, -256.0, 9888.0, 128.0)
    gg_rct_boss = Rect(9088.0, 3328.0, 10112.0, 4640.0)
    gg_rct_Cry5 = Rect(2176.0, 7072.0, 3136.0, 7616.0)
    gg_rct_Region_075 = Rect(3200.0, 7072.0, 3392.0, 7520.0)
    gg_rct_WEbolldBoss = Rect(6400.0, 992.0, 7264.0, 1952.0)
    gg_rct_RedBossKey = Rect(1856.0, 5664.0, 2976.0, 6848.0)
    gg_rct_GreenBoss = Rect(10752.0, -448.0, 11872.0, 64.0)
    gg_rct_IceBoss = Rect(6208.0, -640.0, 7680.0, 416.0)
    gg_rct_WaytoChurch = Rect(9216.0, 1664.0, 9920.0, 1792.0)
    gg_rct_Light3 = Rect(4448.0, 5344.0, 4576.0, 5888.0)
    gg_rct_Dark3 = Rect(4320.0, 5344.0, 4448.0, 5888.0)
    gg_rct_Light4 = Rect(3648.0, 3712.0, 4064.0, 3808.0)
    gg_rct_Light5 = Rect(2624.0, 4256.0, 3104.0, 4384.0)
    gg_rct_Light6 = Rect(4896.0, 2720.0, 5312.0, 2816.0)
    gg_rct_Dark4 = Rect(3616.0, 3520.0, 4000.0, 3648.0)
    gg_rct_Dark5 = Rect(2592.0, 4416.0, 3104.0, 4544.0)
    gg_rct_Dark6 = Rect(4928.0, 2496.0, 5312.0, 2624.0)
    gg_rct_EnterCave = Rect(7680.0, 5888.0, 8352.0, 6176.0)
    gg_rct_Cry6 = Rect(-1344.0, 8064.0, -800.0, 8608.0)
    gg_rct_LeaveMausoleum = Rect(4224.0, 8768.0, 4640.0, 9792.0)
    gg_rct_Dark8 = Rect(3616.0, 9344.0, 4512.0, 9504.0)
    gg_rct_bossWin = Rect(9664.0, 4992.0, 10016.0, 5152.0)
    gg_rct_Tips2 = Rect(-512.0, 6112.0, 64.0, 6272.0)
    gg_rct_Tips3 = Rect(0.0, 7712.0, 128.0, 8448.0)
    gg_rct_BossRealStart = Rect(9024.0, 3808.0, 10176.0, 4640.0)
    gg_rct_DestroyVision1 = Rect(-1408.0, 7744.0, -1152.0, 8192.0)
    gg_rct_ButtonA_1 = Rect(4768.0, 7200.0, 4960.0, 7392.0)
    gg_rct_ButtonA_2 = Rect(5536.0, 7200.0, 5728.0, 7392.0)
    gg_rct_ButtonA_3 = Rect(5152.0, 6688.0, 5344.0, 6880.0)
    gg_rct_Armor_Zone = Rect(4992.0, 7040.0, 5504.0, 7552.0)
    gg_rct_Golem_Free = Rect(5152.0, 7680.0, 5344.0, 8000.0)
    gg_rct_UndergroundDoor1 = Rect(6048.0, -2496.0, 6304.0, -2112.0)
    gg_rct_UndergroundDoor2 = Rect(5632.0, -1024.0, 6080.0, -704.0)
    gg_rct_SecretDoor1 = Rect(7808.0, -2784.0, 8096.0, -2592.0)
    gg_rct_DoorWayOpen5 = Rect(-5952.0, 10720.0, -5664.0, 10912.0)
    gg_rct_RespawnBandit = Rect(2432.0, 11136.0, 2560.0, 11264.0)
    gg_rct_BanditGate = Rect(3136.0, 11072.0, 3232.0, 11232.0)
    gg_rct_Outro2 = Rect(3616.0, 10624.0, 4160.0, 11104.0)
    gg_rct_Outro3 = Rect(2432.0, 10176.0, 2656.0, 11392.0)
    gg_rct_Outro4 = Rect(-2560.0, 10592.0, -1184.0, 11584.0)
    gg_rct_Outro5 = Rect(-6272.0, 10208.0, -5216.0, 11168.0)
    gg_rct_FinalBanditsSpawn = Rect(-5440.0, 9664.0, -5120.0, 9952.0)
    gg_rct_Outro = Rect(-5344.0, 10272.0, -5248.0, 10400.0)
    gg_rct_BashZone = Rect(6112.0, 10528.0, 6816.0, 11296.0)
    gg_rct_FinalZone = Rect(-6368.0, 9824.0, -4896.0, 11936.0)
    gg_rct_OpenGate6 = Rect(-2624.0, 11136.0, -2464.0, 11584.0)
    gg_rct_EventKill = Rect(-3360.0, 11072.0, -2656.0, 11712.0)
    gg_rct_Skull1 = Rect(-3296.0, 9728.0, -3040.0, 10016.0)
    gg_rct_Skull2 = Rect(-3552.0, 9632.0, -3296.0, 9888.0)
    gg_rct_Skull3 = Rect(-3808.0, 9760.0, -3584.0, 9984.0)
    gg_rct_SkullPortal = Rect(-3520.0, 10080.0, -3360.0, 10176.0)
    gg_rct_TPToNecro = Rect(832.0, 9152.0, 1216.0, 9312.0)
    gg_rct_TPToNecroOut = Rect(-6080.0, 2496.0, -5696.0, 2656.0)
    gg_rct_HideWall = Rect(832.0, 8320.0, 1312.0, 9024.0)
    gg_rct_OpenGate = Rect(1248.0, 8256.0, 1632.0, 8768.0)
    gg_rct_FieldSkeletons = Rect(-6528.0, 3744.0, -5248.0, 5088.0)
    gg_rct_KotobogInteract = Rect(512.0, -736.0, 704.0, -544.0)
    gg_rct_YellowDoor = Rect(8864.0, 5248.0, 9088.0, 5632.0)
    gg_rct_Dark7 = Rect(7680.0, 8576.0, 7840.0, 9216.0)
    gg_rct_Light7 = Rect(7840.0, 8640.0, 7968.0, 9280.0)
    gg_rct_xWizard = Rect(11456.0, 8960.0, 11808.0, 9216.0)
    gg_rct_xWizardPatrol = Rect(11392.0, 9344.0, 11872.0, 9664.0)
    gg_rct_Region_131 = Rect(10848.0, 11968.0, 11360.0, 12256.0)
    gg_rct_Dark9 = Rect(9440.0, 5760.0, 9984.0, 5856.0)
    gg_rct_YellowKeyMaster = Rect(11424.0, 2720.0, 11680.0, 2880.0)
    gg_rct_Light8 = Rect(9248.0, 5888.0, 10240.0, 5984.0)
    gg_rct_OgreMan = Rect(-4928.0, 7296.0, -4384.0, 7776.0)
    gg_rct_BarrelAlternate = Rect(8448.0, 3264.0, 8576.0, 3392.0)
    gg_rct_PeonPlace = Rect(-5792.0, -3392.0, -5312.0, -2912.0)
    gg_rct_BrokenLever = Rect(13216.0, 3456.0, 13504.0, 3904.0)
    gg_rct_BlackDoor = Rect(14528.0, 2208.0, 14880.0, 2528.0)
    gg_rct_BlackDoorIn = Rect(14880.0, 2208.0, 15136.0, 2560.0)
    gg_rct_Dark10 = Rect(14304.0, 4928.0, 14848.0, 5088.0)
    gg_rct_Light9 = Rect(13984.0, 4736.0, 14976.0, 4928.0)
    gg_rct_PlayerSave1 = Rect(480.0, 3264.0, 1472.0, 3872.0)
    gg_rct_Fence1 = Rect(-3360.0, 3552.0, -3072.0, 3744.0)
    gg_rct_Fence2 = Rect(-2080.0, 2816.0, -1792.0, 3008.0)
    gg_rct_LightFight = Rect(11232.0, 2528.0, 12032.0, 4096.0)
    gg_rct_HintObstacle = Rect(3648.0, 1888.0, 3968.0, 2272.0)
    gg_rct_HintObstacle2 = Rect(8256.0, 2656.0, 9024.0, 3040.0)
    gg_rct_HintBloodGout = Rect(5792.0, -1024.0, 7328.0, 480.0)
    gg_rct_HintBatsEvasion = Rect(5856.0, 864.0, 6304.0, 1600.0)
    gg_rct_OpenGate11 = Rect(8864.0, -672.0, 9056.0, -320.0)
    gg_rct_NoEnter2 = Rect(7712.0, 576.0, 9056.0, 992.0)
    gg_rct_NoEnterHeart = Rect(8192.0, 256.0, 8320.0, 384.0)
    gg_rct_OpenDoor3 = Rect(8384.0, -992.0, 8736.0, -800.0)
    gg_rct_AbuserZone = Rect(-6208.0, 2432.0, -5600.0, 3808.0)
    gg_rct_NoKainHere = Rect(-3776.0, 8384.0, -2944.0, 9504.0)
    gg_rct_NoTraderHere = Rect(-2944.0, 8768.0, -2848.0, 9504.0)
    gg_rct_NoTraderHere2 = Rect(-1056.0, 10880.0, -608.0, 11264.0)
    gg_rct_TraderRespawn = Rect(-1824.0, 9216.0, -1696.0, 9312.0)
    gg_rct_VillageGate = Rect(-3616.0, 8768.0, -3360.0, 9184.0)
    gg_rct_Patrol1 = Rect(-2432.0, 10304.0, -2272.0, 10432.0)
    gg_rct_Start1 = Rect(-5472.0, 8704.0, -5344.0, 8832.0)
    gg_rct_GuardZone = Rect(3872.0, 6560.0, 6560.0, 8288.0)
    gg_rct_p1 = Rect(-5216.0, 9408.0, -5120.0, 9536.0)
    gg_rct_p2 = Rect(-5024.0, 11040.0, -4896.0, 11168.0)
    gg_rct_p3 = Rect(-4160.0, 10976.0, -4032.0, 11072.0)
    gg_rct_TraderReadyPoint = Rect(-2048.0, 9376.0, -1888.0, 9504.0)
    gg_rct_p4 = Rect(-4960.0, 10144.0, -4832.0, 10272.0)
    gg_rct_p5 = Rect(-2784.0, 10976.0, -2656.0, 11104.0)
    gg_rct_p6 = Rect(-2432.0, 11584.0, -2336.0, 11680.0)
    gg_rct_BlackDoorInTp = Rect(14656.0, -96.0, 14784.0, 32.0)
    gg_rct_BlackDoorOut = Rect(14464.0, -256.0, 15008.0, -128.0)
end

function CreateCameras()
    gg_cam_Cinematic1 = CreateCameraSetup()
    CameraSetupSetField(gg_cam_Cinematic1, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic1, CAMERA_FIELD_ROTATION, 89.8, 0.0)
    CameraSetupSetField(gg_cam_Cinematic1, CAMERA_FIELD_ANGLE_OF_ATTACK, 334.8, 0.0)
    CameraSetupSetField(gg_cam_Cinematic1, CAMERA_FIELD_TARGET_DISTANCE, 1127.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic1, CAMERA_FIELD_ROLL, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic1, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic1, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic1, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic1, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic1, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic1, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    CameraSetupSetDestPosition(gg_cam_Cinematic1, -6726.2, 12238.4, 0.0)
    gg_cam_Camera_003 = CreateCameraSetup()
    CameraSetupSetField(gg_cam_Camera_003, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Camera_003, CAMERA_FIELD_ROTATION, 89.8, 0.0)
    CameraSetupSetField(gg_cam_Camera_003, CAMERA_FIELD_ANGLE_OF_ATTACK, 300.0, 0.0)
    CameraSetupSetField(gg_cam_Camera_003, CAMERA_FIELD_TARGET_DISTANCE, 1650.0, 0.0)
    CameraSetupSetField(gg_cam_Camera_003, CAMERA_FIELD_ROLL, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Camera_003, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    CameraSetupSetField(gg_cam_Camera_003, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    CameraSetupSetField(gg_cam_Camera_003, CAMERA_FIELD_NEARZ, 100.0, 0.0)
    CameraSetupSetField(gg_cam_Camera_003, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Camera_003, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Camera_003, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    CameraSetupSetDestPosition(gg_cam_Camera_003, -177.7, 6515.7, 0.0)
    gg_cam_Cinematic2 = CreateCameraSetup()
    CameraSetupSetField(gg_cam_Cinematic2, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic2, CAMERA_FIELD_ROTATION, 90.6, 0.0)
    CameraSetupSetField(gg_cam_Cinematic2, CAMERA_FIELD_ANGLE_OF_ATTACK, 339.8, 0.0)
    CameraSetupSetField(gg_cam_Cinematic2, CAMERA_FIELD_TARGET_DISTANCE, 1500.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic2, CAMERA_FIELD_ROLL, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic2, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic2, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic2, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic2, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic2, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic2, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    CameraSetupSetDestPosition(gg_cam_Cinematic2, -5694.9, -1913.5, 0.0)
    gg_cam_Cinematic3 = CreateCameraSetup()
    CameraSetupSetField(gg_cam_Cinematic3, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic3, CAMERA_FIELD_ROTATION, 208.6, 0.0)
    CameraSetupSetField(gg_cam_Cinematic3, CAMERA_FIELD_ANGLE_OF_ATTACK, 336.9, 0.0)
    CameraSetupSetField(gg_cam_Cinematic3, CAMERA_FIELD_TARGET_DISTANCE, 1996.5, 0.0)
    CameraSetupSetField(gg_cam_Cinematic3, CAMERA_FIELD_ROLL, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic3, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic3, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic3, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic3, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic3, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic3, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    CameraSetupSetDestPosition(gg_cam_Cinematic3, -6202.4, -2976.1, 0.0)
    gg_cam_Cinematic4 = CreateCameraSetup()
    CameraSetupSetField(gg_cam_Cinematic4, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic4, CAMERA_FIELD_ROTATION, 273.3, 0.0)
    CameraSetupSetField(gg_cam_Cinematic4, CAMERA_FIELD_ANGLE_OF_ATTACK, 320.9, 0.0)
    CameraSetupSetField(gg_cam_Cinematic4, CAMERA_FIELD_TARGET_DISTANCE, 699.8, 0.0)
    CameraSetupSetField(gg_cam_Cinematic4, CAMERA_FIELD_ROLL, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic4, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic4, CAMERA_FIELD_FARZ, 5000.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic4, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic4, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic4, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic4, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    CameraSetupSetDestPosition(gg_cam_Cinematic4, -5657.1, -3064.8, 0.0)
    gg_cam_Cinematic5 = CreateCameraSetup()
    CameraSetupSetField(gg_cam_Cinematic5, CAMERA_FIELD_ZOFFSET, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic5, CAMERA_FIELD_ROTATION, 352.5, 0.0)
    CameraSetupSetField(gg_cam_Cinematic5, CAMERA_FIELD_ANGLE_OF_ATTACK, 347.8, 0.0)
    CameraSetupSetField(gg_cam_Cinematic5, CAMERA_FIELD_TARGET_DISTANCE, 1024.5, 0.0)
    CameraSetupSetField(gg_cam_Cinematic5, CAMERA_FIELD_ROLL, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic5, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic5, CAMERA_FIELD_FARZ, 4545.5, 0.0)
    CameraSetupSetField(gg_cam_Cinematic5, CAMERA_FIELD_NEARZ, 16.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic5, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic5, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0)
    CameraSetupSetField(gg_cam_Cinematic5, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0)
    CameraSetupSetDestPosition(gg_cam_Cinematic5, -4103.9, -2029.7, 0.0)
end

--CUSTOM_CODE
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 18.11.2020 15:13
---

do
    TimerStart(CreateTimer(), 3, false, function()
        InitGuardSystem()
    end)
end
function InitGuardSystem()
    local _,k,units=FindUnitOfType(FourCC("h00F"))
    --print(" "..k.." ")
    for i=1,k do
        AddMarkAndRegister(units[i])
    end
end

function AddMarkAndRegister(unit)
    local radius=350
    local img=CreateImage("circ",radius,radius,radius,4000,4000,0,0,0,0,4)
    SetImageColor(img,255,0,0,200)
    SetImageRenderAlways(img, true)
    ShowImage(img,false)
    TimerStart(CreateTimer(), TIMER_PERIOD, true, function()
        --local x,y=GetUnitXY(unit)
        if IsUnitVisible(unit,Player(0)) and GetUnitTypeId(mainHero)==FourCC("h00G") then
            local xs,ys=GetUnitX(unit)-radius/2-16,GetUnitY(unit)-radius/2-16
            --SetImagePosition(CircleImage,xs,ys,0)
            SetImagePosition(img,xs,ys,0)
            ShowImage(img,true)
        else
            ShowImage(img,false)
        end
        if not UnitAlive(unit) then
            DestroyTimer(GetExpiredTimer())
            ShowImage(img,false)
        end
    end)


    --
    local this=CreateTrigger()
    TriggerRegisterUnitInRangeSimple(this, 150, unit)
    TriggerAddAction(this, function()
        local hero=GetTriggerUnit()
        if hero==mainHero and  GetUnitTypeId(mainHero)==FourCC("h00G") then
            local p=Player(0)
            SetPlayerAllianceStateBJ(p, GetOwningPlayer(unit), bj_ALLIANCE_UNALLIED)
            SetPlayerAllianceStateBJ(GetOwningPlayer(unit),p, bj_ALLIANCE_UNALLIED)
            local effAlarm=AddSpecialEffectTarget("Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl",unit,"overhead")
            TimerStart(CreateTimer(), 2, false, function()
                DestroyEffect(effAlarm)
            end)
        end
    end)
end


---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 11.10.2020 17:34
---
function HealUnit(hero,amount,flag,eff)
    --1  nil  
    --2 
    if not eff then eff="Abilities\\Spells\\Human\\Heal\\HealTarget" end
    local p=GetOwningPlayer(hero)
    local MaxHP=BlzGetUnitMaxHP(hero)
    local CurrentHP=GetUnitState(hero,UNIT_STATE_LIFE)
    local LoosingHP=MaxHP-CurrentHP
    local OverHeal=amount-LoosingHP
    local TotalHeal=amount
    if LoosingHP<=amount then TotalHeal=LoosingHP	end
    DestroyEffect(AddSpecialEffectTarget(eff,hero,"overhead"))
    SetUnitState(hero,UNIT_STATE_LIFE,CurrentHP+TotalHeal)
    if TotalHeal>1 then
        FlyTextTagHealXY(GetUnitX(hero),GetUnitY(hero),"+"..R2I(TotalHeal),p)
    end
    if not flag or flag==1 then
        return TotalHeal
    end
    if  flag==2 then
        return OverHeal
    end
end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 10.01.2020 23:44
---
---@param x real
---@param y real
---@return boolean
function InMapXY(x, y)
	return x > GetRectMinX(bj_mapInitialPlayableArea) and x < GetRectMaxX(bj_mapInitialPlayableArea) and y > GetRectMinY(bj_mapInitialPlayableArea) and y < GetRectMaxY(bj_mapInitialPlayableArea)
end

---@param x real
---@param distance real
---@param angle real radian
---@return real
function GetPolarOffsetX(x, distance, angle)
	return x + distance * math.cos(angle)
end

---@param y real
---@param distance real
---@param angle real radian
---@return real
function GetPolarOffsetY(y, distance, angle)
	return y + distance * math.sin(angle)
end

---@param x real
---@param distance real
---@param angle real degrees
---@return real
function MoveX(x, distance, angle)
	return x + distance * math.cos(angle * bj_DEGTORAD)
end

---@param y real
---@param distance real
---@param angle real degrees
---@return real
function MoveY(y, distance, angle)
	return y + distance * math.sin(angle * bj_DEGTORAD)
end


local GetTerrainZ_location = Location(0, 0)
---@param x real
---@param y real
---@return real
function GetTerrainZ(x, y)
	MoveLocation(GetTerrainZ_location, x, y)
	return GetLocationZ(GetTerrainZ_location)
end

---@param target unit
---@return real
function GetUnitZ(target)
	MoveLocation(GetTerrainZ_location, GetUnitX(target), GetUnitY(target))
	return GetLocationZ(GetTerrainZ_location) + GetUnitFlyHeight(target)
end

---@param target unit
---@param z real
function SetUnitZ(target, z)
	UnitAddAbility(target, FourCC('Aave'))
	UnitRemoveAbility(target, FourCC('Aave'))
	MoveLocation(GetTerrainZ_location, GetUnitX(target), GetUnitY(target))
	SetUnitFlyHeight(target, z - GetLocationZ(GetTerrainZ_location), 0)
end

---@param h real        (x = d / 2)
---@param d real    
---@param x real      ,      
---@return real
function ParabolaZ (h, d, x)
	return (4 * h / d) * (d - x) * (x / d)
end

---@param zs real      
---@param ze real      
---@param h real      (x = d / 2)
---@param d real    
---@param x real      
---@return real
function GetParabolaZ(zs, ze, h, d, x)
	return (2 * (zs + ze - 2 * h) * (x / d - 1) + (ze - zs)) * (x / d) + zs
end

---@param xa real
---@param ya real
---@param xb real
---@param yb real
---@return real
function DistanceBetweenXY(xa, ya, xb, yb)
	local dx = xb - xa
	local dy = yb - ya
	return math.sqrt(dx * dx + dy * dy)
end

---@param xa real
---@param ya real
---@param za real
---@param xb real
---@param yb real
---@param zb real
---@return real
function DistanceBetweenXYZ(xa, ya, za, xb, yb, zb)
	local dx = xb - xa
	local dy = yb - ya
	local dz = zb - za
	return math.sqrt(dx * dx + dy * dy + dz * dz)
end

---@param xa real
---@param ya real
---@param xb real
---@param yb real
---@return real radian
function AngleBetweenXY(xa, ya, xb, yb)
	return math.atan(yb - ya, xb - xa)
end

---@param a real radian
---@param b real radian
---@return real radian
function AngleDifference(a, b)
	local c---@type real
	local d---@type real
	if a > b then
		c = a - b
		d = b - a + 2 * math.pi
	else
		c = b - a
		d = a - b + 2 * math.pi
	end
	return c > d and d or c
end

--@author https://xgm.guru/p/wc3/warden-math
---@param a real degrees
---@param b real degrees
---@return real degrees
function AngleDifferenceDeg(a, b)
	a, b = math.abs(a, 360), math.abs(b, 360)
	local x---@type real
	if (a > b) then
		a, b = b, a
	end
	x = b - 360
	if (b - a > a - x) then
		b = x
	end
	return math.abs(a - b)
end

--     ,  xa, ya, xb, yb  ,  xc, yc
--@author https://xgm.guru/p/wc3/perpendicular
---@param xa real
---@param ya real
---@param xb real
---@param yb real
---@param xc real
---@param yc real
---@return real
function Perpendicular (xa, ya, xb, yb, xc, yc)
	return math.sqrt((xa - xc) * (xa - xc) + (ya - yc) * (ya - yc)) * math.sin(math.atan(yc - ya, xc - xa) - math.atan(yb - ya, xb - xa))
end

--@Hate https://xgm.guru/p/wc3/241479
---@param source unit
---@param x real
---@param y real
function SetUnitPositionSmooth(source, x, y)
	local last_x = GetUnitX(source)
	local last_y = GetUnitY(source)
	local bx
	local by
	--print(" ")
	SetUnitPosition(source, x, y)
	if (RAbsBJ(GetUnitX(source) - x) > 0.5) or (RAbsBJ(GetUnitY(source) - y) > 0.5) then
		SetUnitPosition(source, x, last_y)
		bx = RAbsBJ(GetUnitX(source) - x) <= 0.5
		SetUnitPosition(source, last_x, y)
		by = RAbsBJ(GetUnitY(source) - y) <= 0.5

		---
		local dx=math.abs(x-last_x)
		if dx>=100 then
			--print("    Smooth"..dx )
		end
		---
		if bx then
			SetUnitPosition(source, x, last_y)
		elseif by then
			SetUnitPosition(source, last_x, y)
		else
			SetUnitPosition(source, last_x, last_y)
		end
	end
end

--Bergi
function GetUnitXY(unit)
	return GetUnitX(unit),GetUnitY(unit)
end

function MoveXY(x,y, distance, angle)
	return x + distance * math.cos(angle * bj_DEGTORAD),y + distance * math.sin(angle * bj_DEGTORAD)
end

function UnitCollisionOFF(unit)
	UnitAddAbility(unit,FourCC('A000'))
	IssueImmediateOrder(unit,"windwalk")
end

function AngleBetweenUnits(caster,target)
	local yb,ya,xb,xa=GetUnitY(target),GetUnitY(caster),GetUnitX(target),GetUnitX(caster)
	return Atan2BJ(yb - ya, xb - xa)
end

function math.clamp (inb, low, high)
	return math.min( math.max(inb, low ), high )
end

function math.lerp(a, b, t)
	return a + (b - a) * t
end

function repeatN(t, m)
	return math.clamp(t - math.floor(t / m) * m, 0, m)
end

function lerpTheta(a, b, t)
	local dt = repeatN(b - a, 360)
	if dt>180 then	dt=dt-360 end
	return math.lerp(a, a + dt, t)
end

function AngleBetweenXYZ(x1, y1,z1, x2, y2,z2)
	local a=x1*x2+y1*y2+z1*z2
	local b=math.sqrt(x1*x1+y1*y1+z1*z1)
	local c=math.sqrt(x2*x2+y2*y2+z2*z2)
	return math.acos(a/(b*c))
end

--    
-- x1, x2 -   
-- x2, y2 -   
-- orientation -     
-- width -     
-- radius -    
function IsPointInSector(x1,y1,x2,y2,orientation,width,radius)
	local lenght=DistanceBetweenXY(x1,y1,x2,y2)
	local angle=Acos(Cos(orientation*bj_DEGTORAD)*(x1-x2)/lenght+Sin(orientation*bj_DEGTORAD)*(y1-y2)/lenght )*bj_RADTODEG
	return angle<=width and lenght<=radius
end

function GetParabolaPitch(height,distance,i, speed)
	local f = function(x)
		return ParabolaZ(height, distance, x)
	end

	local df = function(x)
		return ParabolaZDerivative(height, distance, x)
	end
	local x0 = i * speed
	local x1 = x0 + speed
	local thisZ = f(x0)
	local someTangentZ = Tangent(f, df, x0, x1)
	return math.atan(someTangentZ - thisZ, x1 - x0)--pitch
end
function Tangent(f, df, x0, x)
	return f(x0) + df(x0) * (x - x0)
end
function ParabolaZDerivative(height, distance, x)
	return 4 * height / distance / distance * (distance - 2 * x)
end

---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 21.10.2020 0:13
do
    WLD={ --   
        [1]=FourCC('YTfc'),
        [2]=FourCC('YTLb'),
        [3]=FourCC('YtLc'),
        [4]=FourCC('YTac'),
        [5]=FourCC('YTpc'),
        [6]=FourCC('YTab'),
        [7]=FourCC('YTfb'),
        [8]=FourCC('YTpb'),

    }
end

do
    TimerStart(CreateTimer(), .1, false, function()
        InitMouseMoveTrigger()
        PlayUnitAnimationFromChat()
        --InitWASD(hero) --    
    end)

end

TIMER_PERIOD=1/64
HERO={}
function InitHeroTable(hero)
    perebor=CreateGroup()
    HERO[0]={
        UnitHero=hero,
        ReleaseW=false,
        ReleaseS=false,
        ReleaseD=false,
        ReleaseA=false,
        ReleaseLMB=false,
        ReleaseRMB=false,
        isAttacking=false,
        isCharging=false,
        isMoving=false,
        DropInventory=true,
        isShield=false,
        ShieldEff=nil,
    }
end


function InitWASD(hero)
    --print("initwasdSTART")
    InitHeroTable(hero)
    CreateWASDActions()
    BlockMouse()
    EnableDragSelect(false, false)
    BlzEnableSelections(false, false)
    local data=HERO[0]
    local angle=0

    local speed=5
    local animWalk=0
--[[
    print("testanim")
    local index=0
    TimerStart(CreateTimer(),2, true, function()
        SetUnitAnimationByIndex(hero,index)
        print(index)
        index=index+1
    end)]]
    animStand=0
    TimerStart(CreateTimer(),TIMER_PERIOD, true, function()
        data.UnitHero=mainHero --    
        hero=mainHero --    
        animWalk=animWalk+TIMER_PERIOD
        if animWalk>=0.933 then --  WALK
            --print(animWalk)
            animWalk=0
        end
        if GetUnitTypeId(mainHero)==FourCC("H000") then --  
            IndexAnimationWalk=1
            IndexAnimationAttack=5
            IndexAnimationCharge=6

        end
        if GetUnitTypeId(mainHero)==FourCC("Hpal") then   --  
            IndexAnimationWalk=0
            IndexAnimationAttack=GetRandomInt(12,13)
            --IndexAnimationCharge=16

        end
        if GetUnitTypeId(mainHero)==FourCC("n003") then   --  
            IndexAnimationWalk=1
            IndexAnimationAttack=2

        end
        if GetUnitTypeId(mainHero)==FourCC("nrat") then   --  
            IndexAnimationWalk=1
            IndexAnimationAttack=2

        end
        if GetUnitTypeId(mainHero)==FourCC("h002") then   --  
            IndexAnimationWalk=2
            IndexAnimationAttack=5
        end
        if GetUnitTypeId(mainHero)==FourCC("hfoo") then   -- 
            IndexAnimationWalk=5
            IndexAnimationAttack=GetRandomInt(3,4)

        end
        if GetUnitTypeId(mainHero)==FourCC("Edmm") then   --   2,5 dssd
            IndexAnimationWalk=1
            --IndexAnimationAttack=GetRandomInt(3,4)

        end
        if GetUnitTypeId(mainHero)==FourCC("h006") then   --  6 
            IndexAnimationWalk=5
            IndexAnimationAttack=GetRandomInt(3,4)

        end
        if GetUnitTypeId(mainHero)==FourCC("h007") then   --  
            IndexAnimationWalk=4
            IndexAnimationAttack=9

        end
        if GetUnitTypeId(mainHero)==FourCC("h00A") then   --   7
            IndexAnimationWalk=4
            IndexAnimationAttack=3

        end
        if GetUnitTypeId(mainHero)==FourCC("h00B") then   --   8
            IndexAnimationWalk=5
            IndexAnimationAttack=GetRandomInt(3,4)

        end
        if GetUnitTypeId(mainHero)==FourCC("n006") then   -- 
            IndexAnimationWalk=6
            IndexAnimationAttack=GetRandomInt(4,5)

        end
        if GetUnitTypeId(mainHero)==FourCC("nvlw") then   -- 
            IndexAnimationWalk=1
            IndexAnimationAttack=3

        end
        if GetUnitTypeId(mainHero)==FourCC("o004") then   -- 
            IndexAnimationWalk=1
            IndexAnimationAttack=2
        end
        if GetUnitTypeId(mainHero)==FourCC("n00E") then   -- 
            IndexAnimationWalk=2
            IndexAnimationAttack=4
        end

        if GetUnitTypeId(mainHero)==FourCC("h00F") then   -- 
            IndexAnimationWalk=6
            IndexAnimationAttack=GetRandomInt(4,5)
        end

        if GetUnitTypeId(mainHero)==FourCC("h00G") then   -- 
            IndexAnimationWalk=10
            IndexAnimationAttack=9
        end

        -- 
        if data.DropInventory and IsUnitType(mainHero,UNIT_TYPE_HERO) then
            local range=150
            local x,y=GetUnitXY(hero)
            SetRect(GlobalRect, x - range, y - range, x + range, y +range)
            EnumItemsInRect(GlobalRect,nil,function()
                UnitAddItem(hero,GetEnumItem())
                if GetItemType(GetEnumItem()) == ITEM_TYPE_POWERUP then
                    SetItemPosition(GetEnumItem(),-7000,-3000) --    
                    RemoveItem(GetEnumItem())
                end
            end)
        end

        data.IsMoving=false
        if data.ReleaseW and data.ReleaseD == false and data.ReleaseA == false then
            --print("only w")
            angle = 90
            data.IsMoving = true
        end
        if data.ReleaseW and data.ReleaseD then
            --print("w+d")
            angle = 90 - 45
            data.IsMoving = true
        end
        if data.ReleaseW and data.ReleaseA then
            --print("w+s")
            angle = 90 + 45
            data.IsMoving = true
        end

        if data.ReleaseS and data.ReleaseD == false and data.ReleaseA == false then
            angle = 270
            data.IsMoving = true
        end
        if data.ReleaseS and data.ReleaseD then
            angle = 270 + 45
            data.IsMoving = true
        end
        if data.ReleaseS and data.ReleaseA then
            angle = 270 - 45
            data.IsMoving = true
        end

        if data.ReleaseD and data.ReleaseW == false and data.ReleaseS == false then
            angle = 0
            data.IsMoving = true
        end

        if data.ReleaseA and data.ReleaseW == false and data.ReleaseS == false then
            angle = 180
            data.IsMoving = true
        end

        if not UnitAlive(hero) then
            data.ReleaseW=false
            data.ReleaseA=false
            data.ReleaseS=false
            data.ReleaseD=false
        end
        if not StunSystem[GetHandleId(mainHero)] then
            StunUnit(mainHero,0.2)
        end
        if  StunSystem[GetHandleId(mainHero)].Time==0 then
            if not data.isAttacking and UnitAlive(hero) and not data.isShield then
                if data.IsMoving then
                    if  GetUnitTypeId(hero)==FourCC("Edmm") then--   
                        speed=7
                    else
                        speed=5
                    end
                    local x,y=GetUnitXY(hero)
                    local nx,ny=MoveXY(x,y,speed,angle)
                    SetUnitFacing(hero, angle)
                    SetUnitPositionSmooth(hero,nx,ny)

                    if animWalk==0 then
                        if  GetUnitTypeId(hero)~=FourCC("Edmm") then
                            SetUnitAnimationByIndex(hero,IndexAnimationWalk)
                            local r={SoundStep1,SoundStep2,SoundStep3,SoundStep4}
                            PlaySoundNearUnit(hero,r[GetRandomInt(1,4)])
                        else
                            --  print("    ")
                        end
                        --print("w")
                        animStand=3
                    end
                else
                    --if animWalk==0 then

                    animStand=animStand+TIMER_PERIOD
                    if animStand>=2 then --  WALK
                        --print(animWalk)
                        if  GetUnitTypeId(hero)~=FourCC("Edmm") then
                            ResetUnitAnimation(hero)
                            --print(" ")
                        else
                            -- print("  ")
                        end
                        animStand=0
                    end
                    --end
                    --print("r")--..GetUnitName(mainHero)
                end
            else
                --print("onattaking")
            end
        else--   
            SetUnitAnimationByIndex(mainHero,5)
            UnitRemoveAbility(mainHero,FourCC("A003"))
            UnitRemoveAbility(mainHero,FourCC("A004"))
        end


    end)
end

function CreateWASDActions()
    -----------------------------------------------------------------OSKEY_W
    local gg_trg_EventUpW = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        BlzTriggerRegisterPlayerKeyEvent(gg_trg_EventUpW, Player(i), OSKEY_W, 0, true)
        BlzTriggerRegisterPlayerKeyEvent(gg_trg_EventUpW, Player(i), OSKEY_UP, 0, true)
    end
    TriggerAddAction(gg_trg_EventUpW, function()
        local pid = GetPlayerId(GetTriggerPlayer())
        local data = HERO[pid]
        if not data.ReleaseW and not data.isAttacking  and  UnitAlive(data.UnitHero) then
            data.ReleaseW = true
            SelectUnitForPlayerSingle(mainHero,Player(0))
            if not data.isAttacking and not data.isShield and StunSystem[GetHandleId(mainHero)].Time==0 then

                UnitAddForceSimple(data.UnitHero,90,5, 15)
                animStand=3
                SetUnitAnimationByIndex(data.UnitHero,IndexAnimationWalk)
            end

        end
    end)
    local TrigDepressW = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        BlzTriggerRegisterPlayerKeyEvent(TrigDepressW, Player(i), OSKEY_W, 0, false)
        BlzTriggerRegisterPlayerKeyEvent(TrigDepressW, Player(i), OSKEY_UP, 0, false)
    end
    TriggerAddAction(TrigDepressW, function()
        local pid = GetPlayerId(GetTriggerPlayer())
        local data = HERO[pid]
        data.ReleaseW = false
    end)
    -----------------------------------------------------------------OSKEY_S
    local gg_trg_EventUpS = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        BlzTriggerRegisterPlayerKeyEvent(gg_trg_EventUpS, Player(i), OSKEY_S, 0, true)
        BlzTriggerRegisterPlayerKeyEvent(gg_trg_EventUpS, Player(i), OSKEY_DOWN, 0, true)
    end
    TriggerAddAction(gg_trg_EventUpS, function()
        local pid = GetPlayerId(GetTriggerPlayer())
        local data = HERO[pid]
        if not data.ReleaseS and not data.isAttacking and UnitAlive(data.UnitHero) then
            data.ReleaseS = true
            SelectUnitForPlayerSingle(mainHero,Player(0))
            if not data.isAttacking and not data.isShield and StunSystem[GetHandleId(mainHero)].Time==0 then
                animStand=3
                UnitAddForceSimple(data.UnitHero,270,5, 15)
                SetUnitAnimationByIndex(data.UnitHero,IndexAnimationWalk)

            end
        end
    end)
    local TrigDepressS = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        BlzTriggerRegisterPlayerKeyEvent(TrigDepressS, Player(i), OSKEY_S, 0, false)
        BlzTriggerRegisterPlayerKeyEvent(TrigDepressS, Player(i), OSKEY_DOWN, 0, false)
    end
    TriggerAddAction(TrigDepressS, function()
        local pid = GetPlayerId(GetTriggerPlayer())
        local data = HERO[pid]
        data.ReleaseS = false
    end)
    -----------------------------------------------------------------OSKEY_D
    local TrigPressD = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        BlzTriggerRegisterPlayerKeyEvent(TrigPressD, Player(i), OSKEY_D, 0, true)
        BlzTriggerRegisterPlayerKeyEvent(TrigPressD, Player(i), OSKEY_RIGHT, 0, true)
    end
    TriggerAddAction(TrigPressD, function()
        local pid = GetPlayerId(GetTriggerPlayer())
        local data = HERO[pid]
        if not data.ReleaseD and not data.isAttacking  and UnitAlive(data.UnitHero) then
            data.ReleaseD = true
            SelectUnitForPlayerSingle(mainHero,Player(0))
            if not data.isAttacking and not data.isShield and StunSystem[GetHandleId(mainHero)].Time==0 then
                animStand=3
                UnitAddForceSimple(data.UnitHero,0,5, 15)
                SetUnitAnimationByIndex(data.UnitHero,IndexAnimationWalk)

            end
        end
    end)
    local TrigDePressD = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        BlzTriggerRegisterPlayerKeyEvent(TrigDePressD, Player(i), OSKEY_D, 0, false)
        BlzTriggerRegisterPlayerKeyEvent(TrigDePressD, Player(i), OSKEY_RIGHT, 0, false)
    end
    TriggerAddAction(TrigDePressD, function()
        local pid = GetPlayerId(GetTriggerPlayer())
        local data = HERO[pid]
        data.ReleaseD = false

    end)
    -----------------------------------------------------------------OSKEY_A
    local TrigPressA = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        BlzTriggerRegisterPlayerKeyEvent(TrigPressA, Player(i), OSKEY_A, 0, true)
        BlzTriggerRegisterPlayerKeyEvent(TrigPressA, Player(i), OSKEY_LEFT, 0, true)
    end
    TriggerAddAction(TrigPressA, function()
        local pid = GetPlayerId(GetTriggerPlayer())
        local data = HERO[pid]
        if not data.ReleaseA and not data.isAttacking  and  UnitAlive(data.UnitHero) and StunSystem[GetHandleId(mainHero)].Time==0 then
            data.ReleaseA = true
            SelectUnitForPlayerSingle(mainHero,Player(0))
            if not data.isAttacking and not data.isShield then
                animStand=3
                UnitAddForceSimple(data.UnitHero,180,5, 15)
                SetUnitAnimationByIndex(data.UnitHero,IndexAnimationWalk)

            end
        end
    end)
    local TrigDePressA = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        BlzTriggerRegisterPlayerKeyEvent(TrigDePressA, Player(i), OSKEY_A, 0, false)
        BlzTriggerRegisterPlayerKeyEvent(TrigDePressA, Player(i), OSKEY_LEFT, 0, false)
    end
    TriggerAddAction(TrigDePressA, function()
        local pid = GetPlayerId(GetTriggerPlayer())
        local data = HERO[pid]
        data.ReleaseA = false
    end)
    -----------------------------------------------------------------LMB
    local TrigPressLMB = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        TriggerRegisterPlayerEvent(TrigPressLMB, Player(i), EVENT_PLAYER_MOUSE_DOWN)
    end
    TriggerAddAction(TrigPressLMB, function()
        --print("any")
        if BlzGetTriggerPlayerMouseButton() == MOUSE_BUTTON_TYPE_LEFT then
            --     LMB

            local pid = GetPlayerId(GetTriggerPlayer())

            GetPlayerMouseX[pid]=BlzGetTriggerPlayerMouseX()
            GetPlayerMouseY[pid]=BlzGetTriggerPlayerMouseY()

            local data = HERO[pid]
            if  UnitAlive(data.UnitHero) then
                if data.ReleaseRMB  then
                    --Charge(data)
                end
                attack(data)
            else
                --print(" ")
            end
        end
    end)
    local TrigDePressLMB = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        TriggerRegisterPlayerEvent(TrigDePressLMB, Player(i), EVENT_PLAYER_MOUSE_UP)
    end

    TriggerAddAction(TrigDePressLMB, function()
        --print("any")
        if BlzGetTriggerPlayerMouseButton() == MOUSE_BUTTON_TYPE_LEFT then
            local pid = GetPlayerId(GetTriggerPlayer())
            local data = HERO[pid]
            data.ReleaseLMB = false
        end
    end)
    -----------------------------------------------------------------RMB
    local TrigPressRMB = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        TriggerRegisterPlayerEvent(TrigPressRMB, Player(i), EVENT_PLAYER_MOUSE_DOWN)
    end
    TriggerAddAction(TrigPressRMB, function()
        if BlzGetTriggerPlayerMouseButton() == MOUSE_BUTTON_TYPE_RIGHT then
            --   
            local pid = GetPlayerId(GetTriggerPlayer())

            GetPlayerMouseX[pid]=BlzGetTriggerPlayerMouseX()
            GetPlayerMouseY[pid]=BlzGetTriggerPlayerMouseY()

            local data = HERO[pid]
            --data.Shield=true

            if  UnitAlive(data.UnitHero)  then --and IsUnitType(data.UnitHero,UNIT_TYPE_HERO)
                if GetUnitTypeId(data.UnitHero)==FourCC('Hpal') and StunSystem[GetHandleId(mainHero)].Time==0 then -- not data.isAttacking  and --    
                    data.isShield=true
                    UnitAddAbility(data.UnitHero,FourCC("A003"))
                    UnitAddAbility(data.UnitHero,FourCC("A004"))
                    --BlzUnitDisableAbility(mainHero,FourCC('dssd'),true,false)
                    data.ReleaseW=false
                    data.ReleaseA=false
                    data.ReleaseS=false
                    data.ReleaseD=false
                    ResetUnitAnimation(data.UnitHero)
                    --data.ShieldEff=AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaShield\\ManaShieldCaster",data.UnitHero,"origin")
                end

                if data.ReleaseLMB then
                   -- Charge(data)
                end
                if not data.ReleaseRMB then
                    data.ReleaseRMB = true
                    --Charge(data)
                end

            end
        end
    end)
    local TrigDePressRMB = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        TriggerRegisterPlayerEvent(TrigDePressRMB, Player(i), EVENT_PLAYER_MOUSE_UP)
    end
    TriggerAddAction(TrigDePressRMB, function()
        --print("depress")
        if BlzGetTriggerPlayerMouseButton() == MOUSE_BUTTON_TYPE_RIGHT then
            local pid = GetPlayerId(GetTriggerPlayer())
            local data = HERO[pid]
            local hero = data.UnitHero
            data.ReleaseRMB = false

           -- print(" ")






            if data.isShield then
                UnitRemoveAbility(data.UnitHero,FourCC("A003"))
                UnitRemoveAbility(data.UnitHero,FourCC("A004"))
                --BlzUnitDisableAbility(mainHero,FourCC('dssd'),false,false)
                --DestroyEffect(data.ShieldEff)
                --print(" ")
                data.isShield=false
            end

            if UnitAlive(hero) then
                if data.ReleaseA or data.ReleaseW or data.ReleaseS or data.ReleaseD then
                    -- print("2") -- 
                    SetUnitAnimationByIndex(mainHero,IndexAnimationWalk)
                end
            end
        end
    end)
end
---MouseX,MouseY=0,0
function BlockMouse()
    local this=CreateTrigger()
    TriggerRegisterAnyUnitEventBJ(this, EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
    TriggerRegisterAnyUnitEventBJ(this, EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
    TriggerAddAction(this, function()
      --  MouseX,MouseY=GetPlayerMouseX
       --print(OrderId2String(GetUnitCurrentOrder(mainHero)))
        if OrderId2String(GetUnitCurrentOrder(mainHero))=="dropitem" then
            HERO[0].DropInventory=false
            TimerStart(CreateTimer(), 2, false, function()
                HERO[0].DropInventory=true
            end)
        end

        if OrderId2String(GetUnitCurrentOrder(mainHero))=="smart" or OrderId2String(GetUnitCurrentOrder(mainHero))=="move"  then --  ,     
            BlzPauseUnitEx(mainHero,true)
            BlzPauseUnitEx(mainHero,false)
        end
    end)
end
function attack(data)
    if not data.ReleaseLMB and  UnitAlive(data.UnitHero) and not IsUnitPaused(data.UnitHero) and not data.isShield then
        data.ReleaseLMB = true
        if not data.isAttacking  and not data.isCharging  and not data.ONTarget then
            --print(" ,      ")
            --print("a "..GetUnitName(mainHero))
            data.isAttacking=true

            --local state={data.ReleaseW,data.ReleaseA,data.ReleaseS,data.ReleaseD}
            data.ReleaseW=false
            data.ReleaseA=false
            data.ReleaseS=false
            data.ReleaseD=false
            SetUnitAnimationByIndex(data.UnitHero,IndexAnimationAttack)
            local e=nil
            local k=0
            GroupEnumUnitsInRange(perebor,GetUnitX(mainHero),GetUnitY(mainHero),200,nil)

            while true do
                e = FirstOfGroup(perebor)
                if e == nil then break end
                if UnitAlive(e) and UnitAlive(mainHero) and (IsUnitEnemy(e,GetOwningPlayer(mainHero)) or GetOwningPlayer(e)==Player(PLAYER_NEUTRAL_PASSIVE)) then
                    k=k+1
                end
                GroupRemoveUnit(perebor,e)
            end
            if k>1 and GetUnitTypeId(mainHero)==FourCC("Hpal") then
                SetUnitAnimationByIndex(data.UnitHero,12)--  
                local eff=AddSpecialEffectTarget("Sweep_Attachments_FX\\Sweep_Blood_Large",mainHero,"hand left")
                TimerStart(CreateTimer(), 5, false, function()
                    DestroyEffect(eff)
                end)
            end


            local angle=-180+AngleBetweenXY(GetPlayerMouseX[0],GetPlayerMouseY[0],GetUnitX(data.UnitHero),GetUnitY(data.UnitHero))/bj_DEGTORAD
            SetUnitFacing(data.UnitHero,angle)
            TimerStart(CreateTimer(), 0.5, false, function()
                local damage=BlzGetUnitBaseDamage(mainHero,0)
                if UnitHasItemOfTypeBJ(mainHero,FourCC('I005')) then
                    damage=damage+15
                end
                local nx,ny=MoveXY(GetUnitX(data.UnitHero),GetUnitY(data.UnitHero),100,GetUnitFacing(data.UnitHero))
                if GetUnitTypeId(mainHero)~=FourCC("Edmm") and not data.isShield and StunSystem[GetHandleId(mainHero)].Time==0 then
                    local is,_,k=UnitDamageArea(data.UnitHero,damage,nx,ny,100)
                    if not is then
                        local tl = Location(GetUnitXY(mainHero))
                        local r=GetRandomInt(1,2)
                        if r==1 then
                            PlaySoundAtPointBJ(SoundAttack3, 100, tl, 0)
                        else
                            PlaySoundAtPointBJ(SoundAttack4, 100, tl, 0)
                        end
                        RemoveLocation(tl)
                    end

                end
            end)

            TimerStart(CreateTimer(), 0.7, false, function()
                data.isAttacking=false
                --data.ReleaseLMB = false
            end)
        end
    end
end


function dash(data) --,  
    if not data.isDash and not data.isCharging then
        data.isDash=true
        local angle=-180+AngleBetweenXY(GetPlayerMouseX[0],GetPlayerMouseY[0],GetUnitXY(data.UnitHero))/bj_DEGTORAD
        UnitAddForceSimple(data.UnitHero,angle,10,200)
        SetUnitAnimationByIndex(data.UnitHero,6)
        TimerStart(CreateTimer(), 0.3, false, function()
            data.isDash=false
        end)
    end
end

function Charge(data) --  
    if not data.isCharging and GetUnitTypeId(data.UnitHero)==FourCC('Hpal') then --    
        data.isCharging=true
        local angle=-180+AngleBetweenXY(GetPlayerMouseX[0],GetPlayerMouseY[0],GetUnitXY(data.UnitHero))/bj_DEGTORAD
        UnitAddForceSimple(data.UnitHero,angle,20,300)
        SetUnitFacing(data.UnitHero,angle)
        SetUnitAnimationByIndex(data.UnitHero,IndexAnimationCharge)


        TimerStart(CreateTimer(), 0.15,false, function()
            if data.IsMoving then
                SetUnitAnimationByIndex(data.UnitHero,IndexAnimationWalk)
            else
               ResetUnitAnimation(data.UnitHero)
            end
            --print(" ")
           -- data.isCharging=false
        end)

        TimerStart(CreateTimer(), 2, false, function()
            --print(" ")
            data.isCharging=false
        end)
    end
end


onForces = {}
function UnitAddForceSimple(hero, angle, speed, distance,flag)
    --      
    local currentdistance = 0
    if onForces[GetHandleId(hero)] == nil then
        onForces[GetHandleId(hero)] = true
    end
    if not IsUnitType(hero, UNIT_TYPE_STRUCTURE) and onForces[GetHandleId(hero)]  then
        onForces[GetHandleId(hero)]=false
        local m=0
        TimerStart(CreateTimer(), TIMER_PERIOD, true, function()
            currentdistance = currentdistance + speed
            --print(currentdistance)
            local x, y = GetUnitX(hero), GetUnitY(hero)
            local newX, newY = MoveX(x, speed, angle), MoveY(y, speed, angle)
            SetUnitPositionSmooth(hero, newX, newY)
            if flag==5 then
                local _,enemy=UnitDamageArea(hero,15,newX, newY,100)
                if enemy then
                    HealUnit(hero,5)
                end

                m=m+1
                if m>=6 then
                    local eff=AddSpecialEffect("Blood Massacre",newX, newY)
                    BlzSetSpecialEffectColor(eff,255,0,0,0)
                    DestroyEffect(eff)
                    m=0
                end
            end
            if flag==6 then
                local e=nil
                GroupEnumUnitsInRange(perebor,newX, newY,100,nil)
                while true do
                    e = FirstOfGroup(perebor)
                    if e == nil then break end
                    if UnitAlive(e) and IsUnitEnemy(e,GetOwningPlayer(hero)) and not IsUnitType(e,UNIT_TYPE_STRUCTURE) and IsUnitType(e,UNIT_TYPE_HERO) then
                        --if StunSystem[GetHandleId(e)].Time==0 then
                        --    StunUnit(e,1)
                        --end
                        UnitAddForceSimple(e,GetUnitFacing(hero),15,200)
                    end
                    GroupRemoveUnit(perebor,e)
                end
            end

            if flag=="dust" then
                DestroyEffect(AddSpecialEffect( "Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl",newX, newY))
            end

            if currentdistance >= distance then -- 
                --or (data.OnWater and data.OnTorrent==false)
                --data.IsDisabled=false
                --data.OnWater=false
                if flag==5 then
                    ShowUnit(hero,true)

                end

                if flag==6 then --   
                    ResetUnitAnimation(hero)
                    BlzPauseUnitEx(hero,false)
                    SetUnitTimeScale(hero,1)
                end

                if IsUnitType(hero,UNIT_TYPE_HERO) then
                    if HERO[0].isCharging then
                        --print(" ")
                        --DestroyTimer(GetExpiredTimer())
                        --onForces[GetHandleId(hero)]=true
                        --HERO[0].isCharging=false
                        ResetUnitAnimation(hero)
                    end
                end
                DestroyTimer(GetExpiredTimer())
                onForces[GetHandleId(hero)]=true
                --print("stop cur="..currentdistance.." dist="..distance)
            end
        end)
    end
end

GetPlayerMouseX = {}
GetPlayerMouseY = {}
function InitMouseMoveTrigger()
    local MouseMoveTrigger = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        local player = Player(i)
        TriggerRegisterPlayerEvent(MouseMoveTrigger, player, EVENT_PLAYER_MOUSE_MOVE)
        GetPlayerMouseX[i] = 0
        GetPlayerMouseY[i] = 0
    end
    TriggerAddAction(MouseMoveTrigger, function()
        local id = GetPlayerId(GetTriggerPlayer())
        if BlzGetTriggerPlayerMouseX() ~= 0 then
            GetPlayerMouseX[id] = BlzGetTriggerPlayerMouseX()
            GetPlayerMouseY[id] = BlzGetTriggerPlayerMouseY()
        end
    end)
end

function UnitDamageArea(u,damage,x,y,range)
    local isdamage=false
    local e=nil
    local hero=nil
    GroupEnumUnitsInRange(perebor,x,y,range,nil)
    local k=0
    while true do
        e = FirstOfGroup(perebor)
        if e == nil then break end
        if UnitAlive(e) and UnitAlive(u) and (IsUnitEnemy(e,GetOwningPlayer(u)) or GetOwningPlayer(e)==Player(PLAYER_NEUTRAL_PASSIVE)) then
            UnitDamageTarget( u, e, damage, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS )
            isdamage=true
            hero=e
            k=k+1
        end
        GroupRemoveUnit(perebor,e)
    end
    if PointContentDestructable(x,y,range,true,1+damage,u) then	isdamage=true	end
    return isdamage, hero,k
end

GlobalRect=Rect(0,0,0,0)
function PointContentDestructable (x,y,range,iskill,damage,flag)
    local content=false
    if range==nil then range=80 end
    if iskill==nil then iskill=false end
    local d=nil
    SetRect(GlobalRect, x - range, y - range, x + range, y +range)
    EnumDestructablesInRect(GlobalRect,nil,function ()
        d=GetEnumDestructable()
        if GetDestructableLife(d)>0 then
            content=true

            if  (GetDestructableTypeId(d)==FourCC("B005") or GetDestructableTypeId(d)==FourCC("OTip") ) and  flag==1 then --   
                content=false
            end
            if iskill then
                if GetUnitTypeId(flag)==FourCC("Hpal") then
                    local tl = Location(GetUnitXY(flag))
                    local r=GetRandomInt(1,2)
                    if r==1 then
                        PlaySoundAtPointBJ(SoundAttack5, 100, tl, 0)
                    else
                        PlaySoundAtPointBJ(SoundAttack6, 100, tl, 0)
                    end
                    RemoveLocation(tl)
                end
                SetDestructableLife(d,GetDestructableLife(d)-damage)
                if GetDestructableLife(d)>=1 then
                    SetDestructableAnimation(d,"Stand Hit")
                end
                --KillDestructable(d)
            end
        end
    end)
    return content,d
end
CQX=430
CQY=6500
function PlayUnitAnimationFromChat()
    local this=CreateTrigger()
    TriggerRegisterPlayerChatEvent(this,Player(0),"",true)
    TriggerAddAction(this, function()
        local s=S2I(GetEventPlayerChatString())
        if GetEventPlayerChatString()=="w" then
            CreateForUnitWayToPoint(mainHero,CQX,CQY)
            return
        end
        if GetEventPlayerChatString()=="m" then
            UnitAddItemById(mainHero,FourCC("I00A"))
            --print("  ,   ")
            return
        end
        if GetEventPlayerChatString()=="n" then
            UnitAddItemById(mainHero,FourCC("I00B"))
            return
        end
        if GetEventPlayerChatString()=="l" then
        PlaySoundNearUnit(mainHero,gg_snd_LightningBolt)
            return
        end
        if GetEventPlayerChatString()=="peon" then
            SetUnitPositionSmooth(mainHero,-5500,-3000)
            return
        end
        SetUnitAnimationByIndex(mainHero,s)
        --print(GetUnitName(mainHero).." "..s)
    end)
end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 27.05.2020 23:15
---
local realTimerStart = TimerStart
TimerStart = function(timer, duration, repeating, callback)
	local pcallback = function()
		if callback == nil then return end
		local status, err = pcall(callback)
		if not status then
			print(err)
		end
	end
	realTimerStart(timer, duration, repeating, pcallback)
end

local realTriggerAddAction = TriggerAddAction
TriggerAddAction = function(trig, callback)
	local pcallback = function()
		local status, err = pcall(callback)
		if not status then
			print(err)
		end
	end
	realTriggerAddAction(trig, pcallback)
end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 21.11.2020 16:12
---

do
    TimerStart(CreateTimer(), 1, false, function()
        InitPreloadStart()
    end)
end

function InitPreloadStart()
    --print("Start preload tester")
    --PreloadGenClear()
    Preloader("save\\BO.txt")
    local k=0
    local s=BlzGetAbilityTooltip (FourCC('Agyv'),  0)
    if #s>2 then
        print("First Game")
        s=1
        Preload("\")\ncall BlzSetAbilityTooltip ('Agyv',\""..s.."\",0)".."\n//")
        PreloadGenEnd("save\\BO.txt")
        PreloadGenClear()
    else
        Preload("\")\ncall BlzSetAbilityTooltip ('Agyv',\""..R2I(s+1).."\",0)".."\n//")
        PreloadGenEnd("save\\BO.txt")
        PreloadGenClear()
        print("Game  "..R2I(s+1))
    end
end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 02.11.2020 19:47
---

TIMER_PERIOD2 = 0.03125
function AngleBetweenXY(xa, ya, xb, yb)
    return math.atan(yb - ya, xb - xa)
end
function MoveX(x, distance, angle)
    return x + distance * math.cos(angle * bj_DEGTORAD)
end

function MoveY(y, distance, angle)
    return y + distance * math.sin(angle * bj_DEGTORAD)
end
function MoveXY(x, y, distance, angle)
    return x + distance * math.cos(angle * bj_DEGTORAD), y + distance * math.sin(angle * bj_DEGTORAD)
end
function GetUnitXY(unit)
    return GetUnitX(unit), GetUnitY(unit)
end

function AddQuest(hero, qx, qy, message)
    local x, y = GetUnitX(hero), GetUnitY(hero)
    local model = "AneuCaster"
    local player = GetOwningPlayer(hero)
    local isEnd = false
    if GetLocalPlayer() ~= player then
        model = ""
    else
        --print("  ")
        StartSound(bj_questSecretSound)
    end
    --local QuestPointer = AddSpecialEffect(model, x, y)
    --BlzSetSpecialEffectPitch(QuestPointer, math.rad(-90))--/bj_DEGTORAD
    print(message)
    TimerStart(CreateTimer(), 0.5, false, function()
        CreateForUnitWayToPoint(hero, qx, qy)

    end)
    TimerStart(CreateTimer(), TIMER_PERIOD2, true, function()
        local z = BlzGetLocalUnitZ(hero)
        local xc, yc = GetUnitX(hero), GetUnitY(hero)
        local angle = AngleBetweenXY(xc, yc, qx, qy)
        --BlzSetSpecialEffectPosition(QuestPointer, MoveX(xc, 130, angle / bj_DEGTORAD), MoveY(yc, 130, angle / bj_DEGTORAD), z + 10)
        --BlzSetSpecialEffectYaw(QuestPointer, angle)

        if IsUnitInRangeXY(hero, qx, qy, 200) then
            isEnd = true
        end

        if isEnd then
            if GetLocalPlayer() == player then
                StartSound(bj_questCompletedSound)
            end
            DestroyTimer(GetExpiredTimer())
            --DestroyEffect(QuestPointer)
            -- print(" " .. "1" .. " ,  ")
        end
    end)
    TimerStart(CreateTimer(), 10, true, function()
        if isEnd then
            DestroyTimer(GetExpiredTimer())
            --print(" ")
        else
            PingMinimapForPlayer(player, qx, qy, 3)
        end
    end)
end

--lastX=0
ShowWay=true
function CreateForUnitWayToPoint(hero, xEnd, yEnd)
    if not ShowWay then return end
    ShowWay=false
    local dummy = CreateUnit(GetOwningPlayer(hero), FourCC("ewsp"), GetUnitX(hero), GetUnitY(hero), AngleBetweenXY(GetUnitX(hero), GetUnitY(hero), xEnd, yEnd) / bj_DEGTORAD)
    if UnitAddAbility(dummy, FourCC("Aloc")) then
        --print("")
    else
        -- print("")
    end
    SetUnitMoveSpeed(dummy, 1000)
    IssuePointOrder(dummy, "move", xEnd, yEnd)
    local i = 1
    local sec = 0
    local eff = {}
    local p = 0.12
    local lastX = GetUnitX(hero)
    local stay = false
    local t = CreateTimer()
    TimerStart(t, p, true, function()
        local x, y = GetUnitXY(dummy)
        local angle = GetUnitFacing(dummy)
        sec = sec + p
        if not IsUnitHidden(dummy) and not IsUnitInRangeXY(dummy, xEnd, yEnd, 30) then
            eff[i] = AddSpecialEffect("AneuCaster", x, y)  --"Abilities\\Spells\\Items\\AIco\\CrownOfCmndTarget.mdl"
            -- local angle=AngleBetweenXY(x,y,point[i-1].x,point[i-1].y)/bj_DEGTORAD
            BlzSetSpecialEffectYaw(eff[i], math.rad(angle))
            BlzSetSpecialEffectPitch(eff[i], math.rad(-90))
            BlzSetSpecialEffectZ(eff[i], BlzGetLocalUnitZ(hero) + 150)
            --print("eff "..i)
            i = i + 1
            if i == 4 then
                ShowUnit(dummy, false)
                ShowUnit(dummy, true)
            end
        end

        for k = 1, #eff do
            if IsUnitInRangeXY(hero, BlzGetLocalSpecialEffectX(eff[k]), BlzGetLocalSpecialEffectY(eff[k]), 50) then

                BlzSetSpecialEffectPosition(eff[k], 5000, 5000, 0)
            end
        end

        if lastX ~= GetUnitX(hero) then
            stay = true
            TimerStart(CreateTimer(), 6, false, function() --     ,     
                --print("      "..GetUnitMoveSpeed(dummy).."  "..sec.."    "..i.." ")
                for k = 1, #eff do
                    DestroyEffect(eff[k])
                end
                eff = {}
                i = 1
                ShowWay=true
                ShowUnit(dummy, false)
                DestroyTimer(t)
            end)
            --DestroyTimer(GetExpiredTimer())
        end

        if lastX == GetUnitX(hero) then
            if stay and false then
                stay = false
                KillUnit(dummy)
                dummy = CreateUnit(GetOwningPlayer(hero), FourCC("ewsp"), GetUnitX(hero), GetUnitY(hero), AngleBetweenXY(GetUnitX(hero), GetUnitY(hero), xEnd, yEnd) / bj_DEGTORAD)
                BlzSetUnitFacingEx(dummy, GetUnitFacing(hero))
                UnitAddAbility(dummy, FourCC("Aloc"))
                SetUnitMoveSpeed(dummy, 1000)
                SetUnitPosition(dummy, MoveXY(GetUnitX(hero), GetUnitY(hero), 60, GetUnitFacing(hero)))
                IssuePointOrder(dummy, "move", xEnd, yEnd)
            end
        end
        lastX = GetUnitX(hero)

        --print(" "..GetUnitX(hero))
    end)
end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 11.11.2020 22:59
---
do
    TimerStart(CreateTimer(), 0.11, false, function()
        -- 
        SoundAttack1 = CreateSound("Sound\\Units\\Combat\\MetalHeavySliceFlesh3", false, true, true, 0, 0, "MissilesEAX")
        SetSoundParamsFromLabel(SoundAttack1, "MetalHeavySliceFlesh")
        SetSoundDuration(SoundAttack1, 600)
        SetSoundVolume(SoundAttack1, 250)
        SoundAttack2 = CreateSound("Sound\\Units\\Combat\\MetalHeavySliceFlesh2", false, true, true, 0, 0, "MissilesEAX")
        SetSoundParamsFromLabel(SoundAttack2, "MetalHeavySliceFlesh")
        SetSoundDuration(SoundAttack2, 600)
        SetSoundVolume(SoundAttack2, 250)
        -- 
        SoundAttack3 = CreateSound("Sound\\Units\\Combat\\MetalLightSliceFlesh2", false, true, true, 0, 0, "MissilesEAX")
        SetSoundParamsFromLabel(SoundAttack3, "MetalHeavySliceFlesh")
        SetSoundDuration(SoundAttack3, 853)
        SetSoundVolume(SoundAttack3, 250)
        SoundAttack4 = CreateSound("Sound\\Units\\Combat\\MetalLightSliceFlesh2", false, true, true, 0, 0, "MissilesEAX")
        SetSoundParamsFromLabel(SoundAttack4, "MetalHeavySliceFlesh")
        SetSoundDuration(SoundAttack4, 853)
        SetSoundVolume(SoundAttack4, 250)
        --   
        SoundAttack5 = CreateSound("Sound\\Units\\Combat\\MetalLightSliceWood1", false, true, true, 0, 0, "MissilesEAX")
        SetSoundParamsFromLabel(SoundAttack5, "MetalHeavySliceFlesh")
        SetSoundDuration(SoundAttack5, 853)
        SetSoundVolume(SoundAttack5, 250)
        SoundAttack6 = CreateSound("Sound\\Units\\Combat\\MetalLightSliceWood2", false, true, true, 0, 0, "MissilesEAX")
        SetSoundParamsFromLabel(SoundAttack6, "MetalHeavySliceFlesh")
        SetSoundDuration(SoundAttack6, 853)
        SetSoundVolume(SoundAttack6, 250)
        HintSound = CreateSound("Sound\\Interface\\Hint", false, true, true, 0, 0, "MissilesEAX")
        SetSoundParamsFromLabel(HintSound, "MetalHeavySliceFlesh")
        SetSoundDuration(HintSound, 853)
        SetSoundVolume(HintSound, 250)
        -- 
        SoundAttack7 = CreateSound("Sound\\Units\\Combat\\MetalLightChopFlesh1.flac", false, true, true, 0, 0, "MissilesEAX")
        SetSoundParamsFromLabel(SoundAttack7, "MetalHeavySliceFlesh")
        SetSoundDuration(SoundAttack7, 853)
        SetSoundVolume(SoundAttack7, 250)
        SoundAttack8 = CreateSound("Sound\\Units\\Combat\\MetalLightChopFlesh2.flac", false, true, true, 0, 0, "MissilesEAX")
        SetSoundParamsFromLabel(SoundAttack8, "MetalHeavySliceFlesh")
        SetSoundDuration(SoundAttack8, 853)
        SetSoundVolume(SoundAttack8, 250)

        -- 
        SoundStep1 = CreateSound("Sound\\Units\\Footsteps\\HeroStep1", false, true, true, 0, 0, "MissilesEAX")
        SetSoundParamsFromLabel(SoundStep1, "MetalHeavySliceFlesh")
        SetSoundDuration(SoundStep1, 853)
        SetSoundVolume(SoundStep1, 250)
        SoundStep2 = CreateSound("Sound\\Units\\Footsteps\\HeroStep2", false, true, true, 0, 0, "SpellsEAX")
        SetSoundParamsFromLabel(SoundStep2, "HeroCinematicStep2")
        SetSoundDuration(SoundStep2, 853)
        SetSoundVolume(SoundStep2, 250)
        SoundStep3 = CreateSound("Sound\\Units\\Footsteps\\HeroStep3", false, true, true, 0, 0, "SpellsEAX")
        SetSoundParamsFromLabel(SoundStep3, "HeroCinematicStep2")
        SetSoundDuration(SoundStep3, 853)
        SetSoundVolume(SoundStep3, 250)
        SoundStep4 = CreateSound("Sound\\Units\\Footsteps\\HeroStep4", false, true, true, 0, 0, "SpellsEAX")
        SetSoundParamsFromLabel(SoundStep4, "HeroCinematicStep2")
        SetSoundDuration(SoundStep4, 853)
        SetSoundVolume(SoundStep4, 250)
        --
        --
        gg_snd_LightningBolt = CreateSound("Abilities/Spells/Orc/LightningBolt/LightningBolt.flac", false, true, true, 0, 0, "SpellsEAX")
        SetSoundParamsFromLabel(gg_snd_LightningBolt, "LightningBolt")
        SetSoundDuration(gg_snd_LightningBolt, 1999)
        SetSoundVolume(gg_snd_LightningBolt, 127)

    end)
end

function PlaySoundNearUnit(hero,sound)
    local tl = Location(GetUnitXY(hero))
    PlaySoundAtPointBJ(sound, 100, tl, 0)
    RemoveLocation(tl)
   -- print(" ")
end

function normal_sound (s,x,y)
    local  snd = CreateSound(s, false, true, true, 10, 10, "CombatSoundsEAX")
    SetSoundChannel(snd, 40)
    SetSoundVolume(snd, 127)
    SetSoundPitch(snd, 1)
    SetSoundDistances(snd, 600, 10000)
    SetSoundDistanceCutoff(snd, 2100)
    SetSoundConeAngles(snd, 0.0, 0.0, 127)
    SetSoundConeOrientation(snd, 0.0, 0.0, 0.0)
    SetSoundPosition(snd, x, y, 50)
    StartSound(snd)
    KillSoundWhenDone(snd)
end

function PreloadSound3D_snd(s)
local  snd = CreateSound(s,false,true,true,10,10,"CombatSoundsEAX")
 SetSoundChannel(snd,5)
 SetSoundVolume(snd,127)
 SetSoundPitch(snd, 1)
 SetSoundDistances(snd,999999,99999)
 SetSoundDistanceCutoff(snd,99999)
 SetSoundConeAngles(snd,0.0,0.0,127)
 SetSoundConeOrientation(snd,0.0,0.0,0.0)
 SetSoundPosition(snd,0.0,0.0,50.0)
 StartSound(snd)
 StopSound(snd, false, false)

end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 30.04.2020 0:04
stunEff="Abilities\\Spells\\Human\\Thunderclap\\ThunderclapTarget"
StunSystem={}
function StunUnit(hero,dur)
	if not StunSystem[GetHandleId(hero)] then
	--	print("  ")
		StunSystem[GetHandleId(hero)]={
			Time=0,
			Eff=nil,
			Timer=nil
		}
	end
	local data=StunSystem[GetHandleId(hero)]
	local curdur=0
	if data.Time==0 then
		data.Timer=CreateTimer()
		--print("  ")
		data.Eff=AddSpecialEffectTarget(stunEff,hero,"overhead")
		BlzPauseUnitEx(hero,true)
	end

	if data.Time<dur  then
		--print("  ,  ")
		data.Time=dur
	else
		--print("      ")
		return
	end

	TimerStart(data.Timer, 0.1, true, function()
		curdur=curdur+0.1
		data.Time=data.Time-0.1
		if curdur>=dur or not UnitAlive(hero) then
			--print("  ")
			BlzPauseUnitEx(hero,false)
			DestroyTimer(GetExpiredTimer())
			data.Time=0
			DestroyEffect(data.Eff)
			data.Timer=nil
		end
	end)
end

function StunArea(hero,range,duration,x,y)
	local e=nil
	GroupEnumUnitsInRange(perebor,x,y,range,nil)
	while true do
		e = FirstOfGroup(perebor)
		if e == nil then break end
		if UnitAlive(e) and IsUnitEnemy(e,GetOwningPlayer(hero)) and not IsUnitType(e,UNIT_TYPE_STRUCTURE) then
			StunUnit(e,duration)
		end
		GroupRemoveUnit(perebor,e)
	end
end
---@param text string
---@param textSize real
---@param x real
---@param y real
---@param z real
---@param red integer
---@param green integer
---@param blue integer
---@param alpha integer
---@param xvel real
---@param yvel real
---@param fadepoint real
---@param lifespan real
---@param player player
---@return texttag
function FlyTextTag(text, textSize, x, y, z, red, green, blue, alpha, xvel, yvel, fadepoint, lifespan, player)
	local t = CreateTextTag()
	SetTextTagText(t, text, textSize)
	SetTextTagPos(t, x, y, z)
	SetTextTagColor(t, red, green, blue, alpha)
	SetTextTagVelocity(t, xvel, yvel)
	SetTextTagFadepoint(t, fadepoint)
	SetTextTagLifespan(t, lifespan)
	SetTextTagPermanent(t, false)
	if player ~= nil then
		SetTextTagVisibility(t, player == GetLocalPlayer())
	end
	return t
end

---@param target widget
---@param text string
---@param player player
---@return texttag
function FlyTextTagGoldBounty(target, text, player)
	return FlyTextTag(text, 0.024, GetWidgetX(target) - 16, GetWidgetY(target), 0, 255, 220, 0, 255, 0, 0.03, 2, 3, player)
end

---@param target widget
---@param text string
---@param player player
---@return texttag
function FlyTextTagLumberBounty(target, text, player)
	return FlyTextTag(text, 0.024, GetWidgetX(target) - 16, GetWidgetY(target), 0, 0, 200, 80, 255, 0, 0.03, 2, 3, player)
end

---@param target widget
---@param text string
---@param player player
---@return texttag
function FlyTextTagMiss(target, text, player)
	return FlyTextTag(text, 0.024, GetWidgetX(target), GetWidgetY(target), 0, 255, 0, 0, 255, 0, 0.03, 1, 3, player)
end

---@param target widget
---@param text string
---@param player player
---@return texttag
function FlyTextTagCriticalStrike(target, text, player)
	return FlyTextTag(text, 0.024, GetWidgetX(target), GetWidgetY(target), 0, 255, 0, 0, 255, 0, 0.04, 2, 5, player)
end

---@param target widget
---@param text string
---@param player player
---@return texttag
function FlyTextTagManaBurn(target, text, player)
	return FlyTextTag(text, 0.024, GetWidgetX(target), GetWidgetY(target), 0, 82, 82, 255, 255, 0, 0.04, 2, 5, player)
end

---@param target widget
---@param text string
---@param player player
---@return texttag
function FlyTextTagShadowStrike(target, text, player)
	return FlyTextTag(text, 0.024, GetWidgetX(target), GetWidgetY(target), 0, 160, 255, 0, 255, 0, 0.04, 2, 5, player)
end

function FlyTextTagHealXY(x,y, text, player)
	return FlyTextTag(text, 0.024, x, y, 150, 88, 250, 13, 255, 0, 0.03, 1, 3, player)
end

function FlyTextTagShieldXY(x,y, text, player)--
	local xr=GetRandomReal(-0.05,0,05)
	return FlyTextTag(""..text, 0.018, x, y, 150, 128, 128, 128, 255, xr, 0.03, 1, 3, player)
end

function StaticTag(text, textSize, x, y, z, red, green, blue, alpha, xvel, yvel, fadepoint, lifespan, player)
	local t = CreateTextTag()
	SetTextTagText(t, text, textSize)
	SetTextTagPos(t, x, y, z)
	SetTextTagColor(t, red, green, blue, alpha)
	--SetTextTagVelocity(t, xvel, yvel)
	SetTextTagFadepoint(t, fadepoint)
	SetTextTagLifespan(t, lifespan)
	SetTextTagPermanent(t, false)
	if player ~= nil then
		SetTextTagVisibility(t, player == GetLocalPlayer())
	end
	return t
end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 11.03.2020 22:30
function FindUnitOfType(id,flag,x,y)
	--flag nil -  
	--flag any - 
	local unit=nil
	local e=nil
	local k=0
	--print("")
	local rg={}
	if not flag then
		GroupEnumUnitsInRect(perebor,bj_mapInitialPlayableArea,nil)
		while true do
			e = FirstOfGroup(perebor)

			if e == nil then break end
			if UnitAlive(e) and GetUnitTypeId(e)==id then
				k=k+1
				rg[k]=e
				unit=e
			end
			GroupRemoveUnit(perebor,e)
		end
	else
		GroupEnumUnitsInRange(perebor,x,y,flag,nil)
		while true do
			e = FirstOfGroup(perebor)

			if e == nil then break end
			if UnitAlive(e) and GetUnitTypeId(e)==id then
				k=k+1
				rg[k]=e
				unit=e
			end
			GroupRemoveUnit(perebor,e)
		end
	end


	if k>1 then
	--	print("  "..k.." ")
	end
	if k>2 then
		unit=rg[GetRandomInt(1,#rg)]
	end
	if unit==nil then
		--print("     ")
	end
	return unit,k,rg
end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 28.10.2020 19:30
---
do
    TimerStart(CreateTimer(), 0.11, false, function()
        InitBB()
    end)
end

function InitBB()
    local SpellTrigger = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        local player = Player(i)
        TriggerRegisterPlayerUnitEvent(SpellTrigger, player, EVENT_PLAYER_UNIT_SPELL_CAST)
    end
    TriggerAddAction(SpellTrigger, function()
        if not HERO[0].isShield then
            if GetSpellAbilityId() == FourCC('dssd') then --
                local caster=GetTriggerUnit()
                UnitMakeAbilityPermanent(caster,true,FourCC('dssd')) -- 
                UnitMakeAbilityPermanent(caster,true,FourCC('A002')) --
                UnitMakeAbilityPermanent(caster,true,FourCC('A005')) --  
                UnitMakeAbilityPermanent(caster,true,FourCC('A007')) -- 
                UnitMakeAbilityPermanent(caster,true,FourCC('A00G')) -- 
                UnitMakeAbilityPermanent(caster,true,FourCC('A00M')) --  
                local curMP=GetUnitState(caster,UNIT_STATE_MANA)
                --print(curMP)
                UnitAddItemById(mainHero,FourCC("I00A")) --  

                --local slot=RemoveAllItems(caster)
                --local maxHP=BlzGetUnitMaxHP(caster)
                --local curHP=GetUnitState(caster,UNIT_STATE_LIFE)
                TimerStart(CreateTimer(), 0.02, false, function()
                    SetUnitState(caster,UNIT_STATE_MANA,curMP)
                end)
                -- UnitAddItemById(caster,FourCC("I004"))
                TimerStart(CreateTimer(), 3, false, function()
                    --slot=RemoveAllItems(caster)
                    --maxHP=BlzGetUnitMaxHP(caster)
                    --curHP=GetUnitState(caster,UNIT_STATE_LIFE)
                    --UnitAddAbility(caster,FourCC("S001")) --  
                    --AddAlItems(caster,slot,maxHP,curHP)
                    curMP=GetUnitState(caster,UNIT_STATE_MANA)
                    --print(curMP)
                    if UnitAlive(mainHero) then
                        UnitAddItemById(mainHero,FourCC("I00B")) --  
                    else
                        --print("     ")
                        TimerStart(CreateTimer(), 0.02, true, function()
                            if UnitAlive(mainHero) then
                                DestroyTimer(GetExpiredTimer())
                                curMP=GetUnitState(caster,UNIT_STATE_MANA)
                                UnitAddItemById(mainHero,FourCC("I00B"))
                                TimerStart(CreateTimer(), 0.02, false, function()
                                    SetUnitState(caster,UNIT_STATE_MANA,curMP)
                                end)
                            end
                        end)
                    end
                    TimerStart(CreateTimer(), 0.02, false, function()
                        SetUnitState(caster,UNIT_STATE_MANA,curMP)
                    end)
                    if HERO[0].ReleaseA or HERO[0].ReleaseW or HERO[0].ReleaseS or HERO[0].ReleaseD then
                        TimerStart(CreateTimer(), 0.1, false, function()
                            --print("  ")
                            SetUnitAnimationByIndex(caster,IndexAnimationWalk)
                        end)
                    end
                end)
            end
        else
            local caster=GetTriggerUnit()
            TimerStart(CreateTimer(), 0.05, false, function()
                BlzStartUnitAbilityCooldown(caster,FourCC('dssd'),1)
            end)
        end
    end)
end

function RemoveAllItems(hero)
    local slot={}
    --print(" ")
    for i=0,5 do
        --print(i)
        slot[i]=GetItemTypeId(UnitItemInSlot(hero,i))
        --print(GetItemName(slot[i]))
        RemoveItem(UnitItemInSlot(hero,i))

    end
    return slot
end

function AddAlItems(hero,slot,maxHP,curHP)
    TimerStart(CreateTimer(), 0.05, false, function()
        for i=0,5 do
            UnitAddItemById(hero,slot[i])
        end
    end)
    --print(maxHP)
    TimerStart(CreateTimer(), 0.05, false, function()
        BlzSetUnitMaxHP(hero,maxHP)
        SetUnitState(hero,UNIT_STATE_LIFE,curHP)
    end)
end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 21.11.2020 17:14
---
---
---
do
    TimerStart(CreateTimer(), 240, false, function()
        InitCry()
    end)
end
function InitCry()
    local gg_trg_RANGE = CreateTrigger()
    --print("initcry")
    TriggerRegisterUnitInRangeSimple(gg_trg_RANGE, 150, mainHero)
    TriggerAddAction(gg_trg_RANGE, function()
        local unit=GetTriggerUnit()
        --print(" ")
        if GetUnitTypeId(unit)==FourCC("nvlw") and UnitAlive(unit) then
            --print("   ")
            normal_sound("war3mapImported\\Cry.wav",GetUnitXY(unit))
            --PlaySoundBJ(gg_snd_Cry)
            --print(GetUnitName())
           -- DisableTrigger(GetTriggeringTrigger())
            --StartPEONAI(boss)
        end

    end)
end





---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 28.10.2020 19:30
---
do
    TimerStart(CreateTimer(), 0.11, false, function()
        InitDA()
    end)
end

function InitDA()
    local SpellTrigger = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        local player = Player(i)
        TriggerRegisterPlayerUnitEvent(SpellTrigger, player, EVENT_PLAYER_UNIT_SPELL_CAST)
    end
    TriggerAddAction(SpellTrigger, function()
        if GetSpellAbilityId() == FourCC('A00M') then -- 
            local caster=GetTriggerUnit()
            CreateZobiesInArea(caster)
        end
    end)
end

function CreateZobiesInArea(hero)
    local x,y=GetUnitXY(hero)
    local e=nil
    GroupEnumUnitsInRange(perebor,x,y,1000,nil)
    while true do
        e = FirstOfGroup(perebor)

        if e == nil then break end
        if UnitAlive(e) and IsUnitVisible(e,Player(0)) and IsUnitEnemy(e,Player(0)) then
            local new=CreateUnit(GetOwningPlayer(hero),FourCC("n009"),GetUnitX(e),GetUnitY(e),GetRandomInt(0,360))
            Agr2Units(new,e)
            UnitApplyTimedLife(new,FourCC('BTLF'),10)
        end
        GroupRemoveUnit(perebor,e)
    end
end

function Agr2Units(u1,u2)
    IssueTargetOrder(u1,"attack",u2)
    IssueTargetOrder(u2,"attack",u1)
end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 10.11.2020 18:19
---
do
    TimerStart(CreateTimer(), 0.11, false, function()
        StartFearArea()
    end)

end
function StartFearArea()
    TimerStart(CreateTimer(), 2, true, function()
        local x,y=GetUnitXY(mainHero)
        local e=nil
        GroupEnumUnitsInRange(perebor,x,y,500,nil)
        while true do
            e = FirstOfGroup(perebor)
            if e == nil then break end
            if UnitAlive(e) and GetUnitTypeId(mainHero)==FourCC("Hpal") and (IsUnitEnemy(e,GetOwningPlayer(mainHero)) or GetOwningPlayer(e)==Player(PLAYER_NEUTRAL_PASSIVE)) and not IsUnitType(e,UNIT_TYPE_STRUCTURE) then
                if GetUnitTypeId(e)==FourCC("n006") then
                    if OrderId2String(GetUnitCurrentOrder(mainHero))~="move" then
                        --print("  ")
                        local angle=-180+AngleBetweenXY(GetUnitX(e),GetUnitY(e),GetUnitXY(mainHero))/bj_DEGTORAD
                        local nx,ny=MoveXY(GetUnitX(e),GetUnitY(e),400,angle)
                        IssuePointOrder(e,"move",nx,ny)
                        local r=GetRandomInt(1,3)
                        --U01Peasant15A
                        --U01Peasant15B
                        --U01Peasant15
                        local tl = Location(GetUnitXY(e))
                        if r==1 then
                            PlaySoundAtPointBJ(gg_snd_U01Peasant15A, 100, tl, 0)
                        elseif r==2 then
                            PlaySoundAtPointBJ(gg_snd_U01Peasant15B, 100, tl, 0)
                        elseif r==3 then
                            PlaySoundAtPointBJ(gg_snd_U01Peasant15C, 100, tl, 0)
                        end
                        RemoveLocation(tl)
                    end
                end
            end
            GroupRemoveUnit(perebor,e)
        end
    end)
end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 28.10.2020 19:30
---
do
    TimerStart(CreateTimer(), 0.11, false, function()
        InitLightingSpell()
        InitDamageLighting()
    end)
end

function InitLightingSpell()
    local SpellTrigger = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        local player = Player(i)
        TriggerRegisterPlayerUnitEvent(SpellTrigger, player, EVENT_PLAYER_UNIT_SPELL_CAST)
    end
    TriggerAddAction(SpellTrigger, function()
        if GetSpellAbilityId() == FourCC('A00G') then -- 
            local caster=GetTriggerUnit()
            local target=GetSpellTargetUnit()
            local e=nil
            local k=1
            local ss=0
            GroupEnumUnitsInRange(perebor,GetUnitX(target),GetUnitY(target),300,nil)
            while true do
                e = FirstOfGroup(perebor)
                if e == nil then break end
                if UnitAlive(e) and IsUnitEnemy(e,GetOwningPlayer(caster)) and not IsUnitType(e,UNIT_TYPE_STRUCTURE)  and k<=4 then
                    k=k+1
                    UnitDamageTarget( caster, e, 1, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_UNIVERSAL, WEAPON_TYPE_WHOKNOWS )
                end
                GroupRemoveUnit(perebor,e)
            end
            PlaySoundNearUnit(caster,gg_snd_LightningBolt)
            local effect=AddSpecialEffect("Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl",GetUnitXY(caster))
            if UnitAlive(target) then
               -- DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetUnitXY(target)))
            end
            HERO[0].isLighting=true
            if k==1 then
                HERO[0].isLighting=false
            end
            TimerStart(CreateTimer(), TIMER_PERIOD, true, function()
                if not HERO[0].isLighting then
                    DestroyTimer(GetExpiredTimer())
                    --print(" ")
                end
                ss=ss+TIMER_PERIOD
                --print(GetSoundDuration(gg_snd_LightningBolt)//1000 )
                if ss>=GetSoundDuration(gg_snd_LightningBolt)//2000 then -- 2 
                    ss=0
                    normal_sound("Abilities/Spells/Orc/LightningBolt/LightningBolt.flac",GetUnitXY(target))
                    if UnitAlive(target) then
                       -- DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetUnitXY(target)))
                    end
                    --print("sound light")
                    --effect=AddSpecialEffect("Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl",GetUnitXY(caster))
                end
            end)
        end
    end)
end


function InitDamageLighting()
    local DamageTrigger = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        --TriggerRegisterPlayerUnitEvent(DamageTrigger, Player(i), EVENT_PLAYER_UNIT_DAMAGING) --   
        TriggerRegisterPlayerUnitEvent(DamageTrigger, Player(i), EVENT_PLAYER_UNIT_DAMAGED) --   
    end

    TriggerAddAction(DamageTrigger, function()
        local damage     = GetEventDamage() --  
        if damage < 1 then return end
        local eventId         = GetHandleId(GetTriggerEventId())
        --local isEventDamaging = eventId == GetHandleId(EVENT_PLAYER_UNIT_DAMAGING)
        local isEventDamaged = eventId == GetHandleId(EVENT_PLAYER_UNIT_DAMAGED)
        local target          = GetTriggerUnit() --    
        local caster          = GetEventDamageSource() --    


        if isEventDamaged then
            --print(GetUnitName(caster).."  "..GetUnitName(target))
            local damagetype = BlzGetEventDamageType()
            --print(ConvertDamageTypeToString(damagetype))
            local xLast=GetUnitX(caster)
            if damagetype==DAMAGE_TYPE_UNIVERSAL then
                local sec=0
                local ss=0
                local breakDamage=0
                TimerStart(CreateTimer(), TIMER_PERIOD, true, function()
                    --print(" ")
                    CreateLighting2Unit(caster,target)
                    if UnitDamageTarget( caster, target, 1, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS ) then
                        breakDamage=breakDamage+1
                        sec=sec+TIMER_PERIOD

                        if GetUnitLifePercent(target)<=5 then
                            SetUnitExploded(target, true)
                            --print(" ")
                        end
                        if sec>=0.1 then
                            --Abilities\Weapons\Bolt\BoltImpact.mdl

                            --print(" ")
                            sec=0
                            SetUnitState(caster,UNIT_STATE_MANA,GetUnitState(caster,UNIT_STATE_MANA)-2)
                        end
                       -- print(GetSoundDuration(gg_snd_LightningBolt)//1000)
                    end

                    StunUnit(target,1)
                    if not UnitAlive(target) then
                        DestroyTimer(GetExpiredTimer())
                        HERO[0].isLighting=false
                    end
                    if xLast~=GetUnitX(caster) or GetUnitState(caster,UNIT_STATE_MANA)<=1  then
                        --print("   ")
                        DestroyTimer(GetExpiredTimer())
                        HERO[0].isLighting=false
                    end

                    --  
                    if  breakDamage>=100 and target==BOSS then
                        --print("    ")
                        local angle=360/12 -- 30
                        for i=1,12 do
                            local nx,ny=MoveXY(GetUnitX(target),GetUnitY(target),50,angle*i)
                            SpireCast(target,nx,ny)
                        end
                        DestroyTimer(GetExpiredTimer())
                        HERO[0].isLighting=false
                    end

                    xLast=GetUnitX(caster)
                end)

            end
        end

    end)
end

function CreateLighting2Unit(caster,target,id)
    if not id then id="CLPB" end
    local h=100
    local x,y=GetUnitXY(caster)
    local x1,y1=GetUnitXY(target)
    local z,z1=BlzGetUnitZ(caster)+h,BlzGetUnitZ(target)+h
    local l=AddLightningEx(id,true,x,y,z,x1,y1,z1) -- CLPB -- AFOD
    TimerStart(CreateTimer(), 1, false, function()
        DestroyLightning(l)
    end)
    --
end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 28.10.2020 19:30
---
do
    TimerStart(CreateTimer(), 0.11, false, function()
        InitCastMC()
    end)
end
tempHero=nil
function InitCastMC()
    local SpellTrigger = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        local player = Player(i)
        TriggerRegisterPlayerUnitEvent(SpellTrigger, player, EVENT_PLAYER_UNIT_SPELL_CAST)
    end
    TriggerAddAction(SpellTrigger, function()
        if GetSpellAbilityId() == FourCC('A005') then -- 
            local caster=GetTriggerUnit()
            local target=GetSpellTargetUnit()
            --print("  "..GetUnitName(target))
            TimerStart(CreateTimer(), 1, false, function()
                UnitAddAbility(caster,FourCC("A003"))
                UnitAddAbility(caster,FourCC("A004"))
                UnitAddAbility(target,FourCC("A006")) --  
                UnitAddAbility(target,FourCC("Abun")) --   
                HERO[0].ReleaseW=false
                HERO[0].ReleaseA=false
                HERO[0].ReleaseS=false
                HERO[0].ReleaseD=false
                mainHero=target
                udg_mainHero=target
                tempHero=caster
                ResetUnitAnimation(tempHero)
                SelectUnitForPlayerSingle(mainHero,Player(0))
                SetUnitOwner(target,Player(0),true)
                TimerStart(CreateTimer(), 1, true, function()
                    if not UnitAlive(target) then
                        DestroyTimer(GetExpiredTimer())
                        --HERO[0].ReleaseW=false
                        --HERO[0].ReleaseA=false
                        --HERO[0].ReleaseS=false
                        --HERO[0].ReleaseD=false
                        mainHero=caster
                        udg_mainHero=caster
                        UnitRemoveAbility(caster,FourCC("A003"))
                        UnitRemoveAbility(caster,FourCC("A004"))
                        SelectUnitForPlayerSingle(mainHero,Player(0))
                    end
                end)
            end)
            --SelectUnitForPlayerSingle()
        end
        if GetSpellAbilityId() == FourCC('A006') then -- 
            local caster=GetTriggerUnit()
            local amount=GetUnitState(caster,UNIT_STATE_LIFE)
            SetUnitExploded(caster,true)
            KillUnit(caster)
            HealUnit(tempHero,amount)
        end

    end)

end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 29.10.2020 16:32
---
do
    TimerStart(CreateTimer(), 0.11, false, function()
        InitNotAttack()
    end)
end
function InitNotAttack()
    local ThisClick = CreateTrigger()
    TriggerRegisterCommandEvent(ThisClick, FourCC("A002"), "darkritual")
    TriggerRegisterCommandEvent(ThisClick, FourCC("A005"), "acidbomb")
    TriggerRegisterCommandEvent(ThisClick, FourCC("A007"), "nagabuild")
    TriggerRegisterCommandEvent(ThisClick, FourCC("A00G"), "chainlightning")

    --TriggerRegisterCommandEvent(ThisClick, 0, "cancel")
    --TriggerRegisterCommandEvent(ThisClick, 0, "stop")
    TriggerAddAction(ThisClick, function()
        HERO[0].ONTarget=true
        --print("   ")
    end)
    local TrigPressAny = CreateTrigger()
    TriggerRegisterPlayerEvent(TrigPressAny, Player(0), EVENT_PLAYER_MOUSE_DOWN)
    TriggerAddAction(TrigPressAny, function()
        if HERO[0].ONTarget then
            --print("   ")
            TimerStart(CreateTimer(), 0.1, false, function()
                HERO[0].ONTarget=false
                ForceUICancelBJ(Player(0))
            end)
        end
    end)
end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 28.10.2020 19:30
---
do
    TimerStart(CreateTimer(), 0.11, false, function()
        InitSpire()
    end)
end

function InitSpire()
    local SpellTrigger = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        local player = Player(i)
        TriggerRegisterPlayerUnitEvent(SpellTrigger, player, EVENT_PLAYER_UNIT_SPELL_CAST)
    end
    TriggerAddAction(SpellTrigger, function()
        if GetSpellAbilityId() == FourCC('A007') then --
            local caster=GetTriggerUnit()
            local x,y=GetSpellTargetX(),GetSpellTargetY()
            SpireCast(caster,x,y,"Valiant Charge")
        end
    end)
end

function SpireCast(caster,x,y,effModel)
    if not effModel then
        effModel="Abilities\\Spells\\Orc\\Shockwave\\ShockwaveMissile.mdl"
    end
    local xs,ys=GetUnitXY(caster)
    local angle=AngleBetweenXY(xs,ys,x,y)/bj_DEGTORAD
    local eff=AddSpecialEffect(effModel,xs,ys)
    local dist=600
    local speed=15
    local curDist=0
    BlzSetSpecialEffectYaw(eff, math.rad(angle))

    TimerStart(CreateTimer(), 1/64, true, function()
        curDist=curDist+speed
        local nx,ny=MoveXY(xs,ys,curDist,angle)
        BlzSetSpecialEffectPosition(eff,nx,ny,GetTerrainZ(nx,ny)+60)
        BlzSetSpecialEffectColor(eff,255,0,0)
        local e=nil
        GroupEnumUnitsInRange(perebor,nx,ny,70,nil)
        while true do
            e = FirstOfGroup(perebor)
            if e == nil then break end
            if UnitAlive(e) and UnitAlive(caster) and (IsUnitEnemy(e,GetOwningPlayer(caster)) or GetOwningPlayer(e)==Player(PLAYER_NEUTRAL_PASSIVE)) and GetUnitTypeId(e)~=FourCC("hrif")  and GetUnitTypeId(e)~=FourCC("u00B") then
                if GetUnitTypeId(e)==FourCC("osp1") then
                    KillUnit(e)
                end
                local nxe,nye=MoveXY(GetUnitX(e),GetUnitY(e),speed,angle)
                if not PointContentDestructable (nx,ny,70) then
                    --SetUnitX(e,nxe)
                    --SetUnitY(e,nye)
                    SetUnitPositionSmooth(e,nxe,nye)
                end
                --UnitDamageTarget( caster, e, 100, true, false, ATTACK_TYPE_NORMAL, DAMAGE_TYPE_NORMAL, WEAPON_TYPE_WHOKNOWS )
            end
            GroupRemoveUnit(perebor,e)
        end


        if curDist>=dist  then
            DestroyEffect(eff)
            DestroyTimer(GetExpiredTimer())
            UnitDamageArea(caster,10,nx,ny,70)
        end

        if PointContentDestructable (nx,ny,70,nil,nil,1) then
            DestroyEffect(eff)
            DestroyTimer(GetExpiredTimer())
            local damage=BlzGetUnitBaseDamage(caster,0)
            if UnitHasItemOfTypeBJ(caster,FourCC('I005')) then
                damage=damage+15
            end
            UnitDamageArea(caster,damage,nx,ny,70)
            StunArea(caster,100,2,nx,ny)
        end
    end)
end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 29.10.2020 16:32
---
do
    TimerStart(CreateTimer(), 0.11, false, function()
        InitStunPerDie()
        InitSpellEat()
    end)
end
function InitStunPerDie()
    local DamageTrigger = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        TriggerRegisterPlayerUnitEvent(DamageTrigger, Player(i), EVENT_PLAYER_UNIT_DAMAGING) --   
        TriggerRegisterPlayerUnitEvent(DamageTrigger, Player(i), EVENT_PLAYER_UNIT_DAMAGED) --   
    end
    TriggerAddAction(DamageTrigger, function()

        local damage     = GetEventDamage() --  
        if damage < 1 then return end
        local eventId         = GetHandleId(GetTriggerEventId())
        local isEventDamaging = eventId == GetHandleId(EVENT_PLAYER_UNIT_DAMAGING)
        local isEventDamaged = eventId == GetHandleId(EVENT_PLAYER_UNIT_DAMAGED)
        local target          = GetTriggerUnit() --    
        local caster          = GetEventDamageSource() --    


        if isEventDamaging then
            TimerStart(CreateTimer(), 0.11, false, function()
                if UnitAlive(target) and GetUnitStatePercent(target,UNIT_STATE_LIFE,UNIT_STATE_MAX_LIFE)<=30 and GetOwningPlayer(target)~=Player(0)  and not IsUnitType(target,UNIT_TYPE_UNDEAD) then --and GetUnitLevel(target)<=5
                    local r=GetRandomInt(1,2)
                    if r==1 and damage>10 then
                        local savedOwner=GetOwningPlayer(target)
                        StunUnit(target,3.5)
                        UnitAddType(target,UNIT_TYPE_UNDEAD)
                        SetUnitOwner(target,Player(PLAYER_NEUTRAL_PASSIVE),true)
                        SetUnitAnimation(target,"death")
                        RemoveGuardPosition(target)
                        -- print("  ?")
                        local t=CreateTimer()
                        TimerStart(t, 0.1, true, function()
                            if not UnitAlive(target) then
                                AddHeroXP(caster,GetUnitLevel(target)*20,true)
                                DestroyTimer(t)
                            end
                        end)

                        TimerStart(CreateTimer(), 3.5, false, function()
                            UnitRemoveType(target,UNIT_TYPE_UNDEAD)
                            if UnitAlive(target) then
                                ResetUnitAnimation(target)
                            end
                            if UnitAlive(target) then
                                SetUnitOwner(target,savedOwner,true)
                                DestroyTimer(t)
                            else
                               --
                            end
                        end)
                    end

                end
            end)
            if IsUnitInRange(caster,target,200) and caster==mainHero and damage>1  then
                if GetUnitTypeId(caster)==FourCC("Hpal") then
                    --print(" ")


                    local r=GetRandomInt(1,2)
                    if r==1 then
                        normal_sound("Sound\\Units\\Combat\\MetalHeavySliceFlesh3",GetUnitXY(target))

                    else
                        normal_sound("Sound\\Units\\Combat\\MetalHeavySliceFlesh2",GetUnitXY(target))
                    end


                    if not IsUnitType(target,UNIT_TYPE_UNDEAD) then
                        AddSpecialEffect("Objects\\Spawnmodels\\Other\\BeastmasterBlood\\BeastmasterBlood.mdl",GetUnitXY(target))
                        --print(" ")

                    else
                        AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NightElfBlood\\NightElfBloodChimaera.mdl",GetUnitXY(target))
                        --print("  ")
                    end
                else--  
                    --print("  ")
                    if GetOwningPlayer(target)~=Player(PLAYER_NEUTRAL_PASSIVE) then
                        SetPlayerAllianceStateBJ(GetOwningPlayer(target),Player(0), bj_ALLIANCE_UNALLIED)
                    end
                    local r=GetRandomInt(1,2)
                    if r==1 then
                        normal_sound("Sound\\Units\\Combat\\MetalLightChopFlesh1.flac",GetUnitXY(target))
                        --PlaySoundNearUnit(target,SoundAttack7)
                    else
                        normal_sound("Sound\\Units\\Combat\\MetalLightChopFlesh2.flac",GetUnitXY(target))
                        --PlaySoundNearUnit(target,SoundAttack8)
                    end
                end
            else

            end
        end
        if isEventDamaged  then --       
            if damage>=2 then
                FlyTextTagMiss(target,R2I(damage),GetOwningPlayer(caster))--     
            end
            if GetUnitTypeId(target)==FourCC("Hpal") then
                if not HERO[0].isAttacking and not HERO[0].ReleaseW and not HERO[0].ReleaseA and not HERO[0].ReleaseS and not HERO[0].ReleaseD then
                    if GetUnitAbilityLevel(target,FourCC("A004"))==0 then
                        SetUnitAnimationByIndex(target,4)
                    else
                        local AngleSource = math.deg(AngleBetweenXY(GetUnitX(caster), GetUnitY(caster), GetUnitX(target), GetUnitY(target)))
                        local eff=AddSpecialEffect("DefendCaster",GetUnitXY(target))
                        BlzSetSpecialEffectYaw(eff,math.rad(AngleSource-180))
                        DestroyEffect(eff)
                    end
                end
                --print("  ,   ")
            end
            FlyTextTagShieldXY(GetUnitX(target),GetUnitY(target),R2I(damage),GetOwningPlayer(target))--   


        end
    end)
end

function InitSpellEat()
    local SpellTrigger = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        local player = Player(i)
        TriggerRegisterPlayerUnitEvent(SpellTrigger, player, EVENT_PLAYER_UNIT_SPELL_CAST)
    end
    TriggerAddAction(SpellTrigger, function()
        if GetSpellAbilityId() == FourCC('A002') then -- 
            local target=GetSpellTargetUnit()
            if StunSystem[GetHandleId(target)] then
                if StunSystem[GetHandleId(target)].Time>0 then
                    --ShowUnit(target,false)
                   -- print("    ?")
                end
            end
        end
    end)
end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 31.10.2020 13:13
---
---
do
    TimerStart(CreateTimer(), 0.11, false, function()
        InitBossZone2()
    end)
end
function InitBossZone2()
    local this = CreateTrigger()
    TriggerRegisterEnterRectSimple(this, gg_rct_BashZone)
    TriggerAddAction(this, function()
        local hero=GetTriggerUnit()
        if IsUnitType(hero,UNIT_TYPE_HERO) then
            StartBossAI2(gg_rct_BashZone)
            DisableTrigger(this)
        end
    end)
end



BossHPBar=nil
notSplash=true
function StartBossAI2(zone)
    local boss = FindUnitOfType(FourCC('Giam'))-- 
    local bsx,bsy=GetUnitXY(boss) --  
    BOSS=boss
    BossDamaged2(boss)
    BlzSetUnitMaxHP(boss,600)
    local BossFight=true
    --print("  ")
    local bar=HealthBarAdd(boss)
    local FW = CreateFogModifierRectBJ(false, Player(0), FOG_OF_WAR_VISIBLE, zone) -- 
    FogModifierStart(FW)

    ClearMapMusicBJ()
    PlayMusicBJ(gg_snd_Varien___Born_Of_Blood__Risen_From_Ash)
    local phase = 4 -- 
    local sec = 0
    local PhaseOn = true
    local OnAttack=true
    TimerStart(CreateTimer(), 1, true, function() -- 
        local x, y = GetUnitXY(boss)
        if not UnitAlive(boss) then--    
            StartSound(bj_questCompletedSound)
            DestroyTimer(GetExpiredTimer())
            phase = 0
            BlzFrameSetVisible(bar,false)
            EnumDestructablesInRect(gg_rct_bossWin,nil,function()
                KillDestructable(GetEnumDestructable())
            end)

            ClearMapMusicBJ()
            PlayMusicBJ(gg_snd_All_Clear)
            TimerStart(CreateTimer(), 50, false, function()
                if not UnitAlive(BOSS) then
                    ClearMapMusicBJ()
                    PlayMusicBJ(gg_snd_Blood_Omen__Legacy_of_Kain___Kain_s_Mausoleum)
                end
            end)
            --print(" ? , ")

        else --    ,
            if BossFight then
                if not IsUnitInRange(mainHero, boss, 1000) or not UnitAlive(mainHero) or not IsUnitInRangeXY( boss, bsx,bsy,1500) then
                    BossFight=false
                    phase=0
                    DestroyFogModifier(FW)
                    IssuePointOrder(boss,"move",bsx,bsy)
                    DestroyEffect(AddSpecialEffect( "Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl", GetUnitXY(boss)))
                    SetUnitPositionSmooth(boss,bsx,bsy)
                    DestroyEffect(AddSpecialEffect( "Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl", GetUnitXY(boss)))
                    --print("    ,  ")
                    CameraClearNoiseForPlayer(Player(0))

                        ClearMapMusicBJ()
                        PlayMusicBJ(gg_snd_Blood_Omen__Legacy_of_Kain___Kain_s_Mausoleum)

                    BlzFrameSetVisible(bar,false)
                end
            end
        end
        if BossFight then --      
            sec = sec + 1
            if GetUnitLifePercent(boss)<=25 then
                UnitAddAbility(boss,FourCC("A00N"))
            else
                UnitRemoveAbility(boss,FourCC("A00N"))
            end
            if sec >= 10 then
                sec = 0
                phase = phase + 1
                PhaseOn = true
                --print("phase " .. phase)
                if phase >= 5 then
                    phase = 0
                end
            end
            --
            if phase == 1 and PhaseOn then
                PhaseOn = false
                --Doodads\LordaeronSummer\Props\PeasantGrave\PeasantGrave012
                --print("       1+ 1   20%  ,  5")
                for i=1,4 do
                    local tl=GetRandomLocInRect(zone)
                    CreateGrave(boss,GetLocationX(tl),GetLocationY(tl))
                    RemoveLocation(tl)
                end
            end
            if phase == 2 and PhaseOn then
                PhaseOn = false
                notSplash=false
                --print("    ")
                if not IssueTargetOrder(boss,"attack",mainHero) then
                    IssuePointOrder(boss,"attack",GetUnitXY(mainHero))
                end


                TimerStart(CreateTimer(), 2, true, function()
                    if not IssueTargetOrder(boss,"attack",mainHero) then
                        IssuePointOrder(boss,"attack",GetUnitXY(mainHero))
                    end
                    if IsUnitInRange(boss,mainHero,300) then
                        AreaSplashMark(boss)
                    end

                    if phase~=2 then
                        DestroyTimer(GetExpiredTimer())
                        notSplash=true
                    end
                end)
            end
            if phase == 3 and PhaseOn  then
                PhaseOn = false
                --print("     ")
                --local r=5
                RunSkeleton(boss)
                TimerStart(CreateTimer(), 3, true, function()
                    RunSkeleton(boss)
                    if phase~=3 then
                        DestroyTimer(GetExpiredTimer())
                    end
                end)
            end

            if phase == 4 and PhaseOn  then --  
                PhaseOn = false
                --print("     ")
                local nx,ny=GetRectCenterX(zone),GetRectCenterY(zone)
                local fog=AddSpecialEffect("war3mapImported\\fog.mdl",nx,ny)
                BlzSetSpecialEffectScale(fog,0.15)
                local z=BlzGetLocalSpecialEffectZ(fog)
                local sec2=0
                TimerStart(CreateTimer(), TIMER_PERIOD, true, function()
                    if sec2>2 then
                        BlzSetSpecialEffectPosition(fog,nx,ny,z-1)
                        z=BlzGetLocalSpecialEffectZ(fog)
                    end
                    --print(z)
                    sec2=sec2+TIMER_PERIOD
                    if sec2>=9 then
                        DestroyTimer(GetExpiredTimer())
                        DestroyEffect(fog)
                    end
                end)
                local tmpLoc=GetRandomLocInRect(zone)
                local woman=CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE),FourCC("nvlw"),GetLocationX(tmpLoc),GetLocationY(tmpLoc),GetUnitFacing(boss))
                RemoveLocation(tmpLoc)
                RunSkeleton(boss)

                TimerStart(CreateTimer(), 2, true, function()
                    --  - 

                    if phase~=4 then
                       -- print(" "..phase.." ")
                        DestroyTimer(GetExpiredTimer())
                        --BlzPauseUnitEx(boss,false)
                    end
                end)
            end
        else--  
            if IsUnitInRange(mainHero, boss, 1000) then
                --print(" ")
                ClearMapMusicBJ()
                PlayMusicBJ(gg_snd_Varien___Born_Of_Blood__Risen_From_Ash)
                BlzFrameSetVisible(bar,true)
                HealUnit(boss,100)
                BossFight=true
            end
        end--
    end)
end





function BossDamaged2(boss)
    local DamageTrigger = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        --TriggerRegisterPlayerUnitEvent(DamageTrigger, Player(i), EVENT_PLAYER_UNIT_DAMAGING) --   
        TriggerRegisterPlayerUnitEvent(DamageTrigger, Player(i), EVENT_PLAYER_UNIT_DAMAGED) --   
    end
    local bossTakenDamage=0
    local bossGivenDamage=0
    TriggerAddAction(DamageTrigger, function()
        local damage     = GetEventDamage() --  
        if damage < 1 then return end
        local eventId         = GetHandleId(GetTriggerEventId())
        --local isEventDamaging = eventId == GetHandleId(EVENT_PLAYER_UNIT_DAMAGING)
        local isEventDamaged = eventId == GetHandleId(EVENT_PLAYER_UNIT_DAMAGED)
        local target          = GetTriggerUnit() --    
        local caster          = GetEventDamageSource() --    


        if isEventDamaged then
            if target==boss then--    100 
                bossTakenDamage=bossTakenDamage+damage
                if bossTakenDamage>=100 then
                    bossTakenDamage=0
                    --local angle=AngleBetweenXY(GetUnitX(boss),GetUnitY(boss),GetUnitXY(mainHero))/bj_DEGTORAD
                    SpireCast(boss,GetUnitXY(mainHero))
                end
            end
            if caster==boss then -- 
                bossGivenDamage=bossGivenDamage+damage
                if bossGivenDamage>=100 then
                    bossGivenDamage=0
                    --local r=GetRandomInt(1,5)

                    --if r==1 and IsUnitInRange(boss,mainHero,300) then
                    if notSplash then
                        AreaSplashMark(boss)
                    end
                    --end
                end
            end
        end

    end)
end

function CreateGrave(boss,x,y)
    local r=GetRandomInt(0,2)
    DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",x,y))
    local eff=AddSpecialEffect("Doodads\\LordaeronSummer\\Props\\PeasantGrave\\PeasantGrave"..r,x,y)
    --war3mapImported\fog.mdl
    local sec=0
    local z=BlzGetLocalSpecialEffectZ(eff)
    BlzSetSpecialEffectScale(eff,2.3)
    BlzSetSpecialEffectYaw(eff, math.rad(GetRandomInt(0,360)))
    --print(z.." ")
    local skeleton=nil
    local id={FourCC("uske"),FourCC("u004"),FourCC("u006"),FourCC("u007"),FourCC("nvlw"),FourCC("u009"),FourCC("u000")} -- FourCC("u00D")
    TimerStart(CreateTimer(), TIMER_PERIOD, true, function()
        if sec>2 then
            BlzSetSpecialEffectPosition(eff,x,y,z-1)
            z=BlzGetLocalSpecialEffectZ(eff)
        end
        --print(z)
        sec=sec+TIMER_PERIOD
        if sec>=4.5 then
            DestroyTimer(GetExpiredTimer())
            DestroyEffect(eff)
            DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",x,y))
            if GetUnitTypeId(boss)==FourCC("u00B") then -- 
                skeleton=CreateUnit(GetOwningPlayer(boss),id[GetRandomInt(1,#id)],x,y,GetRandomInt(0,360))
                CreateLighting2Unit(boss,skeleton,"AFOD")
                local dmg=GetRandomInt(10,20)
                HealUnit(boss,-dmg)
                FlyTextTagMiss(boss,R2I(dmg),GetOwningPlayer(mainHero))
            else --  
                skeleton=CreateUnit(GetOwningPlayer(boss),FourCC("uske"),x,y,GetRandomInt(0,360))
            end
            if GetUnitTypeId(skeleton)==FourCC("nvlw") then --
                SetUnitOwner(skeleton,Player(PLAYER_NEUTRAL_PASSIVE),true)
            end

            if GetUnitTypeId(skeleton)==FourCC("u000") then -- 
                StunUnit(skeleton,0.2)
                --print("")
                TimerStart(CreateTimer(), 5, true, function()
                    if IsUnitInRange(skeleton,mainHero,1000) and StunSystem[GetHandleId(skeleton)].Time==0 and UnitAlive(skeleton) then
                        CreateMeteorMark(skeleton,GetUnitXY(mainHero))
                    end
                    if not UnitAlive(skeleton) then
                        DestroyTimer(GetExpiredTimer())
                    end
                end)
            end


            UnitApplyTimedLife(skeleton,FourCC('BTLF'),25)
            if not IssueTargetOrder(skeleton,"attack",mainHero) then
                IssuePointOrder(skeleton,"attack",GetUnitXY(mainHero))
            end
        end
    end)
    return skeleton
end

function RunSkeleton(boss)
    BlzPauseUnitEx(boss,true)
    --SetUnitAnimation(boss,"walk")
    SetUnitAnimationByIndex(boss,6)
    --print(r)
    --r=r+1
    SetUnitTimeScale(boss,3)
    local angle=AngleBetweenXY(GetUnitX(boss),GetUnitY(boss),GetUnitXY(mainHero))/bj_DEGTORAD
    SetUnitFacing(boss,angle)
    UnitAddForceSimple(boss,angle,10,500,6)
end
function AreaSplashMark(boss)
    BlzPauseUnitEx(boss,true)
    SetUnitAnimation(boss,"attack")
    SetUnitTimeScale(boss,0.5)
    local nx,ny=MoveXY(GetUnitX(boss),GetUnitY(boss),200,GetUnitFacing(boss))
    local mark=AddSpecialEffect("Snipe Target",nx,ny)
    BlzSetSpecialEffectScale(mark,10)
    TimerStart(CreateTimer(), 1.2, false, function()
        BlzPauseUnitEx(boss,false)
        DestroyEffect(mark)
        BlzSetSpecialEffectPosition(mark,5000,5000,0)
        --nx,ny=MoveXY(GetUnitX(boss),GetUnitY(boss),200,GetUnitFacing(boss))
        DestroyEffect(AddSpecialEffect("ThunderclapCasterClassic",nx,ny))
        UnitDamageArea(boss,100,nx,ny,200) --
        StunArea(boss,200,1,nx,ny)
        SetUnitTimeScale(boss,1)
        ResetUnitAnimation(boss)
    end)
end

---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 01.11.2020 20:48
---

do
    TimerStart(CreateTimer(), 0.11, false, function()
        InitBossZoneWE()
    end)
end
function InitBossZoneWE()
    local this = CreateTrigger()
    TriggerRegisterEnterRectSimple(this, gg_rct_WEbolldBoss)
    TriggerAddAction(this, function()
        local hero=GetTriggerUnit()
        if IsUnitType(hero,UNIT_TYPE_HERO) then
            StartBossAIWE(gg_rct_WEbolldBoss)
            ClearMapMusicBJ()
            PlayMusicBJ(gg_snd_Hollow_Knight_OST___Nosk__Boss_Theme_u)
            DisableTrigger(this)
            udg_RevivePoint = gg_rct_RedKeyDoor
        end
    end)
end


function StartBossAIWE(zone)
    local boss=FindUnitOfType(FourCC("hwt3"),1000,GetRectCenterX(zone),GetRectCenterY(zone))
    local hero=boss
    StunUnit(boss,0.2)
    UnitAddType(boss,UNIT_TYPE_UNDEAD)
    --print("   ,     ")
    TimerStart(CreateTimer(), 5, true, function()
        if IsUnitInRange(boss,mainHero,500) and StunSystem[GetHandleId(boss)].Time==0 and UnitAlive(boss)  then
            UnitAddAbility(boss,FourCC("AInv"))
            UnitAddItemById(boss,FourCC("I004"))
            ShowUnit(boss,false)
            UnitAddForceSimple(boss,GetUnitFacing(boss),15,600,5)
            local bar=AddSpecialEffect("Progressbar",GetUnitXY(hero))
            BlzSetSpecialEffectColor(bar,255,255,255)
            BlzPlaySpecialEffect(bar,ANIM_TYPE_BIRTH)
            BlzSetSpecialEffectTimeScale(bar,0.22)
            BlzSetSpecialEffectScale(bar,1.5)
            local sec=0
            TimerStart(CreateTimer(), TIMER_PERIOD, true, function()
                sec=sec+TIMER_PERIOD
                BlzSetSpecialEffectPosition(bar,GetUnitX(hero),GetUnitY(hero),BlzGetLocalUnitZ(hero)+260)
                if sec>5 then
                    DestroyTimer(GetExpiredTimer())
                    DestroyEffect(bar)
                    BlzSetSpecialEffectPosition(bar,5000,5000,0)
                end
            end)
        end
        if not UnitAlive(boss) then
            DestroyTimer(GetExpiredTimer())
            --print("dead")
            ClearMapMusicBJ()
            PlayMusicBJ(gg_snd_Blood_Omen__Legacy_of_Kain___Kain_s_Mausoleum)
            CreateArrowMark(GetUnitXY(boss))
        end
    end)
end

function CreateArrowMark(x,y)
    TimerStart(CreateTimer(), 20, false, function()
        local _,k,units=FindUnitOfType(FourCC("hrif"))
        --print(k)
        if k==0 then
           -- print("  ")
        end
        for i=1,#units do
            --print(i)
            local eff = AddSpecialEffect("AneuCaster", GetUnitXY(units[i]))  --"Abilities\\Spells\\Items\\AIco\\CrownOfCmndTarget.mdl"
            BlzSetSpecialEffectPitch(eff, math.rad(-90))
            BlzSetSpecialEffectZ(eff, BlzGetLocalUnitZ(units[i]) + 350)
            TimerStart(CreateTimer(), 0.1, true, function()
                local angle=GetUnitFacing(units[i])
                --print(" "..angle)
                BlzSetSpecialEffectYaw(eff, math.rad(angle))
            end)
        end
    end)
end


---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 31.10.2020 13:13
---
---
do
    TimerStart(CreateTimer(), 0.11, false, function()
        InitBossZone()
    end)
end
function InitBossZone()
    local this = CreateTrigger()
    TriggerRegisterEnterRectSimple(this, gg_rct_BossRealStart)
    TriggerAddAction(this, function()
        local hero=GetTriggerUnit()
        if IsUnitType(hero,UNIT_TYPE_HERO) then
            StartBossAI(gg_rct_boss)
            DisableTrigger(this)
        end
    end)
end


BOSS=nil
BossHPBar=nil
function StartBossAI(zone)
    local boss = FindUnitOfType(FourCC('u005'))
    local bsx,bsy=GetUnitXY(boss) --  
    BOSS=boss
    BossDamaged(boss)
    local BossFight=true
    --print("  ")
    local bar=HealthBarAdd(boss)
    local FW = CreateFogModifierRectBJ(false, Player(0), FOG_OF_WAR_VISIBLE, zone) -- 
    FogModifierStart(FW)
    ClearMapMusicBJ()
    PlayMusicBJ(gg_snd_Blood_omen_2__Battle_theme) -- gg_snd_Blood_omen_2__Battle_theme
    local phase = 3 -- 
    local sec = 0
    local PhaseOn = true
    local OnAttack=true
    TimerStart(CreateTimer(), 1, true, function() -- 
        local x, y = GetUnitXY(boss)
        if not UnitAlive(boss) then--     
            StartSound(bj_questCompletedSound)
            DestroyTimer(GetExpiredTimer())
            phase = 0
            GolemIsFree=true
            ClearMapMusicBJ()
            PlayMusicBJ(gg_snd_All_Clear)
            BlzFrameSetVisible(bar,false)
            EnumDestructablesInRect(gg_rct_bossWin,nil,function()
                KillDestructable(GetEnumDestructable())
            end)
            --print(" ? , ")

        else --    ,   
            if BossFight then
                if not IsUnitInRange(mainHero, boss, 2000) or not UnitAlive(mainHero) or not IsUnitInRangeXY( boss, bsx,bsy,1500)  then
                    BossFight=false
                    phase=0
                    IssuePointOrder(boss,"move",bsx,bsy)
                    --SetUnitPositionSmooth(boss,bsx,bsy)
                    DestroyFogModifier(FW)
                    --print("    ,  ")
                    ClearMapMusicBJ()
                    PlayMusicBJ(gg_snd_Blood_Omen__Legacy_of_Kain___Kain_s_Mausoleum)
                    BlzFrameSetVisible(bar,false)
                end
            end
        end
        if BossFight then --      
            sec = sec + 1
            if GetUnitLifePercent(boss)<=25 then
                UnitAddAbility(boss,FourCC("A00D"))
                UnitAddAbility(boss,FourCC("A00E"))
            else
                UnitRemoveAbility(boss,FourCC("A00D"))
                UnitRemoveAbility(boss,FourCC("A00E"))
            end
            if sec >= 10 then
                sec = 0
                phase = phase + 1
                PhaseOn = true
                --print("phase " .. phase)
                if phase >= 4 then
                    phase = 0
                end
            end
            --
            if phase == 1 and PhaseOn then
                PhaseOn = false
                --print(" ")
                local skeleton={}
                skeleton[1]=CreateUnit(GetOwningPlayer(boss),FourCC("uske"),GetRectMaxX(zone),GetRectMaxY(zone),GetRandomInt(0,360))
                skeleton[2]=CreateUnit(GetOwningPlayer(boss),FourCC("uske"),GetRectMaxX(zone)-GetRectWidthBJ(zone),GetRectMinY(zone)+GetRectHeightBJ(zone),GetRandomInt(0,360))
                skeleton[3]=CreateUnit(GetOwningPlayer(boss),FourCC("uske"),GetRectMinX(zone)+GetRectWidthBJ(zone),GetRectMinY(zone),GetRandomInt(0,360))
                skeleton[4]=CreateUnit(GetOwningPlayer(boss),FourCC("uske"),GetRectMinX(zone),GetRectMinY(zone),GetRandomInt(0,360))
                if GetUnitLifePercent(boss)<=50 then
                    skeleton[5]=CreateUnit(GetOwningPlayer(boss),FourCC("n005"),GetRectMaxX(zone),GetRectMaxY(zone),GetRandomInt(0,360))
                    skeleton[6]=CreateUnit(GetOwningPlayer(boss),FourCC("n005"),GetRectMaxX(zone)-GetRectWidthBJ(zone),GetRectMinY(zone)+GetRectHeightBJ(zone),GetRandomInt(0,360))
                    skeleton[7]=CreateUnit(GetOwningPlayer(boss),FourCC("n005"),GetRectMinX(zone)+GetRectWidthBJ(zone),GetRectMinY(zone),GetRandomInt(0,360))
                    skeleton[8]=CreateUnit(GetOwningPlayer(boss),FourCC("n005"),GetRectMinX(zone),GetRectMinY(zone),GetRandomInt(0,360))
                end
                for i=1,#skeleton do
                    UnitApplyTimedLife(skeleton[i],FourCC('BTLF'),20)
                    if not IssueTargetOrder(skeleton[i],"attack",mainHero) then
                        IssuePointOrder(skeleton[i],"attack",GetUnitXY(mainHero))
                    end
                end
            end
            if phase == 2 and PhaseOn then
                PhaseOn = false
                --print(" ")
                if not IssueTargetOrder(boss,"attack",mainHero) then
                    IssuePointOrder(boss,"attack",GetUnitXY(mainHero))
                end
                TimerStart(CreateTimer(), 1, true, function()
                    if IsUnitInRange(mainHero, boss, 900) and UnitAlive(mainHero)  then
                        MarkAndFall(GetUnitX(mainHero),GetUnitY(mainHero),"HFMChandelier",boss) --
                    end
                    if phase~=2 then
                        DestroyTimer(GetExpiredTimer())
                    end
                end)

            end
            if phase == 3 and PhaseOn  then --  
                PhaseOn = false
                --print("   1  3 ")
                local r=GetRandomInt(1,3)
                local xs,ys=GetRectCenterX(zone),GetRectCenterY(zone)
                if r==1 then
                    xs=xs-GetRectWidthBJ(zone)/3
                elseif r==2 then
                    xs=xs+GetRectWidthBJ(zone)/3
                end
                MarkPillar(xs,ys,boss,zone)

                if GetUnitLifePercent(boss)<=15 then-- 
                    local second=true
                    if r==1 then
                        xs=xs+GetRectWidthBJ(zone)/3
                    elseif r==2 then
                        xs=xs-GetRectWidthBJ(zone)/3
                    elseif r==3 then
                        second=false
                    end
                    if second then --  
                        MarkPillar(xs,ys,boss,zone)
                    end
                end
            end
        else--  
            if IsUnitInRange(mainHero, boss, 1000) then
                --print(" ")
                ClearMapMusicBJ()
                PlayMusicBJ(gg_snd_Blood_omen_2__Battle_theme)
                BlzFrameSetVisible(bar,true)
                HealUnit(boss,500)
                BossFight=true
            end
        end--
    end)
end

function MarkAndFall(x,y,effModel,hero)
    local mark=AddSpecialEffect("Snipe Target",x,y)
    BlzSetSpecialEffectScale(mark,5)
    TimerStart(CreateTimer(), 2, false, function()
        local FallenEff=AddSpecialEffect(effModel,x,y)
        BlzSetSpecialEffectZ(FallenEff,1000)
        BlzSetSpecialEffectYaw(FallenEff, math.rad(GetRandomReal(0,360)))
        TimerStart(CreateTimer(), TIMER_PERIOD, true, function()
            local z=BlzGetLocalSpecialEffectZ(FallenEff)

            BlzSetSpecialEffectZ(FallenEff,z-25)
            if z<=GetTerrainZ(x,y) then
                DestroyEffect(mark)
                BlzSetSpecialEffectPosition(mark,5000,5000,0)
                DestroyTimer(GetExpiredTimer())
                DestroyEffect(FallenEff)
                BlzSetSpecialEffectPosition(FallenEff,5000,5000,0)
                DestroyEffect(AddSpecialEffect("ThunderclapCasterClassic",x,y))
                UnitDamageArea(hero,50,x,y,150) --  
                UnitDamageArea(mainHero,50,x,y,150)
            end
        end)
    end)
end

function CreateFirePillar(xs,ys,boss,zone)
    ys=ys+700
    local step=100
    xs=xs-step*1.7
    local x=xs
    local k=4

    IssuePointOrder(boss,"attack",GetUnitXY(mainHero))
    TimerStart(CreateTimer(), 1/16, true, function()
        --for k=1,14 do
        for i =1,3 do
            -- B006 ,  
            x=x+step
            local y=ys-step*(k-1)
            local eff=AddSpecialEffect("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y)
            --DestroyEffect(eff)
            local sec=0
            TimerStart(CreateTimer(), 0.2, true, function()
                sec=sec+0.2
                UnitDamageArea(boss,20,x,y,step)
                if sec>=5 then
                    DestroyEffect(eff)
                    DestroyTimer(GetExpiredTimer())
                end
            end)
           -- local _,d=PointContentDestructable(x,y,step*2)
            --if GetDestructableTypeId(d)==FourCC("B006") then
                --print("  ")
                --DestroyTimer(GetExpiredTimer())
                local j=1.2
                SetRect(GlobalRect, x - step*j, y - step*j, x + step*j, y +step*j)
                EnumDestructablesInRect(GlobalRect,nil,function ()
                    local d=GetEnumDestructable()
                    --if GetDestructableLife(d)>0 then
                        --print(" "..GetDestructableName(d))
                        RemoveDestructable(d)
                    --end
                end)
            --end
            UnitDamageArea(boss,99,x,y,step)
        end
        x=xs
        k=k+1
        if k>=15 then
            DestroyTimer(GetExpiredTimer())
        end
    end)
    --end
end

function BossDamaged(boss)
    local DamageTrigger = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        --TriggerRegisterPlayerUnitEvent(DamageTrigger, Player(i), EVENT_PLAYER_UNIT_DAMAGING) --   
        TriggerRegisterPlayerUnitEvent(DamageTrigger, Player(i), EVENT_PLAYER_UNIT_DAMAGED) --   
    end
    local bossTakenDamage=0
    TriggerAddAction(DamageTrigger, function()
        local damage     = GetEventDamage() --  
        if damage < 1 then return end
        local eventId         = GetHandleId(GetTriggerEventId())
        --local isEventDamaging = eventId == GetHandleId(EVENT_PLAYER_UNIT_DAMAGING)
        local isEventDamaged = eventId == GetHandleId(EVENT_PLAYER_UNIT_DAMAGED)
        local target          = GetTriggerUnit() --    
        local caster          = GetEventDamageSource() --    


        if isEventDamaged then
            if target==boss then--    100 
                bossTakenDamage=bossTakenDamage+damage
                if bossTakenDamage>=100 then
                    bossTakenDamage=0
                    local angle=AngleBetweenXY(GetUnitX(boss),GetUnitY(boss),GetUnitXY(mainHero))/bj_DEGTORAD

                    CreateFireLine(boss,angle,DistanceBetweenXY(GetUnitX(boss),GetUnitY(boss),GetUnitXY(mainHero)))
                end
            end
            if caster==boss then
                local r=GetRandomInt(1,5)
                if r==1 and IsUnitInRange(boss,mainHero,300) then
                    SpireCast(boss,GetUnitXY(mainHero))
                end
            end
        end

    end)

end

function CreateFireLine(boss,angle,distance)
    local x,y=GetUnitXY(boss)
    --local currentDistance=0
    local speed=128
    local step=distance//speed
    local mark={}
    for i=1,step do
        x,y=MoveXY(x,y,speed,angle)
        mark[i]=AddSpecialEffect("Snipe Target",x,y)
        BlzSetSpecialEffectScale(mark[i],5)
    end

    TimerStart(CreateTimer(), 2, false, function()
        for i=1,#mark do
            DestroyEffect(mark[i])
            BlzSetSpecialEffectPosition(mark[i],5000,5000,0)
        end
        x,y=GetUnitXY(boss)
        TimerStart(CreateTimer(), 1/16, true, function()
            x,y=MoveXY(x,y,speed,angle)
            local eff=AddSpecialEffect("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y)
            UnitDamageArea(boss,99,x,y,speed)
            distance=distance-speed
            if distance<=0 then
                DestroyTimer(GetExpiredTimer())
            end
        end)
    end)
end

function MarkPillar(xs,ys,boss,zone)
    local eff=AddSpecialEffect("s_cube1",xs,ys)
    BlzSetSpecialEffectZ(eff,GetUnitZ(mainHero)-45)
    BlzSetSpecialEffectMatrixScale(eff,4,14,0.5)
    BlzSetSpecialEffectColor(eff,255,0,0)
    BlzSetSpecialEffectAlpha(eff,100)
    TimerStart(CreateTimer(), 3, false, function()
        CreateFirePillar(xs,ys,boss,zone)
        DestroyEffect(eff)
        BlzSetSpecialEffectPosition(eff,5000,5000,0)
        DestroyTimer(GetExpiredTimer())
        local tmpLoc=GetRandomLocInRect(zone)
        local woman=CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE),FourCC("nvlw"),GetLocationX(tmpLoc),GetLocationY(tmpLoc),GetUnitFacing(boss))
        RemoveLocation(tmpLoc)
    end)
end
do --
    TimerStart(CreateTimer(), 0.1, false, function()
        if BlzLoadTOCFile("Main.toc") then
            --print("")
        else
            print("    ")
        end
    end)
end


function HealthBarAdd(u)
    local bar = BlzCreateSimpleFrame("MyFakeBar", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0)
    BlzFrameSetVisible(bar,true)
    BlzFrameSetTexture(bar, "Replaceabletextures\\Teamcolor\\Teamcolor00.blp", 0, true)
    BlzFrameSetTexture(BlzGetFrameByName("MyFakeBarBorder",0),"MyBarBorder.blp", 0, true)
    BlzFrameSetText(BlzGetFrameByName("MyFakeBarTitle",0), "Boss")
    BlzFrameSetAbsPoint(bar,FRAMEPOINT_CENTER,0.4,0.55)
    BlzFrameSetSize(bar,0.3,.03)
    local lefttext = BlzGetFrameByName("MyFakeBarLeftText",0)
    local righttext = BlzGetFrameByName("MyFakeBarRightText",0)
    local function on_timer()
        BlzFrameSetValue(bar, GetUnitLifePercent(u))
        BlzFrameSetText(lefttext, R2I(GetWidgetLife(u)))
        BlzFrameSetText(righttext, R2I(BlzGetUnitMaxHP(u)))
    end
    TimerStart(CreateTimer(),0.5,true, on_timer)
    return bar
end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 20.11.2020 3:19
---

--Golem=gg_unit_u00A_0384
GolemIsFree=false

do
    TimerStart(CreateTimer(), 3, false, function()
        --RegisterNecroBoss()
        StartAndWaitGolemAI(gg_unit_u00A_0384)
    end)
end

function StartAndWaitGolemAI(boss)
    local bsx,bsy=GetUnitXY(boss)
    BlzSetUnitMaxHP(boss,2000)
    HealUnit(boss,2000)
    local BossFight=true
    --print("  ")
    local bar=HealthBarAdd(boss)
    BlzFrameSetVisible(bar,false)
    --ClearMapMusicBJ()
    --PlayMusicBJ(gg_snd_Hollow_Knight_OST___Nosk__Boss_Theme_u)
    GolemDamaged(boss)
    local phase = 1 -- 
    local sec = 0
    local PhaseOn = true
    local OnAttack=true
    TimerStart(CreateTimer(), 1, true, function() -- 
        local x, y = GetUnitXY(boss)
        if not UnitAlive(boss) then--    
            StartSound(bj_questCompletedSound)
            DestroyTimer(GetExpiredTimer())
            phase = 0
            BlzFrameSetVisible(bar,false)
            CameraClearNoiseForPlayer(Player(0))
            ClearMapMusicBJ()
            PlayMusicBJ(gg_snd_Blood_Omen__Legacy_of_Kain___Kain_s_Mausoleum)
            --print(" ? , ")

        else --    ,
            if BossFight then
                if not IsUnitInRange(mainHero, boss, 1000) or not UnitAlive(mainHero) or not IsUnitInRangeXY( boss, bsx,bsy,2000) then
                    BossFight=false
                    phase=0
                    CameraClearNoiseForPlayer(Player(0))
                    IssuePointOrder(boss,"move",bsx,bsy)
                    DestroyEffect(AddSpecialEffect( "Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl", GetUnitXY(boss)))
                    SetUnitPositionSmooth(boss,bsx,bsy)
                    DestroyEffect(AddSpecialEffect( "Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl", GetUnitXY(boss)))
                    if GetUnitTypeId(mainHero)==FourCC("Hpal") then
                        ClearMapMusicBJ()
                        PlayMusicBJ(gg_snd_Blood_Omen__Legacy_of_Kain___Kain_s_Mausoleum)
                    end
                    --print("    ,  ")
                    BlzFrameSetVisible(bar,false)
                end
            end
        end
        if BossFight then --      
            sec = sec + 1
            if GetUnitLifePercent(boss)<=25 then

            else

            end
            if sec >= 10 then
                sec = 0
                phase = phase + 1
                PhaseOn = true
                --print("phase " .. phase)
                if phase >= 4 then
                    phase = 0
                end
            end
            --
            if phase == 1 and PhaseOn then
                PhaseOn = false
               -- print("")
                if UnitAlive(boss) then
                    CreateEarthWall(boss)
                    CameraSetEQNoiseForPlayer(Player(0), 3)
                end
            end
            if phase == 2 and PhaseOn then
                CameraClearNoiseForPlayer(Player(0))
                PhaseOn = false

            end
            if phase == 3 and PhaseOn  then
                PhaseOn = false
                --print("     ")

            end

            if phase == 4 and PhaseOn  then --  
                PhaseOn = false
                --print("     ")


                TimerStart(CreateTimer(), 2, true, function()
                    --  - 

                    if phase~=4 then
                        -- print(" "..phase.." ")
                        DestroyTimer(GetExpiredTimer())
                        --BlzPauseUnitEx(boss,false)
                    end
                end)
            end
        else--  
            if IsUnitInRange(mainHero, boss, 1000) and GolemIsFree then
                --print(" ")
                BOSS=boss
                UnitRemoveAbility(boss,FourCC("Avul"))
                BlzFrameSetVisible(bar,true)
                HealUnit(boss,100)
                BossFight=true
                ClearMapMusicBJ()
                PlayMusicBJ(gg_snd_Hollow_Knight_OST___Nosk__Boss_Theme_u)
            end
        end--
    end)
end

function GolemDamaged(boss)
    local DamageTrigger = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        --TriggerRegisterPlayerUnitEvent(DamageTrigger, Player(i), EVENT_PLAYER_UNIT_DAMAGING) --   
        TriggerRegisterPlayerUnitEvent(DamageTrigger, Player(i), EVENT_PLAYER_UNIT_DAMAGED) --   
    end
    local bossTakenDamage=0
    TriggerAddAction(DamageTrigger, function()
        local damage     = GetEventDamage() --  
        if damage < 1 then return end
        local eventId         = GetHandleId(GetTriggerEventId())
        --local isEventDamaging = eventId == GetHandleId(EVENT_PLAYER_UNIT_DAMAGING)
        local isEventDamaged = eventId == GetHandleId(EVENT_PLAYER_UNIT_DAMAGED)
        local target          = GetTriggerUnit() --    
        local caster          = GetEventDamageSource() --    


        if isEventDamaged then
            if target==boss then--    100 
                bossTakenDamage=bossTakenDamage+damage
                if bossTakenDamage>=100 then
                    bossTakenDamage=0
                    local angle=AngleBetweenXY(GetUnitX(boss),GetUnitY(boss),GetUnitXY(mainHero))/bj_DEGTORAD

                    --CreateFireLine(boss,angle,DistanceBetweenXY(GetUnitX(boss),GetUnitY(boss),GetUnitXY(mainHero)))
                end
            end
            if caster==boss then
                local r=GetRandomInt(1,5)
                if r==1 and IsUnitInRange(boss,mainHero,300) then
                    --SpireCast(boss,GetUnitXY(mainHero))
                    StunUnit(mainHero,2)
                end
            end
        end

    end)

end


function CreateEarthWall(boss)
    local sec=10
    local k=1-GetUnitLifePercent(boss)/100
    local p=1.2-k
    --print(k)
    local x,y=GetUnitXY(boss)
    TimerStart(CreateTimer(),p,true, function()
        local angle=AngleBetweenXY(x,y,GetUnitXY(mainHero))/bj_DEGTORAD
        x,y=MoveXY(x,y,80,angle)
        CreateWallElement(x,y,10,boss)
        sec=sec-p
        if sec<=0 then
            DestroyTimer(GetExpiredTimer())

        end
    end)
end

function CreateWallElement(x,y,time,boss)
    --print(" ")
    local eff=AddSpecialEffect("Doodads\\Dungeon\\Rocks\\DungeonStalagmite\\DungeonStalagmite"..GetRandomInt(0,3),x,y)
    DestroyEffect(AddSpecialEffect( "Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl",x,y))
    BlzSetSpecialEffectScale(eff,GetRandomReal(1,2))
    BlzSetSpecialEffectYaw(eff, math.rad(GetRandomInt(1,360)))
    local zNormal=BlzGetLocalSpecialEffectZ(eff)
    local z=zNormal-500
    BlzSetSpecialEffectZ(eff,z)
    TimerStart(CreateTimer(), TIMER_PERIOD, true, function()
        z=z+15
        --print(z)
        BlzSetSpecialEffectZ(eff,z)
        if z>=zNormal then
            DestroyTimer(GetExpiredTimer())
            --print("  ")
            local block=CreateDestructable(FourCC('YTpb'),x,y,0,1,0) --  
            local is,hero=UnitDamageArea(boss,100,x,y,200)
            local angle=AngleBetweenXY(x,y,GetUnitXY(hero))/bj_DEGTORAD
            if hero then
                UnitAddForceSimple(hero,angle,15,300,"dust")
            end

            TimerStart(CreateTimer(), time, false, function()
                DestroyEffect(AddSpecialEffect( "Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl",x,y))
                KillDestructable(block)
                --print(" ")
                RemoveDestructable(block)
                z=BlzGetLocalSpecialEffectZ(eff)
                TimerStart(CreateTimer(), TIMER_PERIOD, true, function()
                    z=z-30
                    BlzSetSpecialEffectZ(eff,z)
                    if z<=zNormal-500 then

                        DestroyTimer(GetExpiredTimer())
                        DestroyEffect(eff)
                        BlzSetSpecialEffectPosition(eff,5000,5000,0)
                    end
                end)
            end)
        end
    end)

end



---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 01.11.2020 20:48
---

do
    TimerStart(CreateTimer(), 0.11, false, function()
        InitGreenBoss()
    end)
end
function InitGreenBoss()
    local this = CreateTrigger()
    TriggerRegisterEnterRectSimple(this, gg_rct_GreenBoss)
    TriggerAddAction(this, function()
        local hero=GetTriggerUnit()
        if IsUnitType(hero,UNIT_TYPE_HERO) then
            StartGreenRed(gg_rct_GreenBoss)
            DisableTrigger(this)
        end
    end)
end


function StartGreenRed(zone)
    local boss=FindUnitOfType(FourCC("u002"),1000,GetRectCenterX(zone),GetRectCenterY(zone))
    BOSS=boss
    UnitAddAbility(boss,FourCC("A00B"))
    local spawn=true
    StunUnit(boss,0.2)
    --print("")
    TimerStart(CreateTimer(), 1, true, function()
        if StunSystem[GetHandleId(boss)].Time==0 then
            if IsUnitInRange(boss,mainHero,1600)  then
                if spawn then
                    --local nx,ny=0,0
                    local angle=45
                    for i=1,8 do
                        local nx,ny=MoveXY(GetUnitX(boss),GetUnitY(boss),150,angle*i)
                        CreateUnit(GetOwningPlayer(boss),FourCC("osp1"),nx,ny,0)
                       -- print(i.." ")
                    end
                end
                spawn=false
                IssuePointOrder(boss,"ward",GetUnitXY(mainHero))
                --print("ward")
                --osp1
            else
                spawn=true
            end
        end
        if not UnitAlive(boss) then
            DestroyTimer(GetExpiredTimer())
        end
    end)
end

---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 01.11.2020 20:48
---

do
    TimerStart(CreateTimer(), 0.11, false, function()
        InitIceBoss()
    end)
end
function InitIceBoss()
    local this = CreateTrigger()
    TriggerRegisterEnterRectSimple(this, gg_rct_IceBoss)
    TriggerAddAction(this, function()
        local hero=GetTriggerUnit()
        if IsUnitType(hero,UNIT_TYPE_HERO) then
            StartIceBoss(gg_rct_IceBoss)
            DisableTrigger(this)
        end
    end)
end


function StartIceBoss(zone)
    local boss=FindUnitOfType(FourCC("u001"),2000,GetRectCenterX(zone),GetRectCenterY(zone))
    StunUnit(boss,0.2)
    UnitAddAbility(boss,FourCC("A00C"))
    --print(" ")
    TimerStart(CreateTimer(), 1, true, function()
        if StunSystem[GetHandleId(boss)].Time==0 then
            if  OrderId2String(GetUnitCurrentOrder(boss))~="blizzard" then
                IssuePointOrder(boss,"blizzard",GetUnitXY(boss))
            end
        end
        if not UnitAlive(boss) then
            DestroyTimer(GetExpiredTimer())
        end
    end)
end

---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 01.11.2020 20:48
---

do
    TimerStart(CreateTimer(), 0.11, false, function()
        InitLBoss()
    end)
end
function InitLBoss()
    local this = CreateTrigger()
    TriggerRegisterEnterRectSimple(this, gg_rct_LightFight)
    TriggerAddAction(this, function()
        local hero=GetTriggerUnit()
        if hero==mainHero then
            StartBossL(gg_rct_LightFight)
            DisableTrigger(this)
        end
    end)
end


function StartBossL(zone)
    local boss=FindUnitOfType(FourCC("u00D"),1000,GetRectCenterX(zone),GetRectCenterY(zone))
    BOSS=boss
    UnitAddType(boss,UNIT_TYPE_UNDEAD)
    StunUnit(boss,0.2)
    --print("")
    TimerStart(CreateTimer(), 6, true, function()
        if IsUnitInRange(boss,mainHero,500) and StunSystem[GetHandleId(boss)].Time==0 and UnitAlive(boss) then
            if UnitAlive(boss) then
                --print(" ")
                CreateHealWMark(boss)
            end
        end
        if not UnitAlive(boss) then
            DestroyTimer(GetExpiredTimer())
        end
    end)
end

--Abilities\Spells\Human\HolyBolt\HolyBoltSpecialArt.mdl
--Abilities\Spells\Human\Resurrect\ResurrectTarget.mdl

function CreateHealWMark(boss)
    local e=nil
    local x,y=GetUnitXY(boss)
    local hp={}
    local units={}
    GroupEnumUnitsInRange(perebor,x,y,1000,nil)
    while true do
        e = FirstOfGroup(perebor)

        if e == nil then break end
        if UnitAlive(e) and IsUnitAlly(e,GetOwningPlayer(boss)) then
            table.insert(hp,GetUnitLifePercent(e))
            table.insert(units,e)
        end
        GroupRemoveUnit(perebor,e)
    end

    local key,min = 1,hp[1]--, t[1]
    for k, v in ipairs(hp) do
        if hp[k] < min then
            key, min = k, v
        end
    end

    --print(key, min)
    local mark=AddSpecialEffect("Alarm",GetUnitXY(units[key]))
    BlzSetSpecialEffectScale(mark,1)
    local sec=2
    TimerStart(CreateTimer(), TIMER_PERIOD, true, function()
        BlzSetSpecialEffectPosition(mark,GetUnitX(units[key]),GetUnitY(units[key]),BlzGetUnitZ(units[key])+30)
        sec=sec-TIMER_PERIOD
        if sec<=0 then
            DestroyTimer(GetExpiredTimer())
            if StunSystem[GetHandleId(boss)].Time==0 and UnitAlive(boss) and UnitAlive(units[key]) then
                HealUnit(units[key],150,nil,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt")
            end
            BlzSetSpecialEffectPosition(mark,5000,5000,0)
            local is,hero=UnitDamageArea(boss,150,GetUnitX(units[key]),GetUnitY(units[key]),180)
            if is then
                DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt",GetUnitXY(hero)))
            end
        end
    end)

end


---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 10.11.2020 23:27
---
--"u00B

function RegisterNecroBossOLD() --       
    local gg_trg_RANGE = CreateTrigger()
    local boss,k=FindUnitOfType(FourCC("u00B"))
    BOSS=boss
    --print(" ")
    TriggerRegisterUnitInRangeSimple(gg_trg_RANGE, 700, boss)
    TriggerAddAction(gg_trg_RANGE, function()
        local hero=GetTriggerUnit()
        print(" ")
        print(" ")
        print(" ")
        print(" ")
        print(" ")
        print(" ")
        print(" ")
        print(" ")
        if hero==mainHero then
            --print(GetUnitName())
            StartNecromantGui(boss)
            DisableTrigger(GetTriggeringTrigger())
        end

    end)
end



do
    TimerStart(CreateTimer(), 3, false, function()
        --RegisterNecroBoss()
        InitBossZone3()
    end)
end



function InitBossZone3()
    local this = CreateTrigger()
    TriggerRegisterEnterRectSimple(this, gg_rct_FieldSkeletons)
    TriggerAddAction(this, function()
        local hero=GetTriggerUnit()
        if IsUnitType(hero,UNIT_TYPE_HERO) then
            StartNecromantGui(gg_rct_FieldSkeletons)
            DisableTrigger(this)
        end
    end)
end



function StartNecromantGui(zone)

    local boss=FindUnitOfType(FourCC("u00B"))
    SetUnitOwner(boss,Player(9),true)
    BOSS=boss
    local bar=HealthBarAdd(boss)
    ClearMapMusicBJ()
    PlayMusicBJ(gg_snd_Blood_omen_2__Battle_theme)

    TimerStart(CreateTimer(), 2.5, true, function()
        if IsUnitInRange(mainHero,boss,1200) and UnitAlive(mainHero) then
            BlzFrameSetVisible(bar,true)
            local tl=GetRandomLocInRect(gg_rct_FieldSkeletons)
            local x,y=GetLocationX(tl),GetLocationY(tl)
            local s=CreateGrave(boss,x,y)
            local dmg=GetRandomInt(10,20)
            --print(dmg)
            --HealUnit(boss,-GetRandomInt(10,20))
            RemoveLocation(tl)
            --print(DistanceBetweenXY(GetUnitX(boss),GetUnitY(boss),GetUnitXY(mainHero)))
            if not IsUnitInRange(mainHero,boss,850) and false then --      
                --print("Too far")
                local gold=CreateUnit(GetOwningPlayer(boss),FourCC("u00D"),x,y,GetRandomInt(0,360))
                UnitApplyTimedLife(gold,FourCC('BTLF'),25)
                UnitAddType(gold,UNIT_TYPE_UNDEAD)
                StunUnit(gold,0.2)
                --print("")
                TimerStart(CreateTimer(), 6, true, function()
                    if IsUnitInRange(gold,mainHero,500) and StunSystem[GetHandleId(gold)].Time==0 and UnitAlive(gold) then
                        if UnitAlive(gold) then
                           -- print(" ")
                            CreateHealWMark(gold)
                        end
                    end
                    if not UnitAlive(gold) then
                        DestroyTimer(GetExpiredTimer())
                    end
                end)
            end

        else
            BlzFrameSetVisible(bar,false)
            HealUnit(boss,200)
            ClearMapMusicBJ()
            PlayMusicBJ(gg_snd_Blood_omen_2__Battle_theme)
        end

        if not UnitAlive(mainHero) then
            ClearAfterDead(gg_rct_FieldSkeletons)
            ClearMapMusicBJ()
            PlayMusicBJ(gg_snd_Blood_Omen__Legacy_of_Kain___Kain_s_Mausoleum)
        end

        if not UnitAlive(boss) then
            DestroyTimer(GetExpiredTimer())
            BlzFrameSetVisible(bar,false)
            ClearMapMusicBJ()
            PlayMusicBJ(gg_snd_All_Clear)
            TimerStart(CreateTimer(), 20, false, function()
                if not UnitAlive(BOSS) then
                    ClearMapMusicBJ()
                    PlayMusicBJ(gg_snd_Blood_Omen__Legacy_of_Kain___Kain_s_Mausoleum)
                end
            end)
        end
    end)
end

function ClearAfterDead(zone)
    local e=nil
    GroupEnumUnitsInRect(perebor,zone,nil)
        while true do
            e = FirstOfGroup(perebor)

            if e == nil then break end
            if UnitAlive(e) and e~=BOSS then
                KillUnit(e)
            end
            GroupRemoveUnit(perebor,e)
        end
end

---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 10.11.2020 23:27
---
--"u00B
do
    TimerStart(CreateTimer(), 0.2, false, function()
        RegisterPeonBoss()
    end)
end


function RegisterPeonBoss()
    --[[local gg_trg_RANGE = CreateTrigger()
    local boss,k=FindUnitOfType(FourCC("o002"))
    BOSS=boss
    --print(k)
    TriggerRegisterUnitInRangeSimple(gg_trg_RANGE, 1000, boss)
    TriggerAddAction(gg_trg_RANGE, function()
        local hero=GetTriggerUnit()
        --print(" ")
        if hero==mainHero then
            --print(GetUnitName())
            DisableTrigger(GetTriggeringTrigger())
            --StartPEONAI(boss)
        end

    end)]]
    --print(" ")
    local this = CreateTrigger()
    TriggerRegisterEnterRectSimple(this, gg_rct_PeonPlace)
    TriggerAddAction(this, function()
        local hero=GetTriggerUnit()
        if IsUnitType(hero,UNIT_TYPE_HERO) then
            StartPEONAI()
            DisableTrigger(this)
        end
    end)


end

bsx,bsy=0,0
PeonIsRed=false
function StartPEONAI()
    local boss,err = FindUnitOfType(FourCC('o002'))
    BOSS=boss
    UnitRemoveAbility(boss,FourCC("Avul"))
    --print("  ")
    if err==0 then
        print('  ,    ')
    end
    bsx,bsy=GetUnitXY(boss)
    --BossDamaged(boss)
    local BossFight=true
    UnitAddAbility(boss,FourCC("A008"))
    --UnitAddAbility(boss,FourCC("Avul"))
    UnitAddType(boss,UNIT_TYPE_UNDEAD)
    --print("   ")
    local bar=HealthBarAdd(boss)
    --local FW = CreateFogModifierRectBJ(false, Player(0), FOG_OF_WAR_VISIBLE, zone) -- 
    --FogModifierStart(FW)

    ClearMapMusicBJ()
    PlayMusicBJ(gg_snd_Rayman_Origins_Soundtrack___Ocean_World__Moray_Boss)

    local phase = 5 -- 
    local sec = 0
    local PhaseOn = true
    local OnAttack=true
    TimerStart(CreateTimer(), 1, true, function() -- 
        local x, y = GetUnitXY(boss)
        if not UnitAlive(boss) then--    
            DestroyTimer(GetExpiredTimer())
            phase = 0
            BlzFrameSetVisible(bar,false)
            print("Bergios's boss is defeated, victory in 10 seconds")
            TimerStart(CreateTimer(), 10, false, function()
                CustomVictoryBJ(Player(0),true,true)
            end)

            ClearMapMusicBJ()
            PlayMusicBJ(gg_snd_All_Clear)
            TimerStart(CreateTimer(), 50, false, function()
                if not UnitAlive(BOSS) then
                    ClearMapMusicBJ()
                    PlayMusicBJ(gg_snd_Blood_Omen__Legacy_of_Kain___Kain_s_Mausoleum)
                end
            end)

        else --    ,   
            if BossFight then
                if not IsUnitInRange(mainHero, boss, 2000) or not UnitAlive(mainHero) then
                    BossFight=false
                    phase=0
                    --DestroyFogModifier(FW)
                    --print("    ,  ")
                    CameraClearNoiseForPlayer(Player(0))
                    ClearMapMusicBJ()
                    PlayMusicBJ(gg_snd_Blood_Omen__Legacy_of_Kain___Kain_s_Mausoleum)
                    BlzFrameSetVisible(bar,false)
                end
            end
        end
        if BossFight then --      
            sec = sec + 1
            if GetUnitLifePercent(boss)<=50 and not PeonIsRed then
                boss=ReplaceUnitBJ(boss,FourCC("o005"),1) --0 3
                UnitAddAbility(boss,FourCC("A008"))
                UnitAddType(boss,UNIT_TYPE_UNDEAD)
                BlzFrameSetVisible(bar,false)
                bar=HealthBarAdd(boss)
                PeonIsRed=true
                --print("peon is red")

            end
            if sec >= 10 then
                sec = 0
                phase = phase + 1
                PhaseOn = true
                --print("phase " .. phase)
                if phase >= 5 then --  +1
                    phase = 0
                end
            end
            --
            if phase == 1 and PhaseOn then
                SetUnitPositionSmooth(boss,bsx,bsy)
                PhaseOn = false
                --print("  ")
                --   
                PeonAttackCenter(boss)


                TimerStart(CreateTimer(), 4, false, function()
                    PeonAttackLeft(boss)
                end)

                TimerStart(CreateTimer(), 7, false, function()
                    PeonAttackRight(boss,280)
                end)
                    --   
                --    
            end
            if phase == 2 and PhaseOn then
                SetUnitPositionSmooth(boss,bsx,bsy)
                UnitRemoveAbility(boss,FourCC("Avul"))
                PhaseOn = false
                local nx,ny=MoveXY(x,y,-1000,GetUnitFacing(boss))

                CameraSetEQNoiseForPlayer(Player(0), 3)

                --print(" ,  ")
                TimerStart(CreateTimer(), 2, false, function()
                    IssuePointOrder(boss,"move",nx,ny)
                    CameraClearNoiseForPlayer(Player(0))
                    local e=nil
                    local id=FourCC("ocat")
                    GroupEnumUnitsInRect(perebor,bj_mapInitialPlayableArea,nil)
                        while true do
                            e = FirstOfGroup(perebor)

                            if e == nil then break end
                            if UnitAlive(e) and GetUnitTypeId(e)==id then
                                SetUnitOwner(e,Player(PLAYER_NEUTRAL_PASSIVE),true)
                                AttackWMark(e)

                                RepeatAG(e)

                            end
                            GroupRemoveUnit(perebor,e)
                        end
                    TimerStart(CreateTimer(), 8, false, function()
                        GroupEnumUnitsInRect(perebor,bj_mapInitialPlayableArea,nil)
                        while true do
                            e = FirstOfGroup(perebor)

                            if e == nil then break end
                            if UnitAlive(e) and GetUnitTypeId(e)==id then
                                SetUnitOwner(e,Player(PLAYER_NEUTRAL_PASSIVE),true)
                                IssueImmediateOrder(e,"stop")
                                --IssuePointOrder(boss,"move",x,y)
                                SetUnitZ(boss,0)
                            end
                            GroupRemoveUnit(perebor,e)
                        end


                    end)

                end)

            end
            if phase == 3 and PhaseOn  then --  
                SetUnitPositionSmooth(boss,bsx,bsy)
                PhaseOn = false
                --CameraSetEQNoiseForPlayer(Player(0), 4)
                --TriggerSleepAction(2.00)
                --CameraClearNoiseForPlayer(Player(0))

                --print(" ,     ")
                PeonJumpAndFall(boss)
            end

            if (phase == 4 or phase == 0)  and PhaseOn  then --  
                SetUnitPositionSmooth(boss,bsx,bsy)
                PhaseOn = false
                -- gg_rct_PeonPlace
                for i=1,5 do
                    local nx,ny=GetLocationX(GetRandomLocInRect(gg_rct_PeonPlace)),GetLocationY(GetRandomLocInRect(gg_rct_PeonPlace))
                    local peon=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE),FourCC("o004"),nx,ny,GetRandomInt(0,360))
                    IssueTargetOrder(peon,"attack",mainHero)
                    --print("peon")
                end

                TimerStart(CreateTimer(), 4, false, function()
                    PeonAttackRight(boss,300)
                end)
                --print("   ")

            end

            if phase == 5 and PhaseOn  then --  
                PhaseOn = false
                --print(" ")
                --PeonAttackCenter(boss)
                Wall2Line(boss)

            end
        else--  
            if IsUnitInRange(mainHero, boss, 1000) then
                --print(" ")
                --IssuePointOrder(boss,"move",GetRectCenterX(zone),GetRectCenterY(zone))
                ClearMapMusicBJ()
                PlayMusicBJ(gg_snd_Rayman_Origins_Soundtrack___Ocean_World__Moray_Boss)
                BlzFrameSetVisible(bar,true)
                --HealUnit(boss,500)
                BossFight=true
            end
        end--
    end)
end

function PeonAttackCenter(boss)
    --print("   "..GetUnitFacing(boss))
    SetUnitFacing(boss,278)
    local x,y=GetUnitXY(boss)
    x,y=MoveXY(x,y,500,GetUnitFacing(boss))
    local mark=AddSpecialEffect("Alarm",x,y)
    BlzSetSpecialEffectScale(mark,3)
    SetUnitAnimationByIndex(boss,2)
    TimerStart(CreateTimer(), 1, false, function()-- 
        local k=0
        TimerStart(CreateTimer(), 0.5, true, function()
            DestroyEffect(mark)
            SetUnitAnimationByIndex(boss,2)
            BlzSetSpecialEffectPosition(mark,5000,5000,0)
            DestroyEffect(AddSpecialEffect("ThunderclapCasterClassic",x,y))
            UnitDamageArea(boss,100,x,y,300)

            k=k+1
            if k>4 then
                DestroyTimer(GetExpiredTimer())
                ResetUnitAnimation(boss)
            end
        end)
    end)
end

function PeonAttackLeft(boss)
    BlzSetUnitFacingEx(boss,295)
    local x,y=GetUnitXY(boss)
    --x,y=MoveXY(x,y,500,GetUnitFacing(boss))
    local mark=AddSpecialEffect("Alarm",x,y)
    BlzSetSpecialEffectScale(mark,2)
    SetUnitAnimationByIndex(boss,2)
    local k=0
    TimerStart(CreateTimer(), 0.35, true, function()
        DestroyEffect(mark)
        SetUnitFacing(boss,GetUnitFacing(boss)-10)
        local nx,ny=MoveXY(x,y,500,GetUnitFacing(boss))
        SetUnitAnimationByIndex(boss,3)
        --BlzSetSpecialEffectPosition(mark,5000,5000,0)
        DestroyEffect(AddSpecialEffect("ThunderclapCasterClassic",nx,ny))
        UnitDamageArea(boss,100,nx,ny,200)

        k=k+1
        if k>7 then
            DestroyTimer(GetExpiredTimer())
            ResetUnitAnimation(boss)
        end
    end)
end

function PeonAttackRight(boss,range)
    BlzSetUnitFacingEx(boss,278)
    local x,y=GetUnitXY(boss)
    --  x,y=MoveXY(x,y,500,GetUnitFacing(boss))
    --local mark=AddSpecialEffect("Alarm",x,y)
    BlzSetSpecialEffectScale(mark,2)
    SetUnitAnimationByIndex(boss,13)
    if not range then range=500 end

    TimerStart(CreateTimer(), 2.5, false, function()
        local k=0
        local angle=230
        TimerStart(CreateTimer(), 0.1, true, function()
           -- print("  "..k)
            local nx,ny=MoveXY(x,y,range,angle)
            angle=angle+17
            --print(angle)
            DestroyEffect(AddSpecialEffect("ThunderclapCasterClassic",nx,ny))
            UnitDamageArea(boss,100,nx,ny,200)
            k=k+1
            if k>7 then
                DestroyTimer(GetExpiredTimer())
                ResetUnitAnimation(boss)
            end
        end)
    end)
end

function AttackWMark(e)
    local x,y=GetUnitXY(mainHero)
    local nx,ny=MoveXY(x,y,GetRandomInt(0,500),GetRandomInt(0,360))
    if not IssuePointOrderById(e,851984,nx,ny) then
       -- print(",   ")
        IssuePointOrderById(e,851984,nx,ny)
    end
    --print(GetUnitCurrentOrder(e))
    local mark=AddSpecialEffect("Alarm",nx,ny)
    BlzSetSpecialEffectZ(mark,BlzGetLocalSpecialEffectZ(mark)+50)
    TimerStart(CreateTimer(), 0.9, false, function()
        --print(GetUnitCurrentOrder(e))
       IssueImmediateOrder(e,"stop")
    end)
    BlzSetSpecialEffectScale(mark,1)
    TimerStart(CreateTimer(), 2.5, false, function()
        if PeonIsRed then
            local eff=AddSpecialEffect("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",nx,ny)
            UnitDamageArea(e,99,nx,ny,150)
        end
        DestroyEffect(mark)
        BlzSetSpecialEffectPosition(mark,5000,5000,0)
    end)
end

function RepeatAG(e)
    local k=0
    TimerStart(CreateTimer(), 3, true, function()
        AttackWMark(e)
        --print("     ".. GetUnitName(e))
        k=k+1
        if k>3 then
            DestroyTimer(GetExpiredTimer())
        end
    end)
end

function PeonJumpAndFall(boss)
    SetUnitAnimation(boss,"death")
    local sx,sy=GetUnitXY(boss)
    local up=true
    local down=true
    local z=0
    local h=4000
    TimerStart(CreateTimer(), 2.1, false, function()
        SetUnitTimeScale(boss,0)
        local mark=AddSpecialEffect("Alarm",0,0)
        local zMark=550
        local dx,dy=0,0
        BlzSetSpecialEffectScale(mark,4)
        TimerStart(CreateTimer(), TIMER_PERIOD, true, function()
           -- BlzSetSpecialEffectPosition(mark,GetUnitX(mainHero),GetUnitY(mainHero),zMark)

            if GetUnitZ(boss)<=h and up then
                SetUnitZ(boss,GetUnitZ(boss)+60)
            else
                if down then
                    --print("  "..GetUnitZ(boss))
                    up=false
                    z=GetUnitZ(boss)
                    down=false
                end
            end

            if not up then
                if z>=0 then
                    if z>1000 then
                        local bx,by=MoveXY(GetUnitX(mainHero),GetUnitY(mainHero),400,GetUnitFacing(boss)-180)
                        SetUnitPosition(boss,bx,by)
                        BlzSetSpecialEffectPosition(mark,GetUnitX(mainHero),GetUnitY(mainHero),zMark)
                        dx,dy=bx,by
                    else
                        if mark then

                        end
                    end
                    if z>=500 then
                        --print("  "..GetUnitZ(boss))
                        SetUnitZ(boss,GetUnitZ(boss)-30)

                    end
                    z=z-30
                end
                if z<=495 then
                   -- print("")
                    CameraSetEQNoiseForPlayer(Player(0), 3)
                    local bx,by=MoveXY(GetUnitX(boss),GetUnitY(boss),400,GetUnitFacing(boss)-180)
                    DestroyEffect(AddSpecialEffect("ThunderclapCasterClassic",bx,by))
                    UnitDamageArea(boss,100,dx,dy,500)
                    DestroyTimer(GetExpiredTimer())
                    DestroyEffect(mark)
                    BlzSetSpecialEffectPosition(mark,5000,5000,0)



                    TimerStart(CreateTimer(), 5, false, function()
                        CameraClearNoiseForPlayer(Player(0))
                        SetUnitTimeScale(boss,1)
                        ResetUnitAnimation(boss)
                        SetUnitPosition(boss,sx,sy)
                    end)
                end
            end

        end)
    end)
end

function Wall2Line(boss)
    local sec=10
    local k=1-GetUnitLifePercent(boss)/100
    local p=0.1
    --print(k)
    local x,y=GetUnitXY(boss)
    local angle=AngleBetweenXY(x,y,GetUnitXY(mainHero))/bj_DEGTORAD
    TimerStart(CreateTimer(),p,true, function()

        --angle=GetUnitFacing(boss)

        x,y=MoveXY(x,y,80,angle)
        CreateWallElement(x,y,10,boss)
        sec=sec-p
        if sec<=0 then
            DestroyTimer(GetExpiredTimer())

        end
    end)
end
---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 01.11.2020 20:48
---

do
    TimerStart(CreateTimer(), 0.11, false, function()
        InitBossRed()
    end)
end
function InitBossRed()
    local this = CreateTrigger()
    TriggerRegisterEnterRectSimple(this, gg_rct_RedBossKey)
    TriggerAddAction(this, function()
        local hero=GetTriggerUnit()
        if IsUnitType(hero,UNIT_TYPE_HERO) then
            StartBossRed(gg_rct_RedBossKey)
            DisableTrigger(this)
        end
    end)
end


function StartBossRed(zone)
    local boss=FindUnitOfType(FourCC("u000"),1000,GetRectCenterX(zone),GetRectCenterY(zone))
    UnitAddType(boss,UNIT_TYPE_UNDEAD)
    StunUnit(boss,0.2)
    --print("")
    TimerStart(CreateTimer(), 5, true, function()
        if IsUnitInRange(boss,mainHero,500) and StunSystem[GetHandleId(boss)].Time==0 and UnitAlive(boss) then
            CreateMeteorMark(boss,GetUnitXY(mainHero))
        end
        if not UnitAlive(boss) then
            DestroyTimer(GetExpiredTimer())
        end
    end)
end

function CreateMeteorMark(boss,x,y)
    local mark=AddSpecialEffect("Snipe Target",x,y)
    BlzSetSpecialEffectScale(mark,5)
    TimerStart(CreateTimer(), 2, false, function()
        DestroyEffect(mark)
        BlzSetSpecialEffectPosition(mark,5000,5000,0)
        local eff=AddSpecialEffect("Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget.mdl",x,y)
        TimerStart(CreateTimer(), 1, false, function()
            --print("?")
            UnitDamageArea(boss,50,x,y,150)
        end)
    end)
    --"Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget.mdl"
end

---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 18.10.2020 19:39
---
---
portrait="war3mapImported\\avatar_alive.blp"
portraitVampire="war3mapImported\\avatar_kain.blp"
bagT="war3mapImported\\bag.dds"
empBar="war3mapImported\\VbarEMP.dds"
mainHero=nil --     

do
    TimerStart(CreateTimer(), .1, false, function()
        --HideEverything()
       -- BlzFrameSetVisible(BlzGetFrameByName("ConsoleUIBackdrop", 0), false) --  
        BlzFrameSetAbsPoint ( BlzGetFrameByName ( "ConsoleUIBackdrop" , 0 ) , FRAMEPOINT_TOPRIGHT , 0 , - 0,8 )
        BlzHideOriginFrames(true)
        BlzEnableUIAutoPosition ( false )
        local GAME_UI     = BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0)
        local WORLD_FRAME = BlzGetOriginFrame(ORIGIN_FRAME_WORLD_FRAME, 0)
        BlzFrameSetAllPoints(WORLD_FRAME, GAME_UI)

        BlzFrameSetAlpha(BlzGetFrameByName("SimpleInventoryCover", 0), 0) --   
        BlzFrameSetAbsPoint(BlzGetFrameByName("SimpleInventoryCover", 0),FRAMEPOINT_BOTTOM,-1000,-1000)

        BlzFrameSetVisible(BlzGetOriginFrame(ORIGIN_FRAME_PORTRAIT, 0), false)
        BlzFrameSetSize(BlzGetOriginFrame(ORIGIN_FRAME_PORTRAIT, 0), 0, 0)
        BlzFrameSetAbsPoint(BlzGetOriginFrame(ORIGIN_FRAME_PORTRAIT, 0),FRAMEPOINT_BOTTOM,-1000,-1000)

        BlzFrameClearAllPoints(BlzGetOriginFrame(ORIGIN_FRAME_UBERTOOLTIP, 0)) --      
        BlzFrameSetPoint(BlzGetOriginFrame(ORIGIN_FRAME_UBERTOOLTIP, 0), FRAMEPOINT_BOTTOM, BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), FRAMEPOINT_BOTTOM, 0, 0.08)


        for i = 0,11 do --  
            --print(".. "..i)
            BlzFrameClearAllPoints(BlzGetFrameByName("CommandButton_"..i, 0))
            BlzFrameSetAbsPoint(BlzGetFrameByName("CommandButton_"..i, 0),FRAMEPOINT_CENTER,1,1)
            --
        end

        CreateQWERDFG()
        --ShowInventory()
        MenuFrame()
        ShowFPSPINGAPM()
        CreatePortrait()
        --CreateBars()
        InitSelectionRegister()
        CreateInfoFrames()
        --RepositionMSG()
    end)
end
function HideEverything()
    --BlzFrameSetVisible(BlzGetFrameByName("ConsoleUIBackdrop", 0), false)
    for i = 0, 11 do
        --BlzFrameSetVisible(BlzGetFrameByName("CommandButton_"..i, 0), false) --
       -- BlzFrameSetSize(BlzGetFrameByName("CommandButton_" .. i, 0), 0, 0)--,     
    end
    BlzHideOriginFrames(true)-- 
end

function ShowInventory()
    local next=0.039/1.3
    local step=(next*6)+next/2
    BlzFrameSetVisible(BlzFrameGetParent(BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, 0)), true)
    BlzFrameSetAlpha(BlzGetFrameByName("SimpleInventoryCover", 0), 0)
    local infoPanel=BlzFrameGetParent(BlzGetFrameByName("SimpleInfoPanelUnitDetail",0)) --   
    BlzFrameClearAllPoints(infoPanel)
    BlzFrameSetVisible(infoPanel,true)
    BlzFrameSetAbsPoint(infoPanel, FRAMEPOINT_CENTER, 0,9) --0,9   
    local bugFrames=BlzCreateFrameByType('BACKDROP', 'FaceButtonIcon', BlzGetOriginFrame(ORIGIN_FRAME_WORLD_FRAME, 0), '', 0)
    for i = 0, 5 do
        local item = BlzGetOriginFrame(ORIGIN_FRAME_ITEM_BUTTON, i)
        BlzFrameSetVisible(item, true)
        BlzFrameClearAllPoints(item)
        BlzFrameSetSize(item, next, next)
        BlzFrameSetAbsPoint(item,FRAMEPOINT_BOTTOM,0.31+next/2+(next*i),0.04)

        local bag = BlzCreateFrameByType('BACKDROP', 'FaceButtonIcon', bugFrames, '', 0)
        BlzFrameSetParent(bag, BlzGetFrameByName("ConsoleUIBackdrop", 0))
        BlzFrameSetTexture(bag, bagT, 0, true)
        BlzFrameSetSize(bag, next*1.1, next*1.1)
        BlzFrameSetAbsPoint(bag,FRAMEPOINT_BOTTOM,0.31+next/2+(next*i),0.04)
    end
    TimerStart(CreateTimer(), .1, true, function()
        if mainHero then
            if IsUnitType(mainHero,UNIT_TYPE_HERO) then
                BlzFrameSetVisible(bugFrames,true)
            else
                BlzFrameSetVisible(bugFrames,false)
            end
        end
    end)

end

function MenuFrame()
    BlzFrameSetVisible(BlzGetFrameByName("UpperButtonBarFrame",0),true)
    for i=0,3 do
        --local i=0
        local f10=BlzGetOriginFrame(ORIGIN_FRAME_SYSTEM_BUTTON, i)
        if i==0 then
            BlzFrameSetParent(f10, BlzGetFrameByName("ConsoleUIBackdrop", 0))
            BlzFrameSetVisible(f10, true)
            BlzFrameClearAllPoints(f10)
            BlzFrameSetAbsPoint(f10, FRAMEPOINT_CENTER, 0.65+(0.08*2) ,0.59)
        elseif i==1 then
            BlzFrameSetVisible(f10, false)
        elseif i==2 then
            BlzFrameSetParent(f10, BlzGetFrameByName("ConsoleUIBackdrop", 0))
            BlzFrameSetVisible(f10, true)
            BlzFrameClearAllPoints(f10)
            BlzFrameSetAbsPoint(f10, FRAMEPOINT_CENTER, 0.65+(0.08*1) ,0.59)
        elseif i==3 then
            BlzFrameSetParent(f10, BlzGetFrameByName("ConsoleUIBackdrop", 0))
            BlzFrameSetVisible(f10, true)
            BlzFrameClearAllPoints(f10)
            BlzFrameSetAbsPoint(f10, FRAMEPOINT_CENTER, 0.65+(0.08*i) ,0.59)
        end
    end
end

function CreateQWERDFG()
    local next=0.039
    local last=0
    for i=8,11 do --QWER
        if i>=9 then
            BlzFrameSetAbsPoint(BlzGetFrameByName("CommandButton_"..i, 0), FRAMEPOINT_CENTER, -next+0.07-next*2+next*i ,next/2)
        else
            BlzFrameSetAbsPoint(BlzGetFrameByName("CommandButton_"..i, 0), FRAMEPOINT_CENTER, -next+0.07-next+next*i ,next/2)
        end
        last=0.07-next+next*i
    end
    for i=4,7 do --FGTH
        BlzFrameSetAbsPoint(BlzGetFrameByName("CommandButton_"..i, 0), FRAMEPOINT_CENTER, -next+last-next*4+next*i ,next/2)
    end
    --BlzFrameSetAbsPoint(BlzGetFrameByName("CommandButton_"..0, 0), FRAMEPOINT_CENTER, 0.4 ,next*1,5) --
end

function ShowFPSPINGAPM()
    BlzFrameSetVisible(BlzGetFrameByName("ResourceBarFrame",0),true)
    local fps=BlzGetFrameByName("ResourceBarFrame",0)
    BlzFrameClearAllPoints(fps)
    BlzFrameSetAbsPoint(fps, FRAMEPOINT_CENTER, 0.87 ,0.62)
end

function CreatePortrait()
    local buttonIconFrame = BlzCreateFrameByType('BACKDROP', 'FaceButtonIcon', BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), '', 0)
    BlzFrameSetParent(buttonIconFrame, BlzGetFrameByName("ConsoleUIBackdrop", 0))
    BlzFrameSetTexture(buttonIconFrame, portrait, 0, true)
    BlzFrameSetSize(buttonIconFrame, 0.085, 0.16)
    BlzFrameSetAbsPoint(buttonIconFrame, FRAMEPOINT_CENTER, -0.08, 0.49)
    TimerStart(CreateTimer(), 0.05, true, function()
        if mainHero then
            if GetUnitTypeId(mainHero)~=FourCC("H000") then
                --print("   ")
                BlzFrameSetTexture(buttonIconFrame, portraitVampire, 0, true)
                DestroyTimer(GetExpiredTimer())
            end
        end
    end)
end

function CreateBars(hero,index)
    local nextBar=0.02
    local x,y=-0.02+index*nextBar, 0.49
    local into = BlzCreateFrameByType('BACKDROP', 'FaceButtonIcon', BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), '', 0)
    BlzFrameSetParent(into, BlzGetFrameByName("ConsoleUIBackdrop", 0))
    BlzFrameSetTexture(into, "Replaceabletextures\\Teamcolor\\Teamcolor0"..index..".blp", 0, true)
    BlzFrameSetSize(into, 0.0195, 0)
    BlzFrameSetAbsPoint(into, FRAMEPOINT_BOTTOM,x,y-0.075)
    local buttonIconFrame = BlzCreateFrameByType('BACKDROP', 'FaceButtonIcon', BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), '', 0)
    BlzFrameSetParent(buttonIconFrame, BlzGetFrameByName("ConsoleUIBackdrop", 0))
    BlzFrameSetTexture(buttonIconFrame, empBar, 0, true)
    BlzFrameSetSize(buttonIconFrame, 0.02, 0.16)
    BlzFrameSetAbsPoint(buttonIconFrame, FRAMEPOINT_CENTER,x,y)

    local textMax = BlzCreateFrameByType("TEXT", "ButtonChargesText", buttonIconFrame, "", 0)
    BlzFrameSetPoint(textMax, FRAMEPOINT_BOTTOM, buttonIconFrame, FRAMEPOINT_BOTTOM, 0.,0.01)
    BlzFrameSetText(textMax, "100")

    local textCurrent = BlzCreateFrameByType("TEXT", "ButtonChargesText", buttonIconFrame, "", 0)
    BlzFrameSetPoint(textCurrent, FRAMEPOINT_TOP, buttonIconFrame, FRAMEPOINT_TOP, 0.,-0.01)
    BlzFrameSetText(textCurrent, "100")

    local per1=0.16/100
    local sec=0
    TimerStart(CreateTimer(), 0.05, true, function()
        --print(per1)
        sec=sec+per1
        --print(sec)
        if sec>=0.15 then
            DestroyTimer(GetExpiredTimer())
            TimerStart(CreateTimer(), 0.05, true, function()
                local hp=0
                if index==0 then
                    hp=GetUnitLifePercent(mainHero)
                    BlzFrameSetText(textCurrent, R2I(GetUnitState(mainHero,UNIT_STATE_LIFE)))
                    BlzFrameSetText(textMax, R2I(BlzGetUnitMaxHP(mainHero)))
                else
                    hp=GetUnitManaPercent(mainHero)
                    BlzFrameSetText(textCurrent, R2I(GetUnitState(mainHero,UNIT_STATE_MANA)))
                    BlzFrameSetText(textMax, R2I(BlzGetUnitMaxMana(mainHero)))
                end


                BlzFrameSetSize(into, 0.0195, hp*0.15/100)
            end)
        end
        BlzFrameSetSize(into, 0.0195, sec)
        --BlzFrameSetAbsPoint(into, FRAMEPOINT_CENTER,x,y-(0.16+sec))
    end)
end

function InitSelectionRegister()
    local this = CreateTrigger()
    for i = 0, bj_MAX_PLAYER_SLOTS - 1 do
        TriggerRegisterPlayerUnitEvent(this, Player(i), EVENT_PLAYER_UNIT_SELECTED, nil)
    end
    TriggerAddAction(this, function()
        local hero=GetTriggerUnit()
        --print(GetUnitName(hero))
        if IsUnitType(hero,UNIT_TYPE_HERO)   then
            if GetOwningPlayer(hero)==GetTriggerPlayer()  then

                if not mainHero then
                    --print("    ")
                    StunUnit(hero,0.2)
                    mainHero=hero
                    InitCry()
                    InitWASD(mainHero)
                    --print("initwasd")
                    ShowInventory()
                    CreateBars(hero,0)
                    CreateBars(hero,1)
                    --InitWASD(mainHero)
                end
            end
        end
    end)
end

function RepositionMSG()
    local frame=BlzGetOriginFrame(ORIGIN_FRAME_UNIT_MSG, 0)
    BlzFrameClearAllPoints(frame)
    BlzFrameSetParent(frame, BlzGetFrameByName("ConsoleUIBackdrop", 0))
    BlzFrameSetAbsPoint(frame,FRAMEPOINT_TOPLEFT,0.0,0.7) -- fatal upper > 0.4
end

function CreateInfoFrames()
    local scale=0.039/2
    local x,y=-0.10,0.395
    CreateEmptyGlue("ReplaceableTextures\\CommandButtons\\BTNThoriumMelee.blp",scale,x+scale*0,y,1)-- 
    CreateEmptyGlue("ReplaceableTextures\\CommandButtons\\BTNHumanArmorUpTwo.blp",scale,x+scale*2.2,y,2)-- 
    CreateEmptyGlue("ReplaceableTextures\\CommandButtons\\BTNAnkh.blp",scale,x+scale*4.4,y,3)-- 
end

function CreateEmptyGlue(texture,scale,posX,posY,flag)
    local SelfFrame = BlzCreateFrameByType('GLUEBUTTON', 'FaceButton', BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 'ScoreScreenTabButtonTemplate', 0)
    local buttonIconFrame = BlzCreateFrameByType('BACKDROP', 'FaceButtonIcon', SelfFrame, '', 0)

    BlzFrameSetParent(SelfFrame, BlzGetFrameByName("ConsoleUIBackdrop", 0))
    BlzFrameSetParent(buttonIconFrame, BlzGetFrameByName("ConsoleUIBackdrop", 0))

    BlzFrameSetAllPoints(buttonIconFrame, SelfFrame)
    BlzFrameSetTexture(buttonIconFrame, texture, 0, true)
    BlzFrameSetSize(SelfFrame, scale, scale)
    BlzFrameSetAbsPoint(SelfFrame, FRAMEPOINT_CENTER, posX, posY)

    local textCurrent = BlzCreateFrameByType("TEXT", "ButtonChargesText", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), "", 0)
    BlzFrameSetAbsPoint(textCurrent, FRAMEPOINT_LEFT,  posX+scale/2,posY) --posX+scale
    BlzFrameSetScale(textCurrent,1)

    BlzFrameSetParent(textCurrent, BlzGetFrameByName("ConsoleUIBackdrop", 0))
    BlzFrameSetText(textCurrent, "unknown")

    TimerStart(CreateTimer(), 0.05, true, function()
        if flag==1 then
            --print(" ")
            local damage=0
            if UnitHasItemOfTypeBJ(mainHero,FourCC('I005')) then
                damage=damage+15
            end
            BlzFrameSetText(textCurrent, " "..R2I(damage+BlzGetUnitBaseDamage(mainHero,0)))
        elseif flag==2 then
            BlzFrameSetText(textCurrent, " "..R2I(BlzGetUnitArmor(mainHero)))
        elseif flag==3 then
            BlzFrameSetText(textCurrent, " "..GetPlayerState(Player(0),PLAYER_STATE_RESOURCE_LUMBER))
        end
    end)
    return SelfFrame
end


---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Bergi.
--- DateTime: 28.10.2020 22:45
---
do
    TimerStart(CreateTimer(), 0.11, false, function()
        InitPUI()
    end)
end
secToHideItem=0


function InitPUI()
    local k=1
    local BDShowItems={}
    frameINFO,textINFO=CreateInfoItemBOX()
    local this = CreateTrigger()
    TriggerRegisterAnyUnitEventBJ(this, EVENT_PLAYER_UNIT_PICKUP_ITEM)
    TriggerAddAction(this, function()
        local item=GetManipulatedItem()
        ItemGlobalInfo(item)
    end)

end

function CreateInfoItemBOX()
    local x,y=0.45,0.15
    local buttonIconFrame = BlzCreateFrameByType('BACKDROP', 'FaceButtonIcon', BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), '', 0)
    BlzFrameSetTexture(buttonIconFrame, "texture", 0, true)
    BlzFrameSetSize(buttonIconFrame, 0.039/2, 0.039/2)
    BlzFrameSetAbsPoint(buttonIconFrame, FRAMEPOINT_LEFT, x, y)

    local textCurrent = BlzCreateFrameByType("TEXT", "ButtonChargesText", buttonIconFrame, "", 0)
    BlzFrameSetAbsPoint(textCurrent, FRAMEPOINT_LEFT,  x-0.21, y)
    BlzFrameSetScale(textCurrent,2)
    BlzFrameSetText(textCurrent, "You acquired new item:      ")
    BlzFrameSetVisible(buttonIconFrame,false)
    return buttonIconFrame,textCurrent
end

function ItemInBD(table,id)
    local has=false
    for i=1,#table do
        if table[i]==id then
            has=true
        end
    end
    return has
end

function ItemGlobalInfo(item,flag)
    --[[
    if not ItemInBD(BDShowItems,GetItemTypeId(item)) then
        table.insert(BDShowItems,GetItemTypeId(item))
        --print("   ")
    else
        --print("")
        --return
    end]]
    local frame,text=frameINFO,textINFO
    if GetItemTypeId(item)~=FourCC("I004") and GetItemTypeId(item)~=FourCC("I00A") and GetItemTypeId(item)~=FourCC("I00B")then --  
        BlzFrameSetVisible(frame,true)
        BlzFrameSetTexture(frame,BlzGetItemIconPath(item),0,true)
        BlzFrameSetAlpha(frame,255)
        BlzFrameSetText(text, "You acquired new item:         |cffffcc00"..GetItemName(item).."|r")
        StartSound(bj_questHintSound)
        if flag==1 then
            BlzFrameSetText(text, "You used item: |cffffcc00"..GetItemName(item).."|r")
        end
        --|cffffcc001- :|r
        local p=1/64
        secToHideItem=secToHideItem+6
        TimerStart(CreateTimer(), p, true, function()
            secToHideItem=secToHideItem-p
            if secToHideItem<=0 then
                DestroyTimer(GetExpiredTimer())
                BlzFrameSetVisible(frame,false)
            end
            if secToHideItem<=2.5 then
                BlzFrameSetAlpha(frame,R2I(secToHideItem*100))
            end
        end)
    end
end

--ItemGlobalInfo(GetManipulatedItem(),1)
--CUSTOM_CODE
function Trig_GoAway_Conditions()
    if (not (GetOwningPlayer(GetEnteringUnit()) == Player(0))) then
        return false
    end
    return true
end

function Trig_GoAway_Actions()
    SetUnitPositionLoc(GetEnteringUnit(), GetRectCenter(gg_rct_Bergi_Run_Away))
end

function InitTrig_GoAway()
    gg_trg_GoAway = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_GoAway, gg_rct_PlayerSave1)
    TriggerAddCondition(gg_trg_GoAway, Condition(Trig_GoAway_Conditions))
    TriggerAddAction(gg_trg_GoAway, Trig_GoAway_Actions)
end

function Trig_GoAway2_Conditions()
    if (not (GetOwningPlayer(GetEnteringUnit()) == Player(0))) then
        return false
    end
    return true
end

function Trig_GoAway2_Actions()
    SetUnitPositionLoc(GetEnteringUnit(), GetRectCenter(gg_rct_NoEnterHeart))
end

function InitTrig_GoAway2()
    gg_trg_GoAway2 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_GoAway2, gg_rct_NoEnter2)
    TriggerAddCondition(gg_trg_GoAway2, Condition(Trig_GoAway2_Conditions))
    TriggerAddAction(gg_trg_GoAway2, Trig_GoAway2_Actions)
end

function Trig_Gain_Func001C()
    if (not (GetUnitLevel(gg_unit_Hpal_0002) == 2)) then
        return false
    end
    return true
end

function Trig_Gain_Func002C()
    if (not (GetUnitLevel(gg_unit_Hpal_0002) == 3)) then
        return false
    end
    return true
end

function Trig_Gain_Func003C()
    if (not (GetUnitLevel(gg_unit_Hpal_0002) == 5)) then
        return false
    end
    return true
end

function Trig_Gain_Func004C()
    if (not (GetUnitLevel(gg_unit_Hpal_0002) == 11)) then
        return false
    end
    return true
end

function Trig_Gain_Actions()
    if (Trig_Gain_Func001C()) then
        UnitAddAbilityBJ(FourCC("dssd"), gg_unit_Hpal_0002)
        QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ITEMACQUIRED, "TRIGSTR_355")
        TriggerSleepAction(4.00)
        TriggerSleepAction(2.00)
        PlaySoundBJ(gg_snd_KainBatForm)
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_374", nil, "TRIGSTR_375", bj_TIMETYPE_ADD, 0, true)
    else
    end
    if (Trig_Gain_Func002C()) then
        UnitAddAbilityBJ(FourCC("A007"), gg_unit_Hpal_0002)
        QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ITEMACQUIRED, "TRIGSTR_356")
        TriggerSleepAction(4.00)
        TriggerSleepAction(2.00)
        PlaySoundBJ(gg_snd_KainSpear)
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_372", nil, "TRIGSTR_373", bj_TIMETYPE_ADD, 0, true)
    else
    end
    if (Trig_Gain_Func003C()) then
        UnitAddAbilityBJ(FourCC("A005"), gg_unit_Hpal_0002)
        QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ITEMACQUIRED, "TRIGSTR_357")
        TriggerSleepAction(4.00)
        TriggerSleepAction(2.00)
        PlaySoundBJ(gg_snd_KainMindControl)
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_370", nil, "TRIGSTR_371", bj_TIMETYPE_ADD, 0, true)
    else
    end
    if (Trig_Gain_Func004C()) then
        UnitAddAbilityBJ(FourCC("A00G"), gg_unit_Hpal_0002)
        QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ITEMACQUIRED, "TRIGSTR_475")
        TriggerSleepAction(4.00)
        TriggerSleepAction(2.00)
        PlaySoundBJ(gg_snd_KainLighting)
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_473", nil, "TRIGSTR_474", bj_TIMETYPE_ADD, 0, true)
    else
    end
end

function InitTrig_Gain()
    gg_trg_Gain = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_Gain, gg_unit_Hpal_0002, EVENT_UNIT_HERO_LEVEL)
    TriggerAddAction(gg_trg_Gain, Trig_Gain_Actions)
end

function Trig_DeathArmy_Conditions()
    if (not (GetManipulatedItem() == gg_item_I00C_0501)) then
        return false
    end
    return true
end

function Trig_DeathArmy_Actions()
    UnitAddAbilityBJ(FourCC("A00M"), gg_unit_Hpal_0002)
    QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ITEMACQUIRED, ("You have learn new skill|cffffff00 Death army (T)|r. Maybe it is time to stop, " .. (GetPlayerName(Player(0)) .. "? This souls has already suffered enough.")))
    PlaySoundBJ(gg_snd_GhoulWarcry1)
    PlaySoundBJ(gg_snd_Sound_06291)
    TriggerSleepAction(4.00)
    PlaySoundBJ(gg_snd_SoundsKainLaugh)
end

function InitTrig_DeathArmy()
    gg_trg_DeathArmy = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_DeathArmy, gg_unit_Hpal_0002, EVENT_UNIT_PICKUP_ITEM)
    TriggerAddCondition(gg_trg_DeathArmy, Condition(Trig_DeathArmy_Conditions))
    TriggerAddAction(gg_trg_DeathArmy, Trig_DeathArmy_Actions)
end

function Trig_Tips_1_Conditions()
    if (not (GetManipulatedItem() == gg_item_manh_0008)) then
        return false
    end
    return true
end

function Trig_Tips_1_Actions()
    DisableTrigger(GetTriggeringTrigger())
    PlaySoundBJ(gg_snd_Kain3)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_199", nil, "TRIGSTR_200", bj_TIMETYPE_ADD, 5.00, true)
end

function InitTrig_Tips_1()
    gg_trg_Tips_1 = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_Tips_1, gg_unit_Hpal_0002, EVENT_UNIT_PICKUP_ITEM)
    TriggerAddCondition(gg_trg_Tips_1, Condition(Trig_Tips_1_Conditions))
    TriggerAddAction(gg_trg_Tips_1, Trig_Tips_1_Actions)
end

function Trig_Tips_2_Conditions()
    if (not (GetManipulatedItem() == gg_item_lmbr_0011)) then
        return false
    end
    return true
end

function Trig_Tips_2_Actions()
    DisableTrigger(GetTriggeringTrigger())
    PlaySoundBJ(gg_snd_Kain2)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_197", nil, "TRIGSTR_198", bj_TIMETYPE_ADD, 0, true)
end

function InitTrig_Tips_2()
    gg_trg_Tips_2 = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_Tips_2, gg_unit_Hpal_0002, EVENT_UNIT_PICKUP_ITEM)
    TriggerAddCondition(gg_trg_Tips_2, Condition(Trig_Tips_2_Conditions))
    TriggerAddAction(gg_trg_Tips_2, Trig_Tips_2_Actions)
end

function Trig_Tips_3_Func001C()
    if (GetManipulatedItem() == gg_item_I000_0287) then
        return true
    end
    if (GetManipulatedItem() == gg_item_I000_0009) then
        return true
    end
    return false
end

function Trig_Tips_3_Conditions()
    if (not Trig_Tips_3_Func001C()) then
        return false
    end
    return true
end

function Trig_Tips_3_Actions()
    DisableTrigger(GetTriggeringTrigger())
    PlaySoundBJ(gg_snd_Kain4Mana)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_195", nil, "TRIGSTR_196", bj_TIMETYPE_ADD, 0, true)
end

function InitTrig_Tips_3()
    gg_trg_Tips_3 = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_Tips_3, gg_unit_Hpal_0002, EVENT_UNIT_PICKUP_ITEM)
    TriggerAddCondition(gg_trg_Tips_3, Condition(Trig_Tips_3_Conditions))
    TriggerAddAction(gg_trg_Tips_3, Trig_Tips_3_Actions)
end

function Trig_Tips_4_Func001C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_Tips_4_Conditions()
    if (not Trig_Tips_4_Func001C()) then
        return false
    end
    return true
end

function Trig_Tips_4_Actions()
    DisableTrigger(GetTriggeringTrigger())
    QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_354")
end

function InitTrig_Tips_4()
    gg_trg_Tips_4 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Tips_4, gg_rct_Tips2)
    TriggerAddCondition(gg_trg_Tips_4, Condition(Trig_Tips_4_Conditions))
    TriggerAddAction(gg_trg_Tips_4, Trig_Tips_4_Actions)
end

function Trig_Tips_5_Func001C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_Tips_5_Conditions()
    if (not Trig_Tips_5_Func001C()) then
        return false
    end
    return true
end

function Trig_Tips_5_Actions()
    DisableTrigger(GetTriggeringTrigger())
    QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_359")
end

function InitTrig_Tips_5()
    gg_trg_Tips_5 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Tips_5, gg_rct_Cry2)
    TriggerAddCondition(gg_trg_Tips_5, Condition(Trig_Tips_5_Conditions))
    TriggerAddAction(gg_trg_Tips_5, Trig_Tips_5_Actions)
end

function Trig_Tips_6_Func001C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_Tips_6_Conditions()
    if (not Trig_Tips_6_Func001C()) then
        return false
    end
    return true
end

function Trig_Tips_6_Actions()
    DisableTrigger(GetTriggeringTrigger())
    QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_361")
end

function InitTrig_Tips_6()
    gg_trg_Tips_6 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Tips_6, gg_rct_Tips3)
    TriggerAddCondition(gg_trg_Tips_6, Condition(Trig_Tips_6_Conditions))
    TriggerAddAction(gg_trg_Tips_6, Trig_Tips_6_Actions)
end

function Trig_Tips_7_Actions()
    DisableTrigger(GetTriggeringTrigger())
    QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_362")
end

function InitTrig_Tips_7()
    gg_trg_Tips_7 = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_Tips_7, gg_unit_hwt3_0119, EVENT_UNIT_DEATH)
    TriggerAddAction(gg_trg_Tips_7, Trig_Tips_7_Actions)
end

function Trig_Tips_8_Func001C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_Tips_8_Conditions()
    if (not Trig_Tips_8_Func001C()) then
        return false
    end
    return true
end

function Trig_Tips_8_Actions()
    DisableTrigger(GetTriggeringTrigger())
    QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_566")
end

function InitTrig_Tips_8()
    gg_trg_Tips_8 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Tips_8, gg_rct_HintObstacle2)
    TriggerRegisterEnterRectSimple(gg_trg_Tips_8, gg_rct_HintObstacle)
    TriggerAddCondition(gg_trg_Tips_8, Condition(Trig_Tips_8_Conditions))
    TriggerAddAction(gg_trg_Tips_8, Trig_Tips_8_Actions)
end

function Trig_Tips_9_Func001C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_Tips_9_Conditions()
    if (not Trig_Tips_9_Func001C()) then
        return false
    end
    return true
end

function Trig_Tips_9_Actions()
    DisableTrigger(GetTriggeringTrigger())
    QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_567")
end

function InitTrig_Tips_9()
    gg_trg_Tips_9 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Tips_9, gg_rct_HintBloodGout)
    TriggerAddCondition(gg_trg_Tips_9, Condition(Trig_Tips_9_Conditions))
    TriggerAddAction(gg_trg_Tips_9, Trig_Tips_9_Actions)
end

function Trig_Tips_10_Func001C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_Tips_10_Conditions()
    if (not Trig_Tips_10_Func001C()) then
        return false
    end
    return true
end

function Trig_Tips_10_Actions()
    DisableTrigger(GetTriggeringTrigger())
    QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_570")
end

function InitTrig_Tips_10()
    gg_trg_Tips_10 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Tips_10, gg_rct_HintBatsEvasion)
    TriggerAddCondition(gg_trg_Tips_10, Condition(Trig_Tips_10_Conditions))
    TriggerAddAction(gg_trg_Tips_10, Trig_Tips_10_Actions)
end

function Trig_Intro_1_Actions()
    CameraSetupApplyForPlayer(true, gg_cam_Cinematic1, Player(0), 0)
    TriggerSleepAction(0.01)
    ClearMapMusicBJ()
    PlayMusicBJ(gg_snd_Blood_Omen__Legacy_of_Kain___Solemn_Dirge__Willendorf_u)
    PlayThematicMusicBJ("war3mapImported\\Blood Omen_ Legacy of Kain - Solemn Dirge (Willendorf).mp3")
    CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 0.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    PauseUnitBJ(true, gg_unit_hfoo_0005)
    PauseUnitBJ(true, gg_unit_h001_0007)
    PauseUnitBJ(true, gg_unit_hfoo_0006)
    UseTimeOfDayBJ(false)
    SetTimeOfDay(22.00)
    SelectUnitForPlayerSingle(gg_unit_H000_0004, Player(0))
    TriggerSleepAction(2.00)
    EnableTrigger(gg_trg_Fixed_Camera)
    CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 3.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    PlaySoundBJ(gg_snd_Tavern1)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_187", nil, "TRIGSTR_188", bj_TIMETYPE_ADD, 0, true)
    PlaySoundBJ(gg_snd_Tavern2)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_189", nil, "TRIGSTR_190", bj_TIMETYPE_ADD, 0, true)
    TriggerSleepAction(2.50)
    PlaySoundBJ(gg_snd_Tavern3)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_191", nil, "TRIGSTR_192", bj_TIMETYPE_ADD, 0, true)
    TriggerSleepAction(3.00)
    CinematicModeBJ(false, GetPlayersAll())
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_Bandits2)
    PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
    KillDestructable(gg_dest_YTfb_0705)
    KillDestructable(gg_dest_YTfb_0703)
    KillDestructable(gg_dest_YTfb_0704)
    KillDestructable(gg_dest_YTfb_18039)
    KillDestructable(gg_dest_YTfb_18040)
    KillDestructable(gg_dest_YTfb_18041)
    PlaySoundBJ(gg_snd_Tavern4)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_193", nil, "TRIGSTR_194", bj_TIMETYPE_ADD, 0, true)
    QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_350")
end

function InitTrig_Intro_1()
    gg_trg_Intro_1 = CreateTrigger()
    TriggerAddAction(gg_trg_Intro_1, Trig_Intro_1_Actions)
end

function Trig_Intro_2_Conditions()
    if (not (GetEnteringUnit() == gg_unit_H000_0004)) then
        return false
    end
    return true
end

function Trig_Intro_2_Func015A()
    IssueTargetOrderBJ(GetEnumUnit(), "attack", gg_unit_H000_0004)
end

function Trig_Intro_2_Func017A()
    IssueTargetOrderBJ(GetEnumUnit(), "attack", gg_unit_H000_0004)
end

function Trig_Intro_2_Actions()
    DisableTrigger(GetTriggeringTrigger())
    PauseUnitBJ(false, gg_unit_hfoo_0005)
    IssueTargetOrderBJ(gg_unit_hfoo_0005, "attack", gg_unit_H000_0004)
    PauseUnitBJ(false, gg_unit_h001_0007)
    IssueTargetOrderBJ(gg_unit_h001_0007, "attack", gg_unit_H000_0004)
    PauseUnitBJ(false, gg_unit_hfoo_0006)
    IssueTargetOrderBJ(gg_unit_hfoo_0006, "attack", gg_unit_H000_0004)
    SetUnitPositionLoc(gg_unit_hpea_0000, GetRectCenter(gg_rct_Bandits_Barkeep))
    SetUnitAnimation(gg_unit_hpea_0000, "death")
    KillUnit(gg_unit_hpea_0000)
    CreateNUnitsAtLoc(3, FourCC("hfoo"), Player(11), GetRectCenter(gg_rct_Bandits1), bj_UNIT_FACING)
    PlaySoundBJ(gg_snd_Murder1)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_183", nil, "TRIGSTR_184", bj_TIMETYPE_ADD, 0, true)
    ForGroupBJ(GetUnitsInRectAll(gg_rct_Bandits1), Trig_Intro_2_Func015A)
    CreateNUnitsAtLoc(3, FourCC("hfoo"), Player(11), GetRectCenter(gg_rct_Bandits2), bj_UNIT_FACING)
    ForGroupBJ(GetUnitsInRectAll(gg_rct_Bandits2), Trig_Intro_2_Func017A)
end

function InitTrig_Intro_2()
    gg_trg_Intro_2 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Intro_2, gg_rct_Intro_Trap)
    TriggerAddCondition(gg_trg_Intro_2, Condition(Trig_Intro_2_Conditions))
    TriggerAddAction(gg_trg_Intro_2, Trig_Intro_2_Actions)
end

function Trig_Intro_3_Actions()
    DisableTrigger(GetTriggeringTrigger())
    CinematicModeBJ(true, GetPlayersAll())
    PauseUnitBJ(true, gg_unit_H000_0004)
    SetPlayerAllianceStateBJ(Player(0), Player(11), bj_ALLIANCE_NEUTRAL)
    SetPlayerAllianceStateBJ(Player(11), Player(0), bj_ALLIANCE_ALLIED)
    TriggerSleepAction(3.00)
    SetUnitLifePercentBJ(gg_unit_H000_0004, 1.00)
    SetUnitOwner(gg_unit_H000_0004, Player(PLAYER_NEUTRAL_PASSIVE), false)
    PlaySoundBJ(gg_snd_Murder2)
    IssueTargetOrderBJ(gg_unit_h001_0007, "attack", gg_unit_H000_0004)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_181", nil, "TRIGSTR_182", bj_TIMETYPE_ADD, 0, true)
end

function InitTrig_Intro_3()
    gg_trg_Intro_3 = CreateTrigger()
    TriggerRegisterUnitLifeEvent(gg_trg_Intro_3, gg_unit_H000_0004, LESS_THAN, 50.00)
    TriggerAddAction(gg_trg_Intro_3, Trig_Intro_3_Actions)
end

function Trig_Intro_4_Actions()
    PlaySoundBJ(gg_snd_Intro7)
    SetUnitPositionLoc(gg_unit_n000_0032, GetRectCenter(gg_rct_KotoBogSpawn2))
    TriggerSleepAction(2)
    CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 2, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    TriggerSleepAction(2)
    DisableTrigger(gg_trg_Fixed_Camera)
    ConditionalTriggerExecute(gg_trg_CinematicStart)
end

function InitTrig_Intro_4()
    gg_trg_Intro_4 = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_Intro_4, gg_unit_H000_0004, EVENT_UNIT_DEATH)
    TriggerAddAction(gg_trg_Intro_4, Trig_Intro_4_Actions)
end

function Trig_CinematicStart_Actions()
    TriggerSleepAction(2.00)
    SetUnitPositionLoc(gg_unit_Hpal_0002, GetRectCenter(gg_rct_KainStart))
    EnableTrigger(gg_trg_Fixed_Camera)
    TriggerSleepAction(1.00)
    SetUnitOwner(gg_unit_Hpal_0002, Player(0), true)
    SetCameraTargetControllerNoZForPlayer(Player(0), gg_unit_Hpal_0002, 0, 150.00, false)
    TriggerSleepAction(2)
    PlaySoundBJ(gg_snd_Kain1)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_255", nil, "TRIGSTR_250", bj_TIMETYPE_ADD, 0, true)
    CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 5.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    QuestSetFailedBJ(udg_QuestIntro, true)
    CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_251", "TRIGSTR_252", "ReplaceableTextures\\CommandButtons\\BTNSacrifice.blp")
    CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_253", "TRIGSTR_254", "ReplaceableTextures\\CommandButtons\\BTNArthasFrost.blp")
    TriggerSleepAction(1.00)
    ClearMapMusicBJ()
    PlayMusicBJ(gg_snd_Blood_Omen__Legacy_of_Kain___Kain_s_Mausoleum)
    CinematicModeBJ(false, GetPlayersAll())
    SelectUnitForPlayerSingle(gg_unit_Hpal_0002, Player(0))
    udg_mainHero = gg_unit_Hpal_0002
        mainHero=udg_mainHero
end

function InitTrig_CinematicStart()
    gg_trg_CinematicStart = CreateTrigger()
    TriggerAddAction(gg_trg_CinematicStart, Trig_CinematicStart_Actions)
end

function Trig_TpToNecro_Conditions()
    if (not (GetEnteringUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_TpToNecro_Actions()
    SetUnitPositionLoc(GetEnteringUnit(), GetRectCenter(gg_rct_TPToNecroOut))
    udg_RevivePoint = gg_rct_HideWall
end

function InitTrig_TpToNecro()
    gg_trg_TpToNecro = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_TpToNecro, gg_rct_TPToNecro)
    TriggerAddCondition(gg_trg_TpToNecro, Condition(Trig_TpToNecro_Conditions))
    TriggerAddAction(gg_trg_TpToNecro, Trig_TpToNecro_Actions)
end

function Trig_TpToNecroDoor_Conditions()
    if (not (GetEnteringUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_TpToNecroDoor_Func001Func001Func012C()
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, GetForLoopIndexA())) == FourCC("I007")) then
        return true
    end
    return false
end

function Trig_TpToNecroDoor_Func001Func001C()
    if (not Trig_TpToNecroDoor_Func001Func001Func012C()) then
        return false
    end
    return true
end

function Trig_TpToNecroDoor_Actions()
    bj_forLoopAIndex = 1
    bj_forLoopAIndexEnd = 6
    while (true) do
        if (bj_forLoopAIndex > bj_forLoopAIndexEnd) then break end
        if (Trig_TpToNecroDoor_Func001Func001C()) then
            DisableTrigger(GetTriggeringTrigger())
            SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_OpenGate)
            PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
            KillDestructable(gg_dest_YTfb_12133)
            KillDestructable(gg_dest_YTfb_12134)
            KillDestructable(gg_dest_YTfb_12135)
            KillDestructable(gg_dest_YTfb_12136)
            TriggerSleepAction(0.50)
            SetDoodadAnimationRectBJ("hide", FourCC("D00M"), gg_rct_HideWall)
            RemoveItem(UnitItemInSlotBJ(udg_mainHero, GetForLoopIndexA()))
            return 
        else
        end
        bj_forLoopAIndex = bj_forLoopAIndex + 1
    end
end

function InitTrig_TpToNecroDoor()
    gg_trg_TpToNecroDoor = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_TpToNecroDoor, gg_rct_OpenGate)
    TriggerAddCondition(gg_trg_TpToNecroDoor, Condition(Trig_TpToNecroDoor_Conditions))
    TriggerAddAction(gg_trg_TpToNecroDoor, Trig_TpToNecroDoor_Actions)
end

function Trig_GuardLeave_Conditions()
    if (not (GetLeavingUnit() == gg_unit_u00A_0384)) then
        return false
    end
    return true
end

function Trig_GuardLeave_Actions()
    IssuePointOrderLocBJ(gg_unit_u00A_0384, "move", GetRectCenter(gg_rct_GuardZone))
end

function InitTrig_GuardLeave()
    gg_trg_GuardLeave = CreateTrigger()
    TriggerRegisterLeaveRectSimple(gg_trg_GuardLeave, gg_rct_GuardZone)
    TriggerAddCondition(gg_trg_GuardLeave, Condition(Trig_GuardLeave_Conditions))
    TriggerAddAction(gg_trg_GuardLeave, Trig_GuardLeave_Actions)
end

function Trig_G_Button_1_Conditions()
    if (not (GetUnitTypeId(GetEnteringUnit()) ~= FourCC("nrat"))) then
        return false
    end
    return true
end

function Trig_G_Button_1_Func002C()
    if (not (IsDestructableAliveBJ(gg_dest_DTfx_14592) == true)) then
        return false
    end
    return true
end

function Trig_G_Button_1_Func003Func009A()
    KillDestructable(GetEnumDestructable())
end

function Trig_G_Button_1_Func003Func012A()
    KillDestructable(GetEnumDestructable())
end

function Trig_G_Button_1_Func003C()
    if (not (IsDestructableAliveBJ(gg_dest_DTfx_14592) == false)) then
        return false
    end
    if (not (IsDestructableAliveBJ(gg_dest_DTfx_14591) == false)) then
        return false
    end
    if (not (IsDestructableAliveBJ(gg_dest_DTfx_14593) == false)) then
        return false
    end
    return true
end

function Trig_G_Button_1_Actions()
    if (Trig_G_Button_1_Func002C()) then
        KillDestructable(gg_dest_DTfx_14592)
        PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
    else
    end
    if (Trig_G_Button_1_Func003C()) then
        DisableTrigger(gg_trg_G_Button_1)
        DisableTrigger(gg_trg_G_Button_1_Left)
        DisableTrigger(gg_trg_G_Button_2)
        DisableTrigger(gg_trg_G_Button_3)
        DisableTrigger(gg_trg_G_Button_Left_2)
        DisableTrigger(gg_trg_G_Button_Left_3)
        AddSpecialEffectLocBJ(GetRectCenter(gg_rct_Armor_Zone), "Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
        CameraSetEQNoiseForPlayer(Player(0), 3)
        EnumDestructablesInRectAll(gg_rct_Golem_Free, Trig_G_Button_1_Func003Func009A)
        IssueTargetOrderBJ(gg_unit_u00A_0384, "attack", gg_unit_Hpal_0002)
        TriggerSleepAction(5.00)
        EnumDestructablesInRectAll(gg_rct_Armor_Zone, Trig_G_Button_1_Func003Func012A)
        CameraClearNoiseForPlayer(Player(0))
        IssuePointOrderLocBJ(gg_unit_u00A_0384, "attack", GetRectCenter(gg_rct_Armor_Zone))
    else
    end
end

function InitTrig_G_Button_1()
    gg_trg_G_Button_1 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_G_Button_1, gg_rct_ButtonA_1)
    TriggerAddCondition(gg_trg_G_Button_1, Condition(Trig_G_Button_1_Conditions))
    TriggerAddAction(gg_trg_G_Button_1, Trig_G_Button_1_Actions)
end

function Trig_G_Button_2_Conditions()
    if (not (GetUnitTypeId(GetEnteringUnit()) ~= FourCC("nrat"))) then
        return false
    end
    return true
end

function Trig_G_Button_2_Func002C()
    if (not (IsDestructableAliveBJ(gg_dest_DTfx_14591) == true)) then
        return false
    end
    return true
end

function Trig_G_Button_2_Func003Func009A()
    KillDestructable(GetEnumDestructable())
end

function Trig_G_Button_2_Func003Func012A()
    KillDestructable(GetEnumDestructable())
end

function Trig_G_Button_2_Func003C()
    if (not (IsDestructableAliveBJ(gg_dest_DTfx_14592) == false)) then
        return false
    end
    if (not (IsDestructableAliveBJ(gg_dest_DTfx_14591) == false)) then
        return false
    end
    if (not (IsDestructableAliveBJ(gg_dest_DTfx_14593) == false)) then
        return false
    end
    return true
end

function Trig_G_Button_2_Actions()
    if (Trig_G_Button_2_Func002C()) then
        KillDestructable(gg_dest_DTfx_14591)
        PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
    else
    end
    if (Trig_G_Button_2_Func003C()) then
        DisableTrigger(gg_trg_G_Button_1)
        DisableTrigger(gg_trg_G_Button_1_Left)
        DisableTrigger(gg_trg_G_Button_2)
        DisableTrigger(gg_trg_G_Button_3)
        DisableTrigger(gg_trg_G_Button_Left_2)
        DisableTrigger(gg_trg_G_Button_Left_3)
        AddSpecialEffectLocBJ(GetRectCenter(gg_rct_Armor_Zone), "Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
        CameraSetEQNoiseForPlayer(Player(0), 3)
        EnumDestructablesInRectAll(gg_rct_Golem_Free, Trig_G_Button_2_Func003Func009A)
        IssueTargetOrderBJ(gg_unit_u00A_0384, "attack", gg_unit_Hpal_0002)
        TriggerSleepAction(5.00)
        EnumDestructablesInRectAll(gg_rct_Armor_Zone, Trig_G_Button_2_Func003Func012A)
        CameraClearNoiseForPlayer(Player(0))
        IssuePointOrderLocBJ(gg_unit_u00A_0384, "attack", GetRectCenter(gg_rct_Armor_Zone))
    else
    end
end

function InitTrig_G_Button_2()
    gg_trg_G_Button_2 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_G_Button_2, gg_rct_ButtonA_2)
    TriggerAddCondition(gg_trg_G_Button_2, Condition(Trig_G_Button_2_Conditions))
    TriggerAddAction(gg_trg_G_Button_2, Trig_G_Button_2_Actions)
end

function Trig_G_Button_3_Conditions()
    if (not (GetUnitTypeId(GetEnteringUnit()) ~= FourCC("nrat"))) then
        return false
    end
    return true
end

function Trig_G_Button_3_Func002C()
    if (not (IsDestructableAliveBJ(gg_dest_DTfx_14593) == true)) then
        return false
    end
    return true
end

function Trig_G_Button_3_Func003Func009A()
    KillDestructable(GetEnumDestructable())
end

function Trig_G_Button_3_Func003Func012A()
    KillDestructable(GetEnumDestructable())
end

function Trig_G_Button_3_Func003C()
    if (not (IsDestructableAliveBJ(gg_dest_DTfx_14592) == false)) then
        return false
    end
    if (not (IsDestructableAliveBJ(gg_dest_DTfx_14591) == false)) then
        return false
    end
    if (not (IsDestructableAliveBJ(gg_dest_DTfx_14593) == false)) then
        return false
    end
    return true
end

function Trig_G_Button_3_Actions()
    if (Trig_G_Button_3_Func002C()) then
        KillDestructable(gg_dest_DTfx_14593)
        PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
    else
    end
    if (Trig_G_Button_3_Func003C()) then
        DisableTrigger(gg_trg_G_Button_1)
        DisableTrigger(gg_trg_G_Button_1_Left)
        DisableTrigger(gg_trg_G_Button_2)
        DisableTrigger(gg_trg_G_Button_3)
        DisableTrigger(gg_trg_G_Button_Left_2)
        DisableTrigger(gg_trg_G_Button_Left_3)
        AddSpecialEffectLocBJ(GetRectCenter(gg_rct_Armor_Zone), "Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
        CameraSetEQNoiseForPlayer(Player(0), 3)
        EnumDestructablesInRectAll(gg_rct_Golem_Free, Trig_G_Button_3_Func003Func009A)
        IssueTargetOrderBJ(gg_unit_u00A_0384, "attack", gg_unit_Hpal_0002)
        TriggerSleepAction(5.00)
        EnumDestructablesInRectAll(gg_rct_Armor_Zone, Trig_G_Button_3_Func003Func012A)
        CameraClearNoiseForPlayer(Player(0))
        IssuePointOrderLocBJ(gg_unit_u00A_0384, "attack", GetRectCenter(gg_rct_Armor_Zone))
    else
    end
end

function InitTrig_G_Button_3()
    gg_trg_G_Button_3 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_G_Button_3, gg_rct_ButtonA_3)
    TriggerAddCondition(gg_trg_G_Button_3, Condition(Trig_G_Button_3_Conditions))
    TriggerAddAction(gg_trg_G_Button_3, Trig_G_Button_3_Actions)
end

function Trig_G_Button_1_Left_Func001C()
    if (not (CountUnitsInGroup(GetUnitsInRectAll(gg_rct_ButtonA_1)) == 0)) then
        return false
    end
    if (not (IsDestructableAliveBJ(gg_dest_DTfx_14592) == false)) then
        return false
    end
    return true
end

function Trig_G_Button_1_Left_Actions()
    if (Trig_G_Button_1_Left_Func001C()) then
        DestructableRestoreLife(gg_dest_DTfx_14592, GetDestructableMaxLife(gg_dest_B003_3904), true)
    else
    end
end

function InitTrig_G_Button_1_Left()
    gg_trg_G_Button_1_Left = CreateTrigger()
    TriggerRegisterLeaveRectSimple(gg_trg_G_Button_1_Left, gg_rct_ButtonA_1)
    TriggerAddAction(gg_trg_G_Button_1_Left, Trig_G_Button_1_Left_Actions)
end

function Trig_G_Button_Left_2_Func001C()
    if (not (CountUnitsInGroup(GetUnitsInRectAll(gg_rct_ButtonA_2)) == 0)) then
        return false
    end
    if (not (IsDestructableAliveBJ(gg_dest_DTfx_14591) == false)) then
        return false
    end
    return true
end

function Trig_G_Button_Left_2_Actions()
    if (Trig_G_Button_Left_2_Func001C()) then
        DestructableRestoreLife(gg_dest_DTfx_14591, GetDestructableMaxLife(gg_dest_B003_3904), true)
    else
    end
end

function InitTrig_G_Button_Left_2()
    gg_trg_G_Button_Left_2 = CreateTrigger()
    TriggerRegisterLeaveRectSimple(gg_trg_G_Button_Left_2, gg_rct_ButtonA_2)
    TriggerAddAction(gg_trg_G_Button_Left_2, Trig_G_Button_Left_2_Actions)
end

function Trig_G_Button_Left_3_Func001C()
    if (not (CountUnitsInGroup(GetUnitsInRectAll(gg_rct_ButtonA_3)) == 0)) then
        return false
    end
    if (not (IsDestructableAliveBJ(gg_dest_DTfx_14593) == false)) then
        return false
    end
    return true
end

function Trig_G_Button_Left_3_Actions()
    if (Trig_G_Button_Left_3_Func001C()) then
        DestructableRestoreLife(gg_dest_DTfx_14593, GetDestructableMaxLife(gg_dest_B003_3904), true)
    else
    end
end

function InitTrig_G_Button_Left_3()
    gg_trg_G_Button_Left_3 = CreateTrigger()
    TriggerRegisterLeaveRectSimple(gg_trg_G_Button_Left_3, gg_rct_ButtonA_3)
    TriggerAddAction(gg_trg_G_Button_Left_3, Trig_G_Button_Left_3_Actions)
end

function Trig_Closed1_Actions()
    DisableTrigger(GetTriggeringTrigger())
    PlaySoundBJ(gg_snd_tremblement)
    TriggerSleepAction(4.00)
    KillDestructable(gg_dest_YTfb_6073)
    KillDestructable(gg_dest_YTfb_6074)
    KillDestructable(gg_dest_YTfb_6075)
    KillDestructable(gg_dest_YTfb_6076)
    RemoveDestructable(gg_dest_B004_6078)
    SetDoodadAnimationRectBJ("hide", FourCC("D002"), gg_rct_LibraryClosed)
    SetDoodadAnimationRectBJ("show", FourCC("DObw"), gg_rct_LibraryOpen)
end

function InitTrig_Closed1()
    gg_trg_Closed1 = CreateTrigger()
    TriggerRegisterDeathEvent(gg_trg_Closed1, gg_dest_DTlv_6072)
    TriggerAddAction(gg_trg_Closed1, Trig_Closed1_Actions)
end

function Trig_RatKey_Func001Func001A()
    KillDestructable(GetEnumDestructable())
end

function Trig_RatKey_Func001Func009A()
    DestructableRestoreLife(GetEnumDestructable(), GetDestructableMaxLife(GetEnumDestructable()), true)
end

function Trig_RatKey_Func001Func016Func001Func007C()
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, GetForLoopIndexA())) == FourCC("spsh")) then
        return true
    end
    return false
end

function Trig_RatKey_Func001Func016Func001C()
    if (not Trig_RatKey_Func001Func016Func001Func007C()) then
        return false
    end
    return true
end

function Trig_RatKey_Func001C()
    if (not (IsDestructableAliveBJ(gg_dest_DTfx_4421) == true)) then
        return false
    end
    return true
end

function Trig_RatKey_Actions()
    if (Trig_RatKey_Func001C()) then
        EnumDestructablesInRectAll(gg_rct_Region_028, Trig_RatKey_Func001Func001A)
        KillDestructable(gg_dest_DTfx_4421)
        PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
        KillDestructable(gg_dest_YTfb_4504)
        KillDestructable(gg_dest_YTfb_4505)
        KillDestructable(gg_dest_YTfb_4506)
        SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_Region_028)
        bj_forLoopAIndex = 1
        bj_forLoopAIndexEnd = 6
        while (true) do
            if (bj_forLoopAIndex > bj_forLoopAIndexEnd) then break end
            if (Trig_RatKey_Func001Func016Func001C()) then
                CreateDestructableLoc(FourCC("LTbr"), GetRectCenter(gg_rct_Rat_Barrel_Zone), GetRandomDirectionDeg(), 1, 0)
                udg_IsRatBlocked = true
                UnitRemoveItemFromSlotSwapped(GetForLoopIndexA(), gg_unit_Hpal_0002)
                                ItemGlobalInfo(bj_lastRemovedItem,1)
                RemoveItem(GetLastRemovedItem())
                return 
            else
            end
            bj_forLoopAIndex = bj_forLoopAIndex + 1
        end
    else
        DestructableRestoreLife(gg_dest_DTfx_4421, GetDestructableMaxLife(gg_dest_B003_3904), true)
        PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
        DestructableRestoreLife(gg_dest_YTfb_4504, GetDestructableMaxLife(gg_dest_YTfb_4504), true)
        DestructableRestoreLife(gg_dest_YTfb_4505, GetDestructableMaxLife(gg_dest_YTfb_4504), true)
        DestructableRestoreLife(gg_dest_YTfb_4506, GetDestructableMaxLife(gg_dest_YTfb_4504), true)
        SetDoodadAnimationRectBJ("stand", FourCC("D001"), gg_rct_Region_028)
        EnumDestructablesInRectAll(gg_rct_Region_028, Trig_RatKey_Func001Func009A)
    end
end

function InitTrig_RatKey()
    gg_trg_RatKey = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_RatKey, gg_rct_ButtonToLibrary)
    TriggerAddAction(gg_trg_RatKey, Trig_RatKey_Actions)
end

function Trig_RatKAggro_Func001C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_RatKAggro_Conditions()
    if (not Trig_RatKAggro_Func001C()) then
        return false
    end
    return true
end

function Trig_RatKAggro_Func003C()
    if (not (IsDestructableAliveBJ(gg_dest_DTfx_4421) == false)) then
        return false
    end
    if (not (udg_IsRatBlocked == false)) then
        return false
    end
    return true
end

function Trig_RatKAggro_Actions()
    DisableTrigger(GetTriggeringTrigger())
    if (Trig_RatKAggro_Func003C()) then
        IssuePointOrderLocBJ(gg_unit_n002_0069, "move", GetRandomLocInRect(gg_rct_ButtonToLibrary))
        TriggerSleepAction(1.50)
        IssuePointOrderLocBJ(gg_unit_n002_0069, "move", GetRandomLocInRect(gg_rct_Rat_Start_Zone))
        TriggerSleepAction(1.50)
    else
    end
    EnableTrigger(GetTriggeringTrigger())
end

function InitTrig_RatKAggro()
    gg_trg_RatKAggro = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_RatKAggro, gg_rct_Rat_Leave_Zone)
    TriggerAddCondition(gg_trg_RatKAggro, Condition(Trig_RatKAggro_Conditions))
    TriggerAddAction(gg_trg_RatKAggro, Trig_RatKAggro_Actions)
end

function Trig_Open_Pass_1_Actions()
    DisableTrigger(GetTriggeringTrigger())
    PlaySoundBJ(gg_snd_tremblement)
    TriggerSleepAction(2.00)
    KillDestructable(gg_dest_YTfb_1741)
    KillDestructable(gg_dest_YTfb_1740)
    KillDestructable(gg_dest_YTfb_1739)
    KillDestructable(gg_dest_YTfb_0598)
    KillDestructable(gg_dest_YTfb_0597)
    KillDestructable(gg_dest_YTfb_0596)
    KillDestructable(gg_dest_YTfb_0595)
    RemoveDestructable(gg_dest_B004_4256)
    RemoveDestructable(gg_dest_B004_20476)
    SetDoodadAnimationRectBJ("hide", FourCC("D00K"), gg_rct_LibraryPass)
    SetDoodadAnimationRectBJ("hide", FourCC("D00K"), gg_rct_LibraryPass_2)
end

function InitTrig_Open_Pass_1()
    gg_trg_Open_Pass_1 = CreateTrigger()
    TriggerRegisterDeathEvent(gg_trg_Open_Pass_1, gg_dest_DTlv_4275)
    TriggerAddAction(gg_trg_Open_Pass_1, Trig_Open_Pass_1_Actions)
end

function Trig_Key1_Conditions()
    if (not (GetUnitTypeId(GetEnteringUnit()) ~= FourCC("nrat"))) then
        return false
    end
    return true
end

function Trig_Key1_Func002C()
    if (not (IsDestructableAliveBJ(gg_dest_B003_3904) == true)) then
        return false
    end
    return true
end

function Trig_Key1_Func003C()
    if (not (IsDestructableAliveBJ(gg_dest_B003_3904) == false)) then
        return false
    end
    if (not (IsDestructableAliveBJ(gg_dest_B003_3905) == true)) then
        return false
    end
    if (not (IsDestructableAliveBJ(gg_dest_B003_3906) == false)) then
        return false
    end
    return true
end

function Trig_Key1_Actions()
    if (Trig_Key1_Func002C()) then
        KillDestructable(gg_dest_B003_3904)
        PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
    else
        DestructableRestoreLife(gg_dest_B003_3904, GetDestructableMaxLife(gg_dest_B003_3904), true)
    end
    if (Trig_Key1_Func003C()) then
        TriggerExecute(gg_trg_Button_3)
        DisableTrigger(gg_trg_Key1)
        DisableTrigger(gg_trg_Key2)
        DisableTrigger(gg_trg_Key3)
    else
    end
end

function InitTrig_Key1()
    gg_trg_Key1 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Key1, gg_rct_Tumbler1)
    TriggerAddCondition(gg_trg_Key1, Condition(Trig_Key1_Conditions))
    TriggerAddAction(gg_trg_Key1, Trig_Key1_Actions)
end

function Trig_Key2_Conditions()
    if (not (GetUnitTypeId(GetEnteringUnit()) ~= FourCC("nrat"))) then
        return false
    end
    return true
end

function Trig_Key2_Func002C()
    if (not (IsDestructableAliveBJ(gg_dest_B003_3905) == true)) then
        return false
    end
    return true
end

function Trig_Key2_Func003C()
    if (not (IsDestructableAliveBJ(gg_dest_B003_3904) == false)) then
        return false
    end
    if (not (IsDestructableAliveBJ(gg_dest_B003_3905) == true)) then
        return false
    end
    if (not (IsDestructableAliveBJ(gg_dest_B003_3906) == false)) then
        return false
    end
    return true
end

function Trig_Key2_Actions()
    if (Trig_Key2_Func002C()) then
        KillDestructable(gg_dest_B003_3905)
        PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
    else
        DestructableRestoreLife(gg_dest_B003_3905, GetDestructableMaxLife(gg_dest_B003_3904), true)
    end
    if (Trig_Key2_Func003C()) then
        TriggerExecute(gg_trg_Button_3)
        DisableTrigger(gg_trg_Key1)
        DisableTrigger(gg_trg_Key2)
        DisableTrigger(gg_trg_Key3)
    else
    end
end

function InitTrig_Key2()
    gg_trg_Key2 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Key2, gg_rct_Tumbler2)
    TriggerAddCondition(gg_trg_Key2, Condition(Trig_Key2_Conditions))
    TriggerAddAction(gg_trg_Key2, Trig_Key2_Actions)
end

function Trig_Key3_Conditions()
    if (not (GetUnitTypeId(GetEnteringUnit()) ~= FourCC("nrat"))) then
        return false
    end
    return true
end

function Trig_Key3_Func002C()
    if (not (IsDestructableAliveBJ(gg_dest_B003_3906) == true)) then
        return false
    end
    return true
end

function Trig_Key3_Func003C()
    if (not (IsDestructableAliveBJ(gg_dest_B003_3904) == false)) then
        return false
    end
    if (not (IsDestructableAliveBJ(gg_dest_B003_3905) == true)) then
        return false
    end
    if (not (IsDestructableAliveBJ(gg_dest_B003_3906) == false)) then
        return false
    end
    return true
end

function Trig_Key3_Actions()
    if (Trig_Key3_Func002C()) then
        KillDestructable(gg_dest_B003_3906)
        PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
    else
        DestructableRestoreLife(gg_dest_B003_3906, GetDestructableMaxLife(gg_dest_B003_3904), true)
    end
    if (Trig_Key3_Func003C()) then
        TriggerExecute(gg_trg_Button_3)
        DisableTrigger(gg_trg_Key1)
        DisableTrigger(gg_trg_Key2)
        DisableTrigger(gg_trg_Key3)
    else
    end
end

function InitTrig_Key3()
    gg_trg_Key3 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Key3, gg_rct_Tumbler3)
    TriggerAddCondition(gg_trg_Key3, Condition(Trig_Key3_Conditions))
    TriggerAddAction(gg_trg_Key3, Trig_Key3_Actions)
end

function Trig_LightOn_Func002C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_LightOn_Conditions()
    if (not Trig_LightOn_Func002C()) then
        return false
    end
    return true
end

function Trig_LightOn_Func009C()
    if (not (udg_IntLightCheck == 0)) then
        return false
    end
    return true
end

function Trig_LightOn_Actions()
    DisableTrigger(GetTriggeringTrigger())
    SetTimeOfDay(12.00)
    SetTerrainFogExBJ(0, 500.00, 2500.00, 0, 25.00, 25.00, 20.00)
    TriggerSleepAction(0.10)
    EnableTrigger(gg_trg_LightDamage)
    ClearMapMusicBJ()
    PlayMusicBJ(gg_snd_102__Awakening)
    if (Trig_LightOn_Func009C()) then
        PlaySoundBJ(gg_snd_Kain5Light)
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_201", nil, "TRIGSTR_202", bj_TIMETYPE_ADD, 0, true)
        udg_IntLightCheck = 1
        TriggerSleepAction(4.00)
        QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_395")
    else
    end
    EnableTrigger(GetTriggeringTrigger())
end

function InitTrig_LightOn()
    gg_trg_LightOn = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_LightOn, gg_rct_WallHide)
    TriggerRegisterEnterRectSimple(gg_trg_LightOn, gg_rct_FirstDorWannaKey)
    TriggerRegisterEnterRectSimple(gg_trg_LightOn, gg_rct_Light3)
    TriggerRegisterEnterRectSimple(gg_trg_LightOn, gg_rct_Light4)
    TriggerRegisterEnterRectSimple(gg_trg_LightOn, gg_rct_Light5)
    TriggerRegisterEnterRectSimple(gg_trg_LightOn, gg_rct_Light6)
    TriggerRegisterEnterRectSimple(gg_trg_LightOn, gg_rct_Light8)
    TriggerRegisterEnterRectSimple(gg_trg_LightOn, gg_rct_Light9)
    TriggerAddCondition(gg_trg_LightOn, Condition(Trig_LightOn_Conditions))
    TriggerAddAction(gg_trg_LightOn, Trig_LightOn_Actions)
end

function Trig_FirstDorHelper_Func003C()
    if (not (GetTriggerUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    if (not (udg_IntLightCheck == 0)) then
        return false
    end
    return true
end

function Trig_FirstDorHelper_Conditions()
    if (not Trig_FirstDorHelper_Func003C()) then
        return false
    end
    return true
end

function Trig_FirstDorHelper_Actions()
        CQX,CQY=-2300,3000
        CreateForUnitWayToPoint(mainHero,CQX,CQY)
end

function InitTrig_FirstDorHelper()
    gg_trg_FirstDorHelper = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_FirstDorHelper, gg_rct_FirstDorWannaKey)
    TriggerAddCondition(gg_trg_FirstDorHelper, Condition(Trig_FirstDorHelper_Conditions))
    TriggerAddAction(gg_trg_FirstDorHelper, Trig_FirstDorHelper_Actions)
end

function Trig_LightOff_Func001C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_LightOff_Conditions()
    if (not Trig_LightOff_Func001C()) then
        return false
    end
    return true
end

function Trig_LightOff_Actions()
    SetTimeOfDay(0.00)
    SetTerrainFogExBJ(0, 0.00, 2000.00, 0, 0.00, 0.00, 0.00)
    EnableWeatherEffect(udg_RainWeather, false)
    DisableTrigger(gg_trg_LightDamage)
    ClearMapMusicBJ()
    PlayMusicBJ(gg_snd_Blood_Omen__Legacy_of_Kain___Kain_s_Mausoleum)
        CQX,CQY=2000,7300
end

function InitTrig_LightOff()
    gg_trg_LightOff = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_LightOff, gg_rct_Region_011)
    TriggerRegisterEnterRectSimple(gg_trg_LightOff, gg_rct_EnterDark_2)
    TriggerRegisterEnterRectSimple(gg_trg_LightOff, gg_rct_Dark3)
    TriggerRegisterEnterRectSimple(gg_trg_LightOff, gg_rct_Dark4)
    TriggerRegisterEnterRectSimple(gg_trg_LightOff, gg_rct_Dark5)
    TriggerRegisterEnterRectSimple(gg_trg_LightOff, gg_rct_Dark6)
    TriggerRegisterEnterRectSimple(gg_trg_LightOff, gg_rct_Dark9)
    TriggerRegisterEnterRectSimple(gg_trg_LightOff, gg_rct_Dark10)
    TriggerAddCondition(gg_trg_LightOff, Condition(Trig_LightOff_Conditions))
    TriggerAddAction(gg_trg_LightOff, Trig_LightOff_Actions)
end

function Trig_LightDamage_Actions()
    SetUnitLifeBJ(gg_unit_Hpal_0002, (GetUnitStateSwap(UNIT_STATE_LIFE, gg_unit_Hpal_0002) - 1.00))
    AddSpecialEffectTargetUnitBJ("overhead", gg_unit_Hpal_0002, "Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl")
    TriggerSleepAction(1.00)
    DestroyEffectBJ(GetLastCreatedEffectBJ())
end

function InitTrig_LightDamage()
    gg_trg_LightDamage = CreateTrigger()
    DisableTrigger(gg_trg_LightDamage)
    TriggerRegisterTimerEventPeriodic(gg_trg_LightDamage, 2)
    TriggerAddAction(gg_trg_LightDamage, Trig_LightDamage_Actions)
end

function Trig_Button_1_Conditions()
    if (not (GetEnteringUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_Button_1_Actions()
    PlaySoundBJ(gg_snd_tremblement)
    CameraSetEQNoiseForPlayer(Player(0), 2.00)
    SetDestructableAnimationBJ(gg_dest_DTfx_0479, "stand alternate")
    TriggerSleepAction(4.00)
    CameraClearNoiseForPlayer(Player(0))
    SetDoodadAnimationRectBJ("hide", FourCC("D00K"), gg_rct_WallHide)
    KillDestructable(gg_dest_YTfb_0509)
    KillDestructable(gg_dest_YTfb_0508)
    KillDestructable(gg_dest_YTfb_0507)
    KillDestructable(gg_dest_YTfb_0506)
    DisableTrigger(GetTriggeringTrigger())
        CQX,CQY=-2300,2900
end

function InitTrig_Button_1()
    gg_trg_Button_1 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Button_1, gg_rct_Button_1)
    TriggerAddCondition(gg_trg_Button_1, Condition(Trig_Button_1_Conditions))
    TriggerAddAction(gg_trg_Button_1, Trig_Button_1_Actions)
end

function Trig_Button_4_Actions()
    PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
    CameraSetEQNoiseForPlayer(Player(0), 2.00)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_Region_067)
    KillDestructable(gg_dest_DTfx_10977)
    TriggerSleepAction(1.00)
    CameraClearNoiseForPlayer(Player(0))
    KillDestructable(gg_dest_YTfb_11009)
    KillDestructable(gg_dest_YTfb_11007)
    KillDestructable(gg_dest_YTfb_11008)
    KillDestructable(gg_dest_YTfb_11006)
    DisableTrigger(GetTriggeringTrigger())
end

function InitTrig_Button_4()
    gg_trg_Button_4 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Button_4, gg_rct_Button_Throw)
    TriggerAddAction(gg_trg_Button_4, Trig_Button_4_Actions)
end

function Trig_Button_2_Actions()
    DisableTrigger(GetTriggeringTrigger())
    PlaySoundBJ(gg_snd_tremblement)
    TriggerSleepAction(4.00)
    KillDestructable(gg_dest_YTfb_0975)
    KillDestructable(gg_dest_YTfb_0977)
    KillDestructable(gg_dest_YTfb_0974)
    KillDestructable(gg_dest_YTfb_0976)
    KillDestructable(gg_dest_YTfb_0973)
    KillDestructable(gg_dest_YTfb_0972)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_FirstDorWannaKey)
    DisableTrigger(gg_trg_LightDamage)
    QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_UPDATED, "TRIGSTR_582")
    udg_RainWeather = GetLastCreatedWeatherEffect()
    SetTerrainFogExBJ(0, 500.00, 2500.00, 0, 25.00, 25.00, 40.00)
    TriggerSleepAction(2.00)
    PlaySoundBJ(gg_snd_Kain6Rain)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_315", nil, "TRIGSTR_316", bj_TIMETYPE_ADD, 0, true)
end

function InitTrig_Button_2()
    gg_trg_Button_2 = CreateTrigger()
    TriggerRegisterDeathEvent(gg_trg_Button_2, gg_dest_DTlv_0696)
    TriggerAddAction(gg_trg_Button_2, Trig_Button_2_Actions)
end

function Trig_Button_3_Actions()
    DisableTrigger(GetTriggeringTrigger())
    PlaySoundBJ(gg_snd_tremblement)
    CameraSetEQNoiseForPlayer(Player(0), 2.00)
    TriggerSleepAction(4.00)
    CameraClearNoiseForPlayer(Player(0))
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_Solve3)
    KillDestructable(gg_dest_YTfc_1351)
    KillDestructable(gg_dest_YTfc_1352)
    KillDestructable(gg_dest_YTfb_1353)
end

function InitTrig_Button_3()
    gg_trg_Button_3 = CreateTrigger()
    TriggerAddAction(gg_trg_Button_3, Trig_Button_3_Actions)
end

function Trig_Button_Fly_Actions()
    DisableTrigger(GetTriggeringTrigger())
    PlaySoundBJ(gg_snd_tremblement)
    TriggerSleepAction(4.00)
    KillDestructable(gg_dest_YTfb_12242)
    KillDestructable(gg_dest_YTfb_12243)
    KillDestructable(gg_dest_YTfb_12244)
    KillDestructable(gg_dest_YTfb_12245)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_Region_075)
end

function InitTrig_Button_Fly()
    gg_trg_Button_Fly = CreateTrigger()
    TriggerRegisterDeathEvent(gg_trg_Button_Fly, gg_dest_DTlv_12259)
    TriggerAddAction(gg_trg_Button_Fly, Trig_Button_Fly_Actions)
end

function Trig_OpenDoorLabirinthToBlue_Func002Func001A()
    KillDestructable(GetEnumDestructable())
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_UndergroundDoor1)
end

function Trig_OpenDoorLabirinthToBlue_Func002Func002A()
    KillDestructable(GetEnumDestructable())
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_UndergroundDoor2)
end

function Trig_OpenDoorLabirinthToBlue_Func002C()
    if (not (GetRandomInt(1, 2) == 1)) then
        return false
    end
    return true
end

function Trig_OpenDoorLabirinthToBlue_Actions()
    PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
    if (Trig_OpenDoorLabirinthToBlue_Func002C()) then
        EnumDestructablesInRectAll(gg_rct_UndergroundDoor2, Trig_OpenDoorLabirinthToBlue_Func002Func002A)
    else
        EnumDestructablesInRectAll(gg_rct_UndergroundDoor1, Trig_OpenDoorLabirinthToBlue_Func002Func001A)
    end
end

function InitTrig_OpenDoorLabirinthToBlue()
    gg_trg_OpenDoorLabirinthToBlue = CreateTrigger()
    TriggerRegisterDeathEvent(gg_trg_OpenDoorLabirinthToBlue, gg_dest_DTlv_14661)
    TriggerAddAction(gg_trg_OpenDoorLabirinthToBlue, Trig_OpenDoorLabirinthToBlue_Actions)
end

function Trig_OpenDoorLabirinth_Func001A()
    KillDestructable(GetEnumDestructable())
end

function Trig_OpenDoorLabirinth_Actions()
    EnumDestructablesInRectAll(gg_rct_DestroyVision1, Trig_OpenDoorLabirinth_Func001A)
end

function InitTrig_OpenDoorLabirinth()
    gg_trg_OpenDoorLabirinth = CreateTrigger()
    TriggerRegisterDeathEvent(gg_trg_OpenDoorLabirinth, gg_dest_DTlv_0696)
    TriggerAddAction(gg_trg_OpenDoorLabirinth, Trig_OpenDoorLabirinth_Actions)
end

function Trig_Grave1_Conditions()
    if (not (GetEventDamageSource() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_Grave1_Func003C()
    if (not (R2I(RAbsBJ((GetUnitFacing(gg_unit_hrif_0204) - 45.00))) == 0)) then
        return false
    end
    if (not (R2I(RAbsBJ((GetUnitFacing(gg_unit_hrif_0225) - 135.00))) == 0)) then
        return false
    end
    if (not (R2I(RAbsBJ((GetUnitFacing(gg_unit_hrif_0227) - 90.00))) == 0)) then
        return false
    end
    return true
end

function Trig_Grave1_Actions()
    udg_ActiveGrave = gg_unit_hrif_0204
    BlzSetUnitFacingEx(udg_ActiveGrave, (GetUnitFacing(udg_ActiveGrave) + 45.00))
    if (Trig_Grave1_Func003C()) then
        DisableTrigger(gg_trg_Grave1)
        DisableTrigger(gg_trg_Grave2)
        DisableTrigger(gg_trg_Grave3)
        CreateNUnitsAtLoc(1, FourCC("hprt"), Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Portal1_In), 270.00)
        PlaySoundBJ(gg_snd_UndeadDissipate2)
        SetUnitAnimation(GetLastCreatedUnit(), "birth")
        TriggerSleepAction(1.00)
        EnableTrigger(gg_trg_Portal1_Inn)
    else
    end
end

function InitTrig_Grave1()
    gg_trg_Grave1 = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_Grave1, gg_unit_hrif_0204, EVENT_UNIT_DAMAGED)
    TriggerAddCondition(gg_trg_Grave1, Condition(Trig_Grave1_Conditions))
    TriggerAddAction(gg_trg_Grave1, Trig_Grave1_Actions)
end

function Trig_Grave2_Conditions()
    if (not (GetEventDamageSource() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_Grave2_Func005C()
    if (not (R2I(RAbsBJ((GetUnitFacing(gg_unit_hrif_0204) - 45.00))) == 0)) then
        return false
    end
    if (not (R2I(RAbsBJ((GetUnitFacing(gg_unit_hrif_0225) - 135.00))) == 0)) then
        return false
    end
    if (not (R2I(RAbsBJ((GetUnitFacing(gg_unit_hrif_0227) - 90.00))) == 0)) then
        return false
    end
    return true
end

function Trig_Grave2_Actions()
    udg_ActiveGrave = gg_unit_hrif_0225
    BlzSetUnitFacingEx(udg_ActiveGrave, (GetUnitFacing(udg_ActiveGrave) + 45.00))
    if (Trig_Grave2_Func005C()) then
        DisableTrigger(gg_trg_Grave1)
        DisableTrigger(gg_trg_Grave2)
        DisableTrigger(gg_trg_Grave3)
        CreateNUnitsAtLoc(1, FourCC("hprt"), Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Portal1_In), 270.00)
        PlaySoundBJ(gg_snd_UndeadDissipate2)
        SetUnitAnimation(GetLastCreatedUnit(), "birth")
        TriggerSleepAction(1.00)
        EnableTrigger(gg_trg_Portal1_Inn)
    else
    end
end

function InitTrig_Grave2()
    gg_trg_Grave2 = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_Grave2, gg_unit_hrif_0225, EVENT_UNIT_DAMAGED)
    TriggerAddCondition(gg_trg_Grave2, Condition(Trig_Grave2_Conditions))
    TriggerAddAction(gg_trg_Grave2, Trig_Grave2_Actions)
end

function Trig_Grave3_Conditions()
    if (not (GetEventDamageSource() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_Grave3_Func004C()
    if (not (R2I(RAbsBJ((GetUnitFacing(gg_unit_hrif_0204) - 45.00))) == 0)) then
        return false
    end
    if (not (R2I(RAbsBJ((GetUnitFacing(gg_unit_hrif_0225) - 135.00))) == 0)) then
        return false
    end
    if (not (R2I(RAbsBJ((GetUnitFacing(gg_unit_hrif_0227) - 90.00))) == 0)) then
        return false
    end
    return true
end

function Trig_Grave3_Actions()
    udg_ActiveGrave = gg_unit_hrif_0227
    BlzSetUnitFacingEx(udg_ActiveGrave, (GetUnitFacing(udg_ActiveGrave) + 45.00))
    if (Trig_Grave3_Func004C()) then
        DisableTrigger(gg_trg_Grave1)
        DisableTrigger(gg_trg_Grave2)
        DisableTrigger(gg_trg_Grave3)
        CreateNUnitsAtLoc(1, FourCC("hprt"), Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_Portal1_In), 270.00)
        PlaySoundBJ(gg_snd_UndeadDissipate2)
        SetUnitAnimation(GetLastCreatedUnit(), "birth")
        TriggerSleepAction(2.00)
        EnableTrigger(gg_trg_Portal1_Inn)
    else
    end
end

function InitTrig_Grave3()
    gg_trg_Grave3 = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_Grave3, gg_unit_hrif_0227, EVENT_UNIT_DAMAGED)
    TriggerAddCondition(gg_trg_Grave3, Condition(Trig_Grave3_Conditions))
    TriggerAddAction(gg_trg_Grave3, Trig_Grave3_Actions)
end

function Trig_RedKey_Actions()
    PlaySoundBJ(gg_snd_KelThuzadDeath1)
    CreateItemLoc(FourCC("I001"), GetUnitLoc(GetDyingUnit()))
    udg_KeyRed = GetLastCreatedItem()
end

function InitTrig_RedKey()
    gg_trg_RedKey = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_RedKey, gg_unit_u000_0088, EVENT_UNIT_DEATH)
    TriggerAddAction(gg_trg_RedKey, Trig_RedKey_Actions)
end

function Trig_RedKeyDoor_Conditions()
    if (not (GetEnteringUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_RedKeyDoor_Func001Func012C()
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 1)) == FourCC("I001")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 2)) == FourCC("I001")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 3)) == FourCC("I001")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 4)) == FourCC("I001")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 5)) == FourCC("I001")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 6)) == FourCC("I001")) then
        return true
    end
    return false
end

function Trig_RedKeyDoor_Func001C()
    if (not Trig_RedKeyDoor_Func001Func012C()) then
        return false
    end
    return true
end

function Trig_RedKeyDoor_Actions()
    if (Trig_RedKeyDoor_Func001C()) then
        DisableTrigger(GetTriggeringTrigger())
        KillDestructable(gg_dest_YTfb_8452)
        KillDestructable(gg_dest_YTfb_8453)
        KillDestructable(gg_dest_YTfb_8454)
        KillDestructable(gg_dest_YTfb_8523)
        SetDoodadAnimationRectBJ("death alternate", FourCC("D01N"), gg_rct_RedKeyDoor)
        PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
        RemoveItem(GetItemOfTypeFromUnitBJ(gg_unit_Hpal_0002, FourCC("I001")))
    else
        QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_558")
                CQX,CQY=2800,4900
                CreateForUnitWayToPoint(mainHero,CQX,CQY)
    end
end

function InitTrig_RedKeyDoor()
    gg_trg_RedKeyDoor = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_RedKeyDoor, gg_rct_RedKeyDoor)
    TriggerAddCondition(gg_trg_RedKeyDoor, Condition(Trig_RedKeyDoor_Conditions))
    TriggerAddAction(gg_trg_RedKeyDoor, Trig_RedKeyDoor_Actions)
end

function Trig_BlueKey_Func004A()
    KillDestructable(GetEnumDestructable())
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_UndergroundDoor1)
end

function Trig_BlueKey_Func005A()
    KillDestructable(GetEnumDestructable())
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_UndergroundDoor2)
end

function Trig_BlueKey_Actions()
    PlaySoundBJ(gg_snd_KelThuzadDeath1)
    CreateItemLoc(FourCC("I002"), GetUnitLoc(GetDyingUnit()))
    udg_KeyBlue = GetLastCreatedItem()
    EnumDestructablesInRectAll(gg_rct_UndergroundDoor1, Trig_BlueKey_Func004A)
    EnumDestructablesInRectAll(gg_rct_UndergroundDoor2, Trig_BlueKey_Func005A)
end

function InitTrig_BlueKey()
    gg_trg_BlueKey = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_BlueKey, gg_unit_u001_0047, EVENT_UNIT_DEATH)
    TriggerAddAction(gg_trg_BlueKey, Trig_BlueKey_Actions)
end

function Trig_BlueKeyDoor_Conditions()
    if (not (GetEnteringUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_BlueKeyDoor_Func001Func013C()
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 1)) == FourCC("I002")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 2)) == FourCC("I002")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 3)) == FourCC("I002")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 4)) == FourCC("I002")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 5)) == FourCC("I002")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 6)) == FourCC("I002")) then
        return true
    end
    return false
end

function Trig_BlueKeyDoor_Func001C()
    if (not Trig_BlueKeyDoor_Func001Func013C()) then
        return false
    end
    return true
end

function Trig_BlueKeyDoor_Actions()
    if (Trig_BlueKeyDoor_Func001C()) then
        DisableTrigger(GetTriggeringTrigger())
        KillDestructable(gg_dest_YTfb_10010)
        KillDestructable(gg_dest_YTfb_10009)
        KillDestructable(gg_dest_YTfb_10005)
        SetDoodadAnimationRectBJ("death alternate", FourCC("D01W"), gg_rct_BlueKeyDoor)
        PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
        RemoveItem(GetItemOfTypeFromUnitBJ(gg_unit_Hpal_0002, FourCC("I002")))
        udg_RevivePoint = gg_rct_BlueKeyDoor
        UnitAddAbilityBJ(FourCC("A005"), gg_unit_Hpal_0002)
    else
        QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_364")
                CQX,CQY=7000,0
                CreateForUnitWayToPoint(mainHero,CQX,CQY)
    end
end

function InitTrig_BlueKeyDoor()
    gg_trg_BlueKeyDoor = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_BlueKeyDoor, gg_rct_BlueKeyDoor)
    TriggerAddCondition(gg_trg_BlueKeyDoor, Condition(Trig_BlueKeyDoor_Conditions))
    TriggerAddAction(gg_trg_BlueKeyDoor, Trig_BlueKeyDoor_Actions)
end

function Trig_Portal1_Inn_Func001C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_Portal1_Inn_Conditions()
    if (not Trig_Portal1_Inn_Func001C()) then
        return false
    end
    return true
end

function Trig_Portal1_Inn_Actions()
    CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 0.10, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    TriggerSleepAction(1.00)
    SetUnitPositionLocFacingBJ(gg_unit_Hpal_0002, GetRectCenter(gg_rct_Portal_2_Out), 90.00)
    CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 4.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    udg_RevivePoint = gg_rct_Portal_2_Out
    ClearMapMusicBJ()
    PlayMusicBJ(gg_snd_104__Nupraptor_s_Theme)
end

function InitTrig_Portal1_Inn()
    gg_trg_Portal1_Inn = CreateTrigger()
    DisableTrigger(gg_trg_Portal1_Inn)
    TriggerRegisterEnterRectSimple(gg_trg_Portal1_Inn, gg_rct_Portal1_In)
    TriggerAddCondition(gg_trg_Portal1_Inn, Condition(Trig_Portal1_Inn_Conditions))
    TriggerAddAction(gg_trg_Portal1_Inn, Trig_Portal1_Inn_Actions)
end

function Trig_Respawn_rat_Conditions()
    if (not (GetUnitTypeId(GetDyingUnit()) == FourCC("n003"))) then
        return false
    end
    return true
end

function Trig_Respawn_rat_Actions()
    CreateNUnitsAtLoc(1, FourCC("n003"), Player(PLAYER_NEUTRAL_PASSIVE), GetRandomLocInRect(gg_rct_Region_068), bj_UNIT_FACING)
end

function InitTrig_Respawn_rat()
    gg_trg_Respawn_rat = CreateTrigger()
    TriggerRegisterPlayerUnitEventSimple(gg_trg_Respawn_rat, Player(PLAYER_NEUTRAL_PASSIVE), EVENT_PLAYER_UNIT_DEATH)
    TriggerAddCondition(gg_trg_Respawn_rat, Condition(Trig_Respawn_rat_Conditions))
    TriggerAddAction(gg_trg_Respawn_rat, Trig_Respawn_rat_Actions)
end

function Trig_Trap1_Func008A()
    ExplodeUnitBJ(GetEnumUnit())
end

function Trig_Trap1_Actions()
    DisableTrigger(GetTriggeringTrigger())
    SetDoodadAnimationRectBJ("death", FourCC("YOf1"), gg_rct_Trap1)
    DisableTrigger(gg_trg_Trap1_Damage)
    TriggerSleepAction(2)
    SetDoodadAnimationRectBJ("stand", FourCC("YOf1"), gg_rct_Trap1)
    EnableTrigger(GetTriggeringTrigger())
    EnableTrigger(gg_trg_Trap1_Damage)
    ForGroupBJ(GetUnitsInRectAll(gg_rct_Trap1), Trig_Trap1_Func008A)
end

function InitTrig_Trap1()
    gg_trg_Trap1 = CreateTrigger()
    TriggerRegisterTimerEventPeriodic(gg_trg_Trap1, 2)
    TriggerAddAction(gg_trg_Trap1, Trig_Trap1_Actions)
end

function Trig_Trap1_Damage_Conditions()
    if (not (GetEnteringUnit() ~= gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_Trap1_Damage_Actions()
    ExplodeUnitBJ(GetEnteringUnit())
end

function InitTrig_Trap1_Damage()
    gg_trg_Trap1_Damage = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Trap1_Damage, gg_rct_Trap1)
    TriggerAddCondition(gg_trg_Trap1_Damage, Condition(Trig_Trap1_Damage_Conditions))
    TriggerAddAction(gg_trg_Trap1_Damage, Trig_Trap1_Damage_Actions)
end

function Trig_Trap2_Func008A()
    ExplodeUnitBJ(GetEnumUnit())
end

function Trig_Trap2_Actions()
    DisableTrigger(GetTriggeringTrigger())
    SetDoodadAnimationRectBJ("death", FourCC("YOf1"), gg_rct_Trap2)
    DisableTrigger(gg_trg_Trap2_Damage)
    TriggerSleepAction(2.50)
    SetDoodadAnimationRectBJ("stand", FourCC("YOf1"), gg_rct_Trap2)
    EnableTrigger(GetTriggeringTrigger())
    EnableTrigger(gg_trg_Trap2_Damage)
    ForGroupBJ(GetUnitsInRectAll(gg_rct_Trap2), Trig_Trap2_Func008A)
end

function InitTrig_Trap2()
    gg_trg_Trap2 = CreateTrigger()
    TriggerRegisterTimerEventPeriodic(gg_trg_Trap2, 3.00)
    TriggerAddAction(gg_trg_Trap2, Trig_Trap2_Actions)
end

function Trig_Trap2_Damage_Conditions()
    if (not (GetEnteringUnit() ~= gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_Trap2_Damage_Actions()
    ExplodeUnitBJ(GetEnteringUnit())
end

function InitTrig_Trap2_Damage()
    gg_trg_Trap2_Damage = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Trap2_Damage, gg_rct_Trap2)
    TriggerAddCondition(gg_trg_Trap2_Damage, Condition(Trig_Trap2_Damage_Conditions))
    TriggerAddAction(gg_trg_Trap2_Damage, Trig_Trap2_Damage_Actions)
end

function Trig_Trap3_Func008A()
    ExplodeUnitBJ(GetEnumUnit())
end

function Trig_Trap3_Actions()
    DisableTrigger(GetTriggeringTrigger())
    SetDoodadAnimationRectBJ("death", FourCC("YOf1"), gg_rct_Trap3)
    DisableTrigger(gg_trg_Trap3_Damage)
    TriggerSleepAction(1.00)
    SetDoodadAnimationRectBJ("stand", FourCC("YOf1"), gg_rct_Trap3)
    EnableTrigger(GetTriggeringTrigger())
    EnableTrigger(gg_trg_Trap3_Damage)
    ForGroupBJ(GetUnitsInRectAll(gg_rct_Trap3), Trig_Trap3_Func008A)
end

function InitTrig_Trap3()
    gg_trg_Trap3 = CreateTrigger()
    TriggerRegisterTimerEventPeriodic(gg_trg_Trap3, 1.00)
    TriggerAddAction(gg_trg_Trap3, Trig_Trap3_Actions)
end

function Trig_Trap3_Damage_Conditions()
    if (not (GetEnteringUnit() ~= gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_Trap3_Damage_Actions()
    ExplodeUnitBJ(GetEnteringUnit())
end

function InitTrig_Trap3_Damage()
    gg_trg_Trap3_Damage = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Trap3_Damage, gg_rct_Trap3)
    TriggerAddCondition(gg_trg_Trap3_Damage, Condition(Trig_Trap3_Damage_Conditions))
    TriggerAddAction(gg_trg_Trap3_Damage, Trig_Trap3_Damage_Actions)
end

function Trig_Button_Yard_Conditions()
    if (not (GetOwningPlayer(GetEnteringUnit()) == Player(0))) then
        return false
    end
    return true
end

function Trig_Button_Yard_Actions()
    PlaySoundBJ(gg_snd_tremblement)
    CameraSetEQNoiseForPlayer(Player(0), 2.00)
    SetDestructableAnimationBJ(gg_dest_DTfx_10185, "stand alternate")
    TriggerSleepAction(4.00)
    CameraClearNoiseForPlayer(Player(0))
    DestructableRestoreLife(gg_dest_B004_10353, GetDestructableMaxLife(GetLastCreatedDestructable()), true)
    KillDestructable(gg_dest_YTfb_10522)
    KillDestructable(gg_dest_YTfb_10521)
    KillDestructable(gg_dest_YTfb_10520)
    KillDestructable(gg_dest_YTfb_10519)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_Doorway_Fly)
    DisableTrigger(GetTriggeringTrigger())
end

function InitTrig_Button_Yard()
    gg_trg_Button_Yard = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Button_Yard, gg_rct_Button_yard)
    TriggerAddCondition(gg_trg_Button_Yard, Condition(Trig_Button_Yard_Conditions))
    TriggerAddAction(gg_trg_Button_Yard, Trig_Button_Yard_Actions)
end

function Trig_RemoveDark_Conditions()
    if (not (GetUnitTypeId(GetEnteringUnit()) == FourCC("n003"))) then
        return false
    end
    if (not (GetOwningPlayer(GetEnteringUnit()) == Player(0))) then
        return false
    end
    return true
end

function Trig_RemoveDark_Actions()
    RemoveDestructable(gg_dest_B004_10353)
    DisableTrigger(GetTriggeringTrigger())
        CQX,CQY=8500,-1100
end

function InitTrig_RemoveDark()
    gg_trg_RemoveDark = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_RemoveDark, gg_rct_Rat_In)
    TriggerAddCondition(gg_trg_RemoveDark, Condition(Trig_RemoveDark_Conditions))
    TriggerAddAction(gg_trg_RemoveDark, Trig_RemoveDark_Actions)
end

function Trig_Button_5_Actions()
    DisableTrigger(GetTriggeringTrigger())
    PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
    TriggerSleepAction(1.00)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_Region_071)
    KillDestructable(gg_dest_YTfb_11170)
    KillDestructable(gg_dest_YTfb_11169)
    KillDestructable(gg_dest_YTfb_11168)
end

function InitTrig_Button_5()
    gg_trg_Button_5 = CreateTrigger()
    TriggerRegisterDeathEvent(gg_trg_Button_5, gg_dest_DTlv_10436)
    TriggerAddAction(gg_trg_Button_5, Trig_Button_5_Actions)
end

function Trig_ButtonMainGate_Actions()
    DisableTrigger(GetTriggeringTrigger())
    PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
    TriggerSleepAction(0.50)
    ModifyGateBJ(bj_GATEOPERATION_OPEN, gg_dest_DTg5_10374)
    KillDestructable(gg_dest_YTfb_14488)
    KillDestructable(gg_dest_YTfb_14487)
    KillDestructable(gg_dest_YTfb_14486)
    KillDestructable(gg_dest_YTfb_14485)
end

function InitTrig_ButtonMainGate()
    gg_trg_ButtonMainGate = CreateTrigger()
    TriggerRegisterDeathEvent(gg_trg_ButtonMainGate, gg_dest_DTlv_10970)
    TriggerAddAction(gg_trg_ButtonMainGate, Trig_ButtonMainGate_Actions)
end

function Trig_Key_4_Conditions()
    if (not (GetEnteringUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_Key_4_Func002C()
    if (not (IsDestructableAliveBJ(gg_dest_B003_10418) == true)) then
        return false
    end
    return true
end

function Trig_Key_4_Actions()
    if (Trig_Key_4_Func002C()) then
        KillDestructable(gg_dest_B003_10418)
        PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
        KillDestructable(gg_dest_YTfb_10856)
        KillDestructable(gg_dest_YTfb_10855)
        KillDestructable(gg_dest_YTfb_10854)
        SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_DoorwayYard)
    else
        DestructableRestoreLife(gg_dest_B003_10418, GetDestructableMaxLife(gg_dest_B003_3904), true)
    end
end

function InitTrig_Key_4()
    gg_trg_Key_4 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Key_4, gg_rct_ButtonYard)
    TriggerAddCondition(gg_trg_Key_4, Condition(Trig_Key_4_Conditions))
    TriggerAddAction(gg_trg_Key_4, Trig_Key_4_Actions)
end

function Trig_AcidKeyDoor_Conditions()
    if (not (GetEnteringUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_AcidKeyDoor_Func001Func010C()
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 1)) == FourCC("I003")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 2)) == FourCC("I003")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 3)) == FourCC("I003")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 4)) == FourCC("I003")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 5)) == FourCC("I003")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 6)) == FourCC("I003")) then
        return true
    end
    return false
end

function Trig_AcidKeyDoor_Func001C()
    if (not Trig_AcidKeyDoor_Func001Func010C()) then
        return false
    end
    return true
end

function Trig_AcidKeyDoor_Actions()
    if (Trig_AcidKeyDoor_Func001C()) then
        DisableTrigger(GetTriggeringTrigger())
        KillDestructable(gg_dest_YTfb_11586)
        KillDestructable(gg_dest_YTfb_11587)
        KillDestructable(gg_dest_YTfb_11588)
        KillDestructable(gg_dest_YTfb_11589)
        SetDoodadAnimationRectBJ("death alternate", FourCC("D01X"), gg_rct_AcidDoor)
        PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
        RemoveItem(GetItemOfTypeFromUnitBJ(gg_unit_Hpal_0002, FourCC("I003")))
    else
        QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_365")
    end
end

function InitTrig_AcidKeyDoor()
    gg_trg_AcidKeyDoor = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_AcidKeyDoor, gg_rct_AcidDoor)
    TriggerAddCondition(gg_trg_AcidKeyDoor, Condition(Trig_AcidKeyDoor_Conditions))
    TriggerAddAction(gg_trg_AcidKeyDoor, Trig_AcidKeyDoor_Actions)
end

function Trig_AcidKey_Actions()
    PlaySoundBJ(gg_snd_KelThuzadDeath1)
    CreateItemLoc(FourCC("I003"), GetUnitLoc(GetDyingUnit()))
    udg_KeyGreen = GetLastCreatedItem()
end

function InitTrig_AcidKey()
    gg_trg_AcidKey = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_AcidKey, gg_unit_u002_0163, EVENT_UNIT_DEATH)
    TriggerAddAction(gg_trg_AcidKey, Trig_AcidKey_Actions)
end

function Trig_ChurchCloseTo_Func001C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_ChurchCloseTo_Conditions()
    if (not Trig_ChurchCloseTo_Func001C()) then
        return false
    end
    return true
end

function Trig_ChurchCloseTo_Actions()
    udg_RevivePoint = gg_rct_WaytoChurch
    ModifyGateBJ(bj_GATEOPERATION_OPEN, gg_dest_DTg5_4525)
end

function InitTrig_ChurchCloseTo()
    gg_trg_ChurchCloseTo = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_ChurchCloseTo, gg_rct_WaytoChurch)
    TriggerAddCondition(gg_trg_ChurchCloseTo, Condition(Trig_ChurchCloseTo_Conditions))
    TriggerAddAction(gg_trg_ChurchCloseTo, Trig_ChurchCloseTo_Actions)
end

function Trig_OpetToBoss_Func002001()
    return (IsUnitDeadBJ(gg_unit_u007_0312) == true)
end

function Trig_OpetToBoss_Func002002()
    return (IsUnitDeadBJ(gg_unit_u007_0313) == true)
end

function Trig_OpetToBoss_Conditions()
    if (not GetBooleanAnd(Trig_OpetToBoss_Func002001(), Trig_OpetToBoss_Func002002())) then
        return false
    end
    return true
end

function Trig_OpetToBoss_Func001A()
    KillDestructable(GetEnumDestructable())
end

function Trig_OpetToBoss_Actions()
    EnumDestructablesInRectAll(gg_rct_DoorwayOpen4, Trig_OpetToBoss_Func001A)
end

function InitTrig_OpetToBoss()
    gg_trg_OpetToBoss = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_OpetToBoss, gg_unit_u007_0313, EVENT_UNIT_DEATH)
    TriggerRegisterUnitEvent(gg_trg_OpetToBoss, gg_unit_u007_0312, EVENT_UNIT_DEATH)
    TriggerAddCondition(gg_trg_OpetToBoss, Condition(Trig_OpetToBoss_Conditions))
    TriggerAddAction(gg_trg_OpetToBoss, Trig_OpetToBoss_Actions)
end

function Trig_BrokenLever_Conditions()
    if (not (GetEnteringUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_BrokenLever_Func001Func013C()
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 1)) == FourCC("I009")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 2)) == FourCC("I009")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 3)) == FourCC("I009")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 4)) == FourCC("I009")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 5)) == FourCC("I009")) then
        return true
    end
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, 6)) == FourCC("I009")) then
        return true
    end
    return false
end

function Trig_BrokenLever_Func001C()
    if (not Trig_BrokenLever_Func001Func013C()) then
        return false
    end
    return true
end

function Trig_BrokenLever_Actions()
    if (Trig_BrokenLever_Func001C()) then
        DisableTrigger(GetTriggeringTrigger())
        KillDestructable(gg_dest_YTfb_19804)
        KillDestructable(gg_dest_YTfb_19805)
        KillDestructable(gg_dest_YTfb_19806)
        KillDestructable(gg_dest_YTfb_19807)
        DestructableRestoreLife(gg_dest_B007_19692, GetDestructableMaxLife(gg_dest_B007_19692), true)
        SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_BrokenLever)
        PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
        RemoveItem(GetItemOfTypeFromUnitBJ(gg_unit_Hpal_0002, FourCC("I009")))
    else
        QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_557")
                CQX,CQY=14200,6700
                CreateForUnitWayToPoint(mainHero,CQX,CQY)
    end
end

function InitTrig_BrokenLever()
    gg_trg_BrokenLever = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_BrokenLever, gg_rct_BrokenLever)
    TriggerAddCondition(gg_trg_BrokenLever, Condition(Trig_BrokenLever_Conditions))
    TriggerAddAction(gg_trg_BrokenLever, Trig_BrokenLever_Actions)
end

function Trig_CaveEnter_Func001C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_CaveEnter_Conditions()
    if (not Trig_CaveEnter_Func001C()) then
        return false
    end
    return true
end

function Trig_CaveEnter_Actions()
    udg_RevivePoint = gg_rct_EnterCave
    ClearMapMusicBJ()
    PlayMusicBJ(gg_snd_103__The_Road_to_Vengeance)
end

function InitTrig_CaveEnter()
    gg_trg_CaveEnter = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_CaveEnter, gg_rct_EnterCave)
    TriggerAddCondition(gg_trg_CaveEnter, Condition(Trig_CaveEnter_Conditions))
    TriggerAddAction(gg_trg_CaveEnter, Trig_CaveEnter_Actions)
end

function Trig_CheckpointCave2_Func001C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_CheckpointCave2_Conditions()
    if (not Trig_CheckpointCave2_Func001C()) then
        return false
    end
    return true
end

function Trig_CheckpointCave2_Actions()
    udg_RevivePoint = gg_rct_Dark9
end

function InitTrig_CheckpointCave2()
    gg_trg_CheckpointCave2 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_CheckpointCave2, gg_rct_Dark9)
    TriggerAddCondition(gg_trg_CheckpointCave2, Condition(Trig_CheckpointCave2_Conditions))
    TriggerAddAction(gg_trg_CheckpointCave2, Trig_CheckpointCave2_Actions)
end

function Trig_YellowKeyMaster_Func016C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_YellowKeyMaster_Conditions()
    if (not Trig_YellowKeyMaster_Func016C()) then
        return false
    end
    return true
end

function Trig_YellowKeyMaster_Func010A()
    SetUnitAnimation(GetEnumUnit(), "birth")
end

function Trig_YellowKeyMaster_Actions()
    DisableTrigger(GetTriggeringTrigger())
    SetUnitAnimation(gg_unit_u00D_0066, "spell")
    SetUnitInvulnerable(gg_unit_u00D_0066, true)
    TriggerSleepAction(1.00)
    SetDoodadAnimationRectBJ("stand", FourCC("D02O"), gg_rct_YellowDoor)
    PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
    IssuePointOrderLocBJ(gg_unit_u00D_0066, "blink", GetRectCenter(gg_rct_Light8))
    TriggerSleepAction(0.50)
    CreateNUnitsAtLoc(2, FourCC("u007"), Player(PLAYER_NEUTRAL_AGGRESSIVE), GetRectCenter(gg_rct_Dark9), bj_UNIT_FACING)
    ForGroupBJ(GetLastCreatedGroup(), Trig_YellowKeyMaster_Func010A)
    IssuePointOrderLocBJ(gg_unit_u00D_0066, "move", GetRectCenter(gg_rct_YellowKeyMaster))
    TriggerSleepAction(1.00)
    SetUnitPositionLoc(gg_unit_u00D_0066, GetRectCenter(gg_rct_YellowKeyMaster))
    SetUnitInvulnerable(gg_unit_u00D_0066, false)
    SetUnitOwner(gg_unit_u00D_0066, Player(PLAYER_NEUTRAL_AGGRESSIVE), false)
end

function InitTrig_YellowKeyMaster()
    gg_trg_YellowKeyMaster = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_YellowKeyMaster, gg_rct_bossWin)
    TriggerAddCondition(gg_trg_YellowKeyMaster, Condition(Trig_YellowKeyMaster_Conditions))
    TriggerAddAction(gg_trg_YellowKeyMaster, Trig_YellowKeyMaster_Actions)
end

function Trig_YellowKey_Actions()
    PlaySoundBJ(gg_snd_KelThuzadDeath1)
    CreateItemLoc(FourCC("I008"), GetUnitLoc(GetDyingUnit()))
end

function InitTrig_YellowKey()
    gg_trg_YellowKey = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_YellowKey, gg_unit_u00D_0066, EVENT_UNIT_DEATH)
    TriggerAddAction(gg_trg_YellowKey, Trig_YellowKey_Actions)
end

function Trig_YellowKeyDoor_Conditions()
    if (not (GetEnteringUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_YellowKeyDoor_Func001Func001Func002A()
    KillDestructable(GetEnumDestructable())
end

function Trig_YellowKeyDoor_Func001Func001Func006C()
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, GetForLoopIndexA())) == FourCC("I008")) then
        return true
    end
    return false
end

function Trig_YellowKeyDoor_Func001Func001C()
    if (not Trig_YellowKeyDoor_Func001Func001Func006C()) then
        return false
    end
    return true
end

function Trig_YellowKeyDoor_Actions()
    bj_forLoopAIndex = 1
    bj_forLoopAIndexEnd = 6
    while (true) do
        if (bj_forLoopAIndex > bj_forLoopAIndexEnd) then break end
        if (Trig_YellowKeyDoor_Func001Func001C()) then
            DisableTrigger(GetTriggeringTrigger())
            EnumDestructablesInRectAll(gg_rct_YellowDoor, Trig_YellowKeyDoor_Func001Func001Func002A)
            SetDoodadAnimationRectBJ("death alternate", FourCC("D02O"), gg_rct_YellowDoor)
            PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
            RemoveItem(GetItemOfTypeFromUnitBJ(gg_unit_Hpal_0002, FourCC("I008")))
        else
        end
        bj_forLoopAIndex = bj_forLoopAIndex + 1
    end
end

function InitTrig_YellowKeyDoor()
    gg_trg_YellowKeyDoor = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_YellowKeyDoor, gg_rct_YellowDoor)
    TriggerAddCondition(gg_trg_YellowKeyDoor, Condition(Trig_YellowKeyDoor_Conditions))
    TriggerAddAction(gg_trg_YellowKeyDoor, Trig_YellowKeyDoor_Actions)
end

function Trig_BlackDoor_Conditions()
    if (not (GetEnteringUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_BlackDoor_Func002Func005A()
    KillDestructable(GetEnumDestructable())
end

function Trig_BlackDoor_Func002C()
    if (not (GetUnitLifePercent(gg_unit_Hpal_0002) <= 30.00)) then
        return false
    end
    return true
end

function Trig_BlackDoor_Actions()
    PlaySoundBJ(gg_snd_PitlordYesAttack2)
    if (Trig_BlackDoor_Func002C()) then
        DisableTrigger(GetTriggeringTrigger())
        SetDoodadAnimationRectBJ("death alternate", FourCC("D02P"), gg_rct_BlackDoor)
        PlaySoundBJ(gg_snd_BattleNetDoorsStereo2)
        EnumDestructablesInRectAll(gg_rct_BlackDoor, Trig_BlackDoor_Func002Func005A)
    else
        QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_549")
    end
end

function InitTrig_BlackDoor()
    gg_trg_BlackDoor = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_BlackDoor, gg_rct_BlackDoor)
    TriggerAddCondition(gg_trg_BlackDoor, Condition(Trig_BlackDoor_Conditions))
    TriggerAddAction(gg_trg_BlackDoor, Trig_BlackDoor_Actions)
end

function Trig_BlackDoorIn_Conditions()
    if (not (GetEnteringUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_BlackDoorIn_Actions()
    CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 0.10, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    TriggerSleepAction(1.00)
    SetUnitPositionLocFacingBJ(gg_unit_Hpal_0002, GetRectCenter(gg_rct_BlackDoorInTp), 90.00)
    CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 4.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
end

function InitTrig_BlackDoorIn()
    gg_trg_BlackDoorIn = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_BlackDoorIn, gg_rct_BlackDoorIn)
    TriggerAddCondition(gg_trg_BlackDoorIn, Condition(Trig_BlackDoorIn_Conditions))
    TriggerAddAction(gg_trg_BlackDoorIn, Trig_BlackDoorIn_Actions)
end

function Trig_BlackDoorOut_Conditions()
    if (not (GetEnteringUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_BlackDoorOut_Actions()
    CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 0.10, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    TriggerSleepAction(1.00)
    SetUnitPositionLocFacingBJ(gg_unit_Hpal_0002, GetRectCenter(gg_rct_BlackDoor), 90.00)
    CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 4.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
end

function InitTrig_BlackDoorOut()
    gg_trg_BlackDoorOut = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_BlackDoorOut, gg_rct_BlackDoorOut)
    TriggerAddCondition(gg_trg_BlackDoorOut, Condition(Trig_BlackDoorOut_Conditions))
    TriggerAddAction(gg_trg_BlackDoorOut, Trig_BlackDoorOut_Actions)
end

function Trig_StartOnce_Conditions()
    if (not (GetUnitTypeId(GetEnteringUnit()) == FourCC("h00G"))) then
        return false
    end
    if (not (GetOwningPlayer(GetEnteringUnit()) == Player(0))) then
        return false
    end
    return true
end

function Trig_StartOnce_Actions()
    DisableTrigger(GetTriggeringTrigger())
    SetUnitPositionLoc(gg_unit_h00F_0469, GetRectCenter(gg_rct_Start1))
    IssuePointOrderLocBJ(gg_unit_h00F_0469, "patrol", GetRectCenter(gg_rct_Outro))
    AddUnitAnimationPropertiesBJ(true, "cinematic", gg_unit_h00F_0469)
    IssuePointOrderLocBJ(gg_unit_h00F_0480, "patrol", GetRectCenter(gg_rct_Outro5))
    AddUnitAnimationPropertiesBJ(true, "cinematic", gg_unit_h00F_0480)
    IssuePointOrderLocBJ(gg_unit_h00F_0472, "patrol", GetRectCenter(gg_rct_Patrol1))
    AddUnitAnimationPropertiesBJ(true, "cinematic", gg_unit_h00F_0379)
    IssuePointOrderLocBJ(gg_unit_h00F_0379, "patrol", GetRectCenter(gg_rct_Patrol1))
    AddUnitAnimationPropertiesBJ(true, "cinematic", gg_unit_h00F_0472)
    IssuePointOrderLocBJ(gg_unit_h00F_0470, "patrol", GetRectCenter(gg_rct_FinalBanditsSpawn))
    IssuePointOrderLocBJ(gg_unit_h00F_0471, "patrol", GetRectCenter(gg_rct_p1))
    IssuePointOrderLocBJ(gg_unit_h00F_0380, "patrol", GetRectCenter(gg_rct_p2))
    IssuePointOrderLocBJ(gg_unit_h00F_0495, "patrol", GetRectCenter(gg_rct_p3))
    IssuePointOrderLocBJ(gg_unit_h00F_0473, "patrol", GetRectCenter(gg_rct_p2))
    IssuePointOrderLocBJ(gg_unit_h00F_0496, "patrol", GetRectCenter(gg_rct_p4))
    IssuePointOrderLocBJ(gg_unit_h00F_0497, "patrol", GetRectCenter(gg_rct_EventKill))
    IssuePointOrderLocBJ(gg_unit_h00F_0498, "patrol", GetRectCenter(gg_rct_p5))
    IssuePointOrderLocBJ(gg_unit_h00F_0499, "patrol", GetRectCenter(gg_rct_p6))
end

function InitTrig_StartOnce()
    gg_trg_StartOnce = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_StartOnce, gg_rct_NoKainHere)
    TriggerAddCondition(gg_trg_StartOnce, Condition(Trig_StartOnce_Conditions))
    TriggerAddAction(gg_trg_StartOnce, Trig_StartOnce_Actions)
end

function Trig_StartRepeat_Conditions()
    if (not (GetUnitTypeId(GetEnteringUnit()) == FourCC("h00G"))) then
        return false
    end
    if (not (GetOwningPlayer(GetEnteringUnit()) == Player(0))) then
        return false
    end
    return true
end

function Trig_StartRepeat_Func007A()
    KillDestructable(GetEnumDestructable())
end

function Trig_StartRepeat_Actions()
    DisableTrigger(GetTriggeringTrigger())
    udg_ActiveTrader = GetEnteringUnit()
    SetPlayerAllianceStateBJ(Player(10), Player(0), bj_ALLIANCE_ALLIED)
    PlaySoundBJ(gg_snd_CaptainWhat3)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_NoKainHere)
    QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_589")
    EnumDestructablesInRectAll(gg_rct_VillageGate, Trig_StartRepeat_Func007A)
    TriggerSleepAction(2.00)
    EnableTrigger(GetTriggeringTrigger())
end

function InitTrig_StartRepeat()
    gg_trg_StartRepeat = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_StartRepeat, gg_rct_NoKainHere)
    TriggerAddCondition(gg_trg_StartRepeat, Condition(Trig_StartRepeat_Conditions))
    TriggerAddAction(gg_trg_StartRepeat, Trig_StartRepeat_Actions)
end

function Trig_StartKain_Conditions()
    if (not (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal"))) then
        return false
    end
    if (not (GetOwningPlayer(GetEnteringUnit()) == Player(0))) then
        return false
    end
    return true
end

function Trig_StartKain_Func004A()
    DestructableRestoreLife(GetEnumDestructable(), GetDestructableMaxLife(gg_dest_CTtc_15827), true)
end

function Trig_StartKain_Actions()
    DisableTrigger(GetTriggeringTrigger())
    SetDoodadAnimationRectBJ("stand", FourCC("D001"), gg_rct_NoKainHere)
    QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_587")
    EnumDestructablesInRectAll(gg_rct_VillageGate, Trig_StartKain_Func004A)
    TriggerSleepAction(3.00)
    EnableTrigger(GetTriggeringTrigger())
end

function InitTrig_StartKain()
    gg_trg_StartKain = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_StartKain, gg_rct_NoKainHere)
    TriggerAddCondition(gg_trg_StartKain, Condition(Trig_StartKain_Conditions))
    TriggerAddAction(gg_trg_StartKain, Trig_StartKain_Actions)
end

function Trig_TraderRespawn_Conditions()
    if (not (GetUnitTypeId(GetDyingUnit()) == FourCC("h00G"))) then
        return false
    end
    return true
end

function Trig_TraderRespawn_Actions()
    TriggerSleepAction(2.00)
    CreateNUnitsAtLoc(1, FourCC("h00G"), Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_TraderRespawn), bj_UNIT_FACING)
    IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_TraderReadyPoint))
end

function InitTrig_TraderRespawn()
    gg_trg_TraderRespawn = CreateTrigger()
    TriggerRegisterAnyUnitEventBJ(gg_trg_TraderRespawn, EVENT_PLAYER_UNIT_DEATH)
    TriggerAddCondition(gg_trg_TraderRespawn, Condition(Trig_TraderRespawn_Conditions))
    TriggerAddAction(gg_trg_TraderRespawn, Trig_TraderRespawn_Actions)
end

function Trig_Stop_Conditions()
    if (not (GetUnitTypeId(GetEnteringUnit()) == FourCC("h00G"))) then
        return false
    end
    if (not (GetOwningPlayer(GetEnteringUnit()) == Player(0))) then
        return false
    end
    return true
end

function Trig_Stop_Actions()
    SetPlayerAllianceStateBJ(Player(10), Player(0), bj_ALLIANCE_UNALLIED)
end

function InitTrig_Stop()
    gg_trg_Stop = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Stop, gg_rct_NoTraderHere)
    TriggerRegisterEnterRectSimple(gg_trg_Stop, gg_rct_NoTraderHere2)
    TriggerAddCondition(gg_trg_Stop, Condition(Trig_Stop_Conditions))
    TriggerAddAction(gg_trg_Stop, Trig_Stop_Actions)
end

function Trig_StopByDeath_Conditions()
    if (not (GetDyingUnit() == udg_ActiveTrader)) then
        return false
    end
    return true
end

function Trig_StopByDeath_Actions()
    SetPlayerAllianceStateBJ(Player(10), Player(0), bj_ALLIANCE_UNALLIED)
end

function InitTrig_StopByDeath()
    gg_trg_StopByDeath = CreateTrigger()
    TriggerRegisterAnyUnitEventBJ(gg_trg_StopByDeath, EVENT_PLAYER_UNIT_DEATH)
    TriggerRegisterAnyUnitEventBJ(gg_trg_StopByDeath, EVENT_PLAYER_UNIT_DECAY)
    TriggerRegisterAnyUnitEventBJ(gg_trg_StopByDeath, EVENT_PLAYER_UNIT_CHANGE_OWNER)
    TriggerAddCondition(gg_trg_StopByDeath, Condition(Trig_StopByDeath_Conditions))
    TriggerAddAction(gg_trg_StopByDeath, Trig_StopByDeath_Actions)
end

function Trig_Skull1Drop_Actions()
    CreateItemLoc(FourCC("I006"), GetUnitLoc(GetDyingUnit()))
    KillDestructable(gg_dest_LTrt_17524)
    KillDestructable(gg_dest_YTfb_3746)
    KillDestructable(gg_dest_YTfb_3781)
    KillDestructable(gg_dest_YTfb_3779)
    KillDestructable(gg_dest_YTfb_13080)
    KillDestructable(gg_dest_YTfb_13081)
    KillDestructable(gg_dest_YTfb_13079)
end

function InitTrig_Skull1Drop()
    gg_trg_Skull1Drop = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_Skull1Drop, gg_unit_u005_0013, EVENT_UNIT_DEATH)
    TriggerAddAction(gg_trg_Skull1Drop, Trig_Skull1Drop_Actions)
end

function Trig_Skull2Drop_Actions()
    CreateItemLoc(FourCC("I006"), GetUnitLoc(GetDyingUnit()))
end

function InitTrig_Skull2Drop()
    gg_trg_Skull2Drop = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_Skull2Drop, gg_unit_Giam_0440, EVENT_UNIT_DEATH)
    TriggerAddAction(gg_trg_Skull2Drop, Trig_Skull2Drop_Actions)
end

function Trig_Skull3Drop_Actions()
    PlaySoundBJ(gg_snd_HeroLichReady1)
    CreateItemLoc(FourCC("I006"), GetUnitLoc(GetDyingUnit()))
    TriggerSleepAction(1.10)
    UnitAddItemSwapped(GetLastCreatedItem(), gg_unit_Hpal_0002)
    DisableTrigger(gg_trg_TpToNecro)
    CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 1.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    TriggerSleepAction(1.10)
    CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 4.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
    SetUnitPositionLoc(udg_mainHero, GetRectCenter(gg_rct_TPToNecro))
    udg_RevivePoint = gg_rct_TPToNecro
    TriggerSleepAction(2.00)
    KillUnit(gg_unit_hprt_0060)
end

function InitTrig_Skull3Drop()
    gg_trg_Skull3Drop = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_Skull3Drop, gg_unit_u00B_0054, EVENT_UNIT_DEATH)
    TriggerAddAction(gg_trg_Skull3Drop, Trig_Skull3Drop_Actions)
end

function Trig_KeyDrop_Actions()
    CreateItemLoc(FourCC("I007"), GetUnitLoc(GetDyingUnit()))
        CQX,CQY=2600,7400
        CreateForUnitWayToPoint(mainHero,CQX,CQY)
end

function InitTrig_KeyDrop()
    gg_trg_KeyDrop = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_KeyDrop, gg_unit_u00A_0384, EVENT_UNIT_DEATH)
    TriggerAddAction(gg_trg_KeyDrop, Trig_KeyDrop_Actions)
end

function Trig_Skull1_Conditions()
    if (not (GetEnteringUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_Skull1_Func001Func001Func007C()
    if (not (udg_Skulls == 3)) then
        return false
    end
    return true
end

function Trig_Skull1_Func001Func001Func009C()
    if (GetItemTypeId(UnitItemInSlotBJ(gg_unit_Hpal_0002, GetForLoopIndexA())) == FourCC("I006")) then
        return true
    end
    return false
end

function Trig_Skull1_Func001Func001C()
    if (not Trig_Skull1_Func001Func001Func009C()) then
        return false
    end
    return true
end

function Trig_Skull1_Actions()
    bj_forLoopAIndex = 1
    bj_forLoopAIndexEnd = 6
    while (true) do
        if (bj_forLoopAIndex > bj_forLoopAIndexEnd) then break end
        if (Trig_Skull1_Func001Func001C()) then
            DisableTrigger(GetTriggeringTrigger())
            SetDoodadAnimationRectBJ("show", FourCC("D02N"), gg_rct_Skull3)
            udg_tmpitem = UnitItemInSlotBJ(udg_mainHero, GetForLoopIndexA())
                        ItemGlobalInfo(udg_tmpitem,1)
            RemoveItem(UnitItemInSlotBJ(udg_mainHero, GetForLoopIndexA()))
            udg_Skulls = (udg_Skulls + 1)
            if (Trig_Skull1_Func001Func001Func007C()) then
                CreateNUnitsAtLoc(1, FourCC("hprt"), Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_SkullPortal), 270.00)
                PlaySoundBJ(gg_snd_UndeadDissipate2)
                SetUnitAnimation(GetLastCreatedUnit(), "birth")
                TriggerSleepAction(2)
                EnableTrigger(gg_trg_SkullTP)
            else
            end
            return 
        else
        end
        bj_forLoopAIndex = bj_forLoopAIndex + 1
    end
end

function InitTrig_Skull1()
    gg_trg_Skull1 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Skull1, gg_rct_Skull3)
    TriggerAddCondition(gg_trg_Skull1, Condition(Trig_Skull1_Conditions))
    TriggerAddAction(gg_trg_Skull1, Trig_Skull1_Actions)
end

function Trig_Skull2_Conditions()
    if (not (GetEnteringUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_Skull2_Func001Func001Func007C()
    if (not (udg_Skulls == 3)) then
        return false
    end
    return true
end

function Trig_Skull2_Func001Func001Func009C()
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, GetForLoopIndexA())) == FourCC("I006")) then
        return true
    end
    return false
end

function Trig_Skull2_Func001Func001C()
    if (not Trig_Skull2_Func001Func001Func009C()) then
        return false
    end
    return true
end

function Trig_Skull2_Actions()
    bj_forLoopAIndex = 1
    bj_forLoopAIndexEnd = 6
    while (true) do
        if (bj_forLoopAIndex > bj_forLoopAIndexEnd) then break end
        if (Trig_Skull2_Func001Func001C()) then
            DisableTrigger(GetTriggeringTrigger())
            SetDoodadAnimationRectBJ("show", FourCC("D02N"), gg_rct_Skull2)
            udg_tmpitem = UnitItemInSlotBJ(udg_mainHero, GetForLoopIndexA())
                        ItemGlobalInfo(udg_tmpitem,1)
            RemoveItem(UnitItemInSlotBJ(udg_mainHero, GetForLoopIndexA()))
            udg_Skulls = (udg_Skulls + 1)
            if (Trig_Skull2_Func001Func001Func007C()) then
                CreateNUnitsAtLoc(1, FourCC("hprt"), Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_SkullPortal), 270.00)
                PlaySoundBJ(gg_snd_UndeadDissipate2)
                SetUnitAnimation(GetLastCreatedUnit(), "birth")
                TriggerSleepAction(2)
                EnableTrigger(gg_trg_SkullTP)
            else
            end
            return 
        else
        end
        bj_forLoopAIndex = bj_forLoopAIndex + 1
    end
end

function InitTrig_Skull2()
    gg_trg_Skull2 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Skull2, gg_rct_Skull2)
    TriggerAddCondition(gg_trg_Skull2, Condition(Trig_Skull2_Conditions))
    TriggerAddAction(gg_trg_Skull2, Trig_Skull2_Actions)
end

function Trig_Skull3_Conditions()
    if (not (GetEnteringUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_Skull3_Func001Func001Func007C()
    if (not (udg_Skulls == 3)) then
        return false
    end
    return true
end

function Trig_Skull3_Func001Func001Func009C()
    if (GetItemTypeId(UnitItemInSlotBJ(udg_mainHero, GetForLoopIndexA())) == FourCC("I006")) then
        return true
    end
    return false
end

function Trig_Skull3_Func001Func001C()
    if (not Trig_Skull3_Func001Func001Func009C()) then
        return false
    end
    return true
end

function Trig_Skull3_Actions()
    bj_forLoopAIndex = 1
    bj_forLoopAIndexEnd = 6
    while (true) do
        if (bj_forLoopAIndex > bj_forLoopAIndexEnd) then break end
        if (Trig_Skull3_Func001Func001C()) then
            DisableTrigger(GetTriggeringTrigger())
            SetDoodadAnimationRectBJ("show", FourCC("D02N"), gg_rct_Skull1)
            udg_tmpitem = UnitItemInSlotBJ(udg_mainHero, GetForLoopIndexA())
                        ItemGlobalInfo(udg_tmpitem,1)
            RemoveItem(UnitItemInSlotBJ(udg_mainHero, GetForLoopIndexA()))
            udg_Skulls = (udg_Skulls + 1)
            if (Trig_Skull3_Func001Func001Func007C()) then
                CreateNUnitsAtLoc(1, FourCC("hprt"), Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_SkullPortal), 270.00)
                PlaySoundBJ(gg_snd_UndeadDissipate2)
                SetUnitAnimation(GetLastCreatedUnit(), "birth")
                TriggerSleepAction(2)
                EnableTrigger(gg_trg_SkullTP)
            else
            end
            return 
        else
        end
        bj_forLoopAIndex = bj_forLoopAIndex + 1
    end
end

function InitTrig_Skull3()
    gg_trg_Skull3 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Skull3, gg_rct_Skull1)
    TriggerAddCondition(gg_trg_Skull3, Condition(Trig_Skull3_Conditions))
    TriggerAddAction(gg_trg_Skull3, Trig_Skull3_Actions)
end

function Trig_SkullTP_Conditions()
    if (not (GetEnteringUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_SkullTP_Actions()
    SetUnitPositionLoc(GetEnteringUnit(), GetRectCenter(gg_rct_Cinematic_1))
end

function InitTrig_SkullTP()
    gg_trg_SkullTP = CreateTrigger()
    DisableTrigger(gg_trg_SkullTP)
    TriggerRegisterEnterRectSimple(gg_trg_SkullTP, gg_rct_SkullPortal)
    TriggerAddCondition(gg_trg_SkullTP, Condition(Trig_SkullTP_Conditions))
    TriggerAddAction(gg_trg_SkullTP, Trig_SkullTP_Actions)
end

function Trig_BanditsRespawn_Conditions()
    if (not (GetUnitTypeId(GetDyingUnit()) == FourCC("h00B"))) then
        return false
    end
    if (not (IsDestructableAliveBJ(gg_dest_DTlv_15491) == true)) then
        return false
    end
    return true
end

function Trig_BanditsRespawn_Actions()
    CreateNUnitsAtLoc(1, FourCC("h00B"), Player(PLAYER_NEUTRAL_AGGRESSIVE), GetRectCenter(gg_rct_RespawnBandit), bj_UNIT_FACING)
    IssuePointOrderLocBJ(GetLastCreatedUnit(), "move", GetRectCenter(gg_rct_BanditGate))
end

function InitTrig_BanditsRespawn()
    gg_trg_BanditsRespawn = CreateTrigger()
    TriggerRegisterPlayerUnitEventSimple(gg_trg_BanditsRespawn, Player(PLAYER_NEUTRAL_AGGRESSIVE), EVENT_PLAYER_UNIT_DEATH)
    TriggerAddCondition(gg_trg_BanditsRespawn, Condition(Trig_BanditsRespawn_Conditions))
    TriggerAddAction(gg_trg_BanditsRespawn, Trig_BanditsRespawn_Actions)
end

function Trig_Outro_1_Func005C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_Outro_1_Conditions()
    if (not Trig_Outro_1_Func005C()) then
        return false
    end
    return true
end

function Trig_Outro_1_Actions()
    DisableTrigger(GetTriggeringTrigger())
    PlaySoundBJ(gg_snd_KainRevenge)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_348", nil, "TRIGSTR_349", bj_TIMETYPE_ADD, 0, true)
    udg_RevivePoint = gg_rct_Dark8
end

function InitTrig_Outro_1()
    gg_trg_Outro_1 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Outro_1, gg_rct_LeaveMausoleum)
    TriggerAddCondition(gg_trg_Outro_1, Condition(Trig_Outro_1_Conditions))
    TriggerAddAction(gg_trg_Outro_1, Trig_Outro_1_Actions)
end

function Trig_Outro_Bandits_Func003C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_Outro_Bandits_Conditions()
    if (not Trig_Outro_Bandits_Func003C()) then
        return false
    end
    return true
end

function Trig_Outro_Bandits_Actions()
    DisableTrigger(GetTriggeringTrigger())
    IssueTargetOrderBJ(gg_unit_h00B_0051, "attack", gg_unit_n006_0049)
end

function InitTrig_Outro_Bandits()
    gg_trg_Outro_Bandits = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Outro_Bandits, gg_rct_EventKill)
    TriggerAddCondition(gg_trg_Outro_Bandits, Condition(Trig_Outro_Bandits_Conditions))
    TriggerAddAction(gg_trg_Outro_Bandits, Trig_Outro_Bandits_Actions)
end

function Trig_Outro_2_Func005C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_Outro_2_Conditions()
    if (not Trig_Outro_2_Func005C()) then
        return false
    end
    return true
end

function Trig_Outro_2_Actions()
    DisableTrigger(GetTriggeringTrigger())
    PlaySoundBJ(gg_snd_KainBrigand1)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_424", nil, "TRIGSTR_425", bj_TIMETYPE_ADD, 0, true)
        CQX,CQY=-5800,10700
end

function InitTrig_Outro_2()
    gg_trg_Outro_2 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Outro_2, gg_rct_Outro2)
    TriggerAddCondition(gg_trg_Outro_2, Condition(Trig_Outro_2_Conditions))
    TriggerAddAction(gg_trg_Outro_2, Trig_Outro_2_Actions)
end

function Trig_Outro_3_Func004C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_Outro_3_Conditions()
    if (not Trig_Outro_3_Func004C()) then
        return false
    end
    return true
end

function Trig_Outro_3_Actions()
    DisableTrigger(GetTriggeringTrigger())
    PlaySoundBJ(gg_snd_KainBrigand2)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_426", nil, "TRIGSTR_427", bj_TIMETYPE_ADD, 0, true)
end

function InitTrig_Outro_3()
    gg_trg_Outro_3 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Outro_3, gg_rct_Outro3)
    TriggerAddCondition(gg_trg_Outro_3, Condition(Trig_Outro_3_Conditions))
    TriggerAddAction(gg_trg_Outro_3, Trig_Outro_3_Actions)
end

function Trig_Outro_4_Func004C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_Outro_4_Conditions()
    if (not Trig_Outro_4_Func004C()) then
        return false
    end
    return true
end

function Trig_Outro_4_Actions()
    DisableTrigger(GetTriggeringTrigger())
    PlaySoundBJ(gg_snd_KainBrigand3)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_428", nil, "TRIGSTR_429", bj_TIMETYPE_ADD, 0, true)
end

function InitTrig_Outro_4()
    gg_trg_Outro_4 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Outro_4, gg_rct_Outro4)
    TriggerAddCondition(gg_trg_Outro_4, Condition(Trig_Outro_4_Conditions))
    TriggerAddAction(gg_trg_Outro_4, Trig_Outro_4_Actions)
end

function Trig_Outro_5_Func003C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_Outro_5_Conditions()
    if (not Trig_Outro_5_Func003C()) then
        return false
    end
    return true
end

function Trig_Outro_5_Actions()
    DisableTrigger(GetTriggeringTrigger())
    ConditionalTriggerExecute(gg_trg_Outro_5_Yes)
end

function InitTrig_Outro_5()
    gg_trg_Outro_5 = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Outro_5, gg_rct_Outro5)
    TriggerAddCondition(gg_trg_Outro_5, Condition(Trig_Outro_5_Conditions))
    TriggerAddAction(gg_trg_Outro_5, Trig_Outro_5_Actions)
end

function Trig_Outro_5_Yes_Func001A()
    PauseUnitBJ(false, GetEnumUnit())
end

function Trig_Outro_5_Yes_Func009A()
    IssueTargetOrderBJ(GetEnumUnit(), "attack", gg_unit_Hpal_0002)
end

function Trig_Outro_5_Yes_Func010C()
    if (not (GetClickedButtonBJ() == udg_Yes)) then
        return false
    end
    if (not (IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == true)) then
        return false
    end
    return true
end

function Trig_Outro_5_Yes_Actions()
    ForGroupBJ(GetUnitsInRectAll(gg_rct_FinalZone), Trig_Outro_5_Yes_Func001A)
    DisableTrigger(GetTriggeringTrigger())
    EnableTrigger(gg_trg_PreventFromLeaving)
    EnableTrigger(gg_trg_CheckForEveryoneDeaths)
    udg_RevivePoint = gg_rct_Outro5
    PlaySoundBJ(gg_snd_KainBrigand4)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_580", nil, "TRIGSTR_581", bj_TIMETYPE_ADD, 0, true)
    CreateNUnitsAtLoc(6, FourCC("h00B"), Player(PLAYER_NEUTRAL_AGGRESSIVE), GetRectCenter(gg_rct_FinalBanditsSpawn), bj_UNIT_FACING)
    ForGroupBJ(GetUnitsInRectAll(gg_rct_FinalBanditsSpawn), Trig_Outro_5_Yes_Func009A)
    if (Trig_Outro_5_Yes_Func010C()) then
    else
        SetUnitPositionLoc(gg_unit_Hpal_0002, GetRectCenter(gg_rct_FinalBanditsSpawn))
    end
end

function InitTrig_Outro_5_Yes()
    gg_trg_Outro_5_Yes = CreateTrigger()
    TriggerAddAction(gg_trg_Outro_5_Yes, Trig_Outro_5_Yes_Actions)
end

function Trig_Outro_6_Actions()
    TriggerSleepAction(0.50)
    DisableTrigger(GetTriggeringTrigger())
    PlaySoundBJ(gg_snd_KainKilled1)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_432", nil, "TRIGSTR_433", bj_TIMETYPE_ADD, 5.00, true)
end

function InitTrig_Outro_6()
    gg_trg_Outro_6 = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_Outro_6, gg_unit_h00C_0341, EVENT_UNIT_DEATH)
    TriggerAddAction(gg_trg_Outro_6, Trig_Outro_6_Actions)
end

function Trig_PreventFromLeaving_Func003C()
    if (GetUnitTypeId(GetLeavingUnit()) == FourCC("Hpal")) then
        return true
    end
    return false
end

function Trig_PreventFromLeaving_Conditions()
    if (not Trig_PreventFromLeaving_Func003C()) then
        return false
    end
    return true
end

function Trig_PreventFromLeaving_Actions()
    SetUnitPositionLoc(GetLeavingUnit(), GetRectCenter(gg_rct_DoorWayOpen5))
    QuestMessageBJ(GetPlayersAll(), bj_QUESTMESSAGE_ALWAYSHINT, "TRIGSTR_463")
end

function InitTrig_PreventFromLeaving()
    gg_trg_PreventFromLeaving = CreateTrigger()
    DisableTrigger(gg_trg_PreventFromLeaving)
    TriggerRegisterLeaveRectSimple(gg_trg_PreventFromLeaving, gg_rct_FinalZone)
    TriggerAddCondition(gg_trg_PreventFromLeaving, Condition(Trig_PreventFromLeaving_Conditions))
    TriggerAddAction(gg_trg_PreventFromLeaving, Trig_PreventFromLeaving_Actions)
end

function Trig_CheckForEveryoneDeaths_Func001Func001001001002001()
    return (GetOwningPlayer(GetFilterUnit()) == Player(PLAYER_NEUTRAL_AGGRESSIVE))
end

function Trig_CheckForEveryoneDeaths_Func001Func001001001002002()
    return (GetUnitStateSwap(UNIT_STATE_LIFE, GetFilterUnit()) >= 1.00)
end

function Trig_CheckForEveryoneDeaths_Func001Func001001001002()
    return GetBooleanAnd(Trig_CheckForEveryoneDeaths_Func001Func001001001002001(), Trig_CheckForEveryoneDeaths_Func001Func001001001002002())
end

function Trig_CheckForEveryoneDeaths_Func001C()
    if (not (CountUnitsInGroup(GetUnitsInRectMatching(gg_rct_FinalZone, Condition(Trig_CheckForEveryoneDeaths_Func001Func001001001002))) == 0)) then
        return false
    end
    return true
end

function Trig_CheckForEveryoneDeaths_Actions()
    if (Trig_CheckForEveryoneDeaths_Func001C()) then
        DisableTrigger(GetTriggeringTrigger())
        PlaySoundBJ(gg_snd_KainKilled2)
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_469", nil, "TRIGSTR_470", bj_TIMETYPE_ADD, 4.00, true)
        TriggerSleepAction(5.00)
        TriggerSleepAction(0.50)
        SetUnitPositionLoc(gg_unit_uplg_0418, GetRectCenter(gg_rct_Outro))
        TriggerSleepAction(1.00)
        SetUnitPositionLoc(gg_unit_unec_0406, GetRectCenter(gg_rct_Outro))
        PlaySoundBJ(gg_snd_Outro)
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_471", nil, "TRIGSTR_472", bj_TIMETYPE_ADD, 8.00, true)
        TriggerSleepAction(10.00)
        CustomVictoryBJ(Player(0), true, true)
    else
    end
end

function InitTrig_CheckForEveryoneDeaths()
    gg_trg_CheckForEveryoneDeaths = CreateTrigger()
    DisableTrigger(gg_trg_CheckForEveryoneDeaths)
    TriggerRegisterTimerEventPeriodic(gg_trg_CheckForEveryoneDeaths, 2)
    TriggerAddAction(gg_trg_CheckForEveryoneDeaths, Trig_CheckForEveryoneDeaths_Actions)
end

function Trig_OpenBanditGate_Actions()
    KillDestructable(gg_dest_YTfb_15275)
    KillDestructable(gg_dest_YTfb_15274)
    KillDestructable(gg_dest_YTfb_15273)
    KillDestructable(gg_dest_YTfb_15272)
    ModifyGateBJ(bj_GATEOPERATION_OPEN, gg_dest_DTg7_13495)
end

function InitTrig_OpenBanditGate()
    gg_trg_OpenBanditGate = CreateTrigger()
    TriggerRegisterDeathEvent(gg_trg_OpenBanditGate, gg_dest_DTlv_15491)
    TriggerAddAction(gg_trg_OpenBanditGate, Trig_OpenBanditGate_Actions)
end

function Trig_OpenBanditGate2_Actions()
    KillDestructable(gg_dest_YTfb_16985)
    KillDestructable(gg_dest_YTfb_16986)
    KillDestructable(gg_dest_YTfb_16987)
    KillDestructable(gg_dest_YTfb_16988)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_OpenGate6)
end

function InitTrig_OpenBanditGate2()
    gg_trg_OpenBanditGate2 = CreateTrigger()
    TriggerRegisterDeathEvent(gg_trg_OpenBanditGate2, gg_dest_DTlv_17404)
    TriggerAddAction(gg_trg_OpenBanditGate2, Trig_OpenBanditGate2_Actions)
end

function Trig_OpenBanditGate3_Func006A()
    DestructableRestoreLife(GetEnumDestructable(), GetDestructableMaxLife(gg_dest_YTfb_17008), true)
end

function Trig_OpenBanditGate3_Actions()
    KillDestructable(gg_dest_YTfb_17364)
    KillDestructable(gg_dest_YTfb_17362)
    KillDestructable(gg_dest_YTfb_16554)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_NoTraderHere2)
    SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE), Player(0), bj_ALLIANCE_UNALLIED)
    EnumDestructablesInRectAll(gg_rct_OpenGate6, Trig_OpenBanditGate3_Func006A)
    SetDoodadAnimationRectBJ("stand", FourCC("D001"), gg_rct_OpenGate6)
    DestructableRestoreLife(gg_dest_DTlv_17404, GetDestructableMaxLife(gg_dest_YTfb_17008), true)
    DisableTrigger(gg_trg_StartOnce)
    DisableTrigger(gg_trg_TraderRespawn)
end

function InitTrig_OpenBanditGate3()
    gg_trg_OpenBanditGate3 = CreateTrigger()
    TriggerRegisterDeathEvent(gg_trg_OpenBanditGate3, gg_dest_DTlv_16350)
    TriggerAddAction(gg_trg_OpenBanditGate3, Trig_OpenBanditGate3_Actions)
end

function Trig_LightOnEgg_Func001C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_LightOnEgg_Conditions()
    if (not Trig_LightOnEgg_Func001C()) then
        return false
    end
    return true
end

function Trig_LightOnEgg_Actions()
    SetTimeOfDay(12.00)
    SetTerrainFogExBJ(0, 500.00, 2500.00, 0, 25.00, 25.00, 20.00)
    TriggerSleepAction(0.10)
    EnableTrigger(gg_trg_LightDamage)
end

function InitTrig_LightOnEgg()
    gg_trg_LightOnEgg = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_LightOnEgg, gg_rct_Light7)
    TriggerAddCondition(gg_trg_LightOnEgg, Condition(Trig_LightOnEgg_Conditions))
    TriggerAddAction(gg_trg_LightOnEgg, Trig_LightOnEgg_Actions)
end

function Trig_LightOffEgg_Func001C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_LightOffEgg_Conditions()
    if (not Trig_LightOffEgg_Func001C()) then
        return false
    end
    return true
end

function Trig_LightOffEgg_Actions()
    SetTimeOfDay(0.00)
    SetTerrainFogExBJ(0, 0.00, 2000.00, 0, 0.00, 0.00, 0.00)
    EnableWeatherEffect(GetLastCreatedWeatherEffect(), false)
    DisableTrigger(gg_trg_LightDamage)
end

function InitTrig_LightOffEgg()
    gg_trg_LightOffEgg = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_LightOffEgg, gg_rct_Dark7)
    TriggerRegisterEnterRectSimple(gg_trg_LightOffEgg, gg_rct_Dark8)
    TriggerAddCondition(gg_trg_LightOffEgg, Condition(Trig_LightOffEgg_Conditions))
    TriggerAddAction(gg_trg_LightOffEgg, Trig_LightOffEgg_Actions)
end

function Trig_BergiCave_Conditions()
    if (not (GetEnteringUnit() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_BergiCave_Actions()
    DisableTrigger(GetTriggeringTrigger())
    TriggerSleepAction(1.00)
    PlaySoundBJ(gg_snd_PeonPissed4)
    ResetUnitAnimation(gg_unit_opeo_0070)
    SetUnitFacingToFaceUnitTimed(gg_unit_opeo_0070, gg_unit_Hpal_0002, 2.00)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), gg_unit_opeo_0070, "TRIGSTR_232", nil, "TRIGSTR_233", bj_TIMETYPE_ADD, 0, true)
    SetUnitLookAt(gg_unit_opeo_0070, "bone_head", gg_unit_Hpal_0002, 0, 0, 90)
    TriggerSleepAction(3.00)
    CreateItemLoc(FourCC("manh"), GetUnitLoc(gg_unit_opeo_0070))
    IssueTargetOrderBJ(gg_unit_obot_0077, "load", gg_unit_opeo_0070)
    PlaySoundBJ(gg_snd_PeonPissed3)
    TriggerSleepAction(1.00)
    IssuePointOrderLocBJ(gg_unit_obot_0077, "move", GetRectCenter(gg_rct_BergiFinish))
end

function InitTrig_BergiCave()
    gg_trg_BergiCave = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_BergiCave, gg_rct_Bergi_Run_Away)
    TriggerAddCondition(gg_trg_BergiCave, Condition(Trig_BergiCave_Conditions))
    TriggerAddAction(gg_trg_BergiCave, Trig_BergiCave_Actions)
end

function Trig_Rabbits_Func001C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_Rabbits_Conditions()
    if (not Trig_Rabbits_Func001C()) then
        return false
    end
    return true
end

function Trig_Rabbits_Func003A()
    ExplodeUnitBJ(GetEnumUnit())
end

function Trig_Rabbits_Actions()
    DisableTrigger(GetTriggeringTrigger())
    ForGroupBJ(GetUnitsInRectOfPlayer(gg_rct_Region_016, Player(PLAYER_NEUTRAL_PASSIVE)), Trig_Rabbits_Func003A)
    TriggerSleepAction(0.25)
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_225", nil, ("Never liked rabbits. C u, " .. GetPlayerName(Player(0))), bj_TIMETYPE_ADD, 0, true)
    CreateNUnitsAtLoc(1, FourCC("n001"), Player(PLAYER_NEUTRAL_PASSIVE), GetRectCenter(gg_rct_KotoBogPortal), 338.00)
    SetUnitInvulnerable(GetLastCreatedUnit(), true)
    SetUnitAnimation(GetLastCreatedUnit(), "birth")
    TriggerSleepAction(1.00)
    IssuePointOrderLocBJ(gg_unit_n000_0061, "move", GetRectCenter(gg_rct_KotoBogPortal))
end

function InitTrig_Rabbits()
    gg_trg_Rabbits = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Rabbits, gg_rct_Region_016)
    TriggerAddCondition(gg_trg_Rabbits, Condition(Trig_Rabbits_Conditions))
    TriggerAddAction(gg_trg_Rabbits, Trig_Rabbits_Actions)
end

function Trig_RabbitsEnd_Conditions()
    if (not (GetEnteringUnit() == gg_unit_n000_0061)) then
        return false
    end
    return true
end

function Trig_RabbitsEnd_Actions()
    DisableTrigger(GetTriggeringTrigger())
    SetUnitPositionLoc(gg_unit_n000_0061, GetRectCenter(gg_rct_Region_018))
    TriggerSleepAction(0.25)
    KillUnit(GetLastCreatedUnit())
    TriggerSleepAction(0.25)
    CreateItemLoc(FourCC("manh"), GetRectCenter(gg_rct_KotoBogPortal))
end

function InitTrig_RabbitsEnd()
    gg_trg_RabbitsEnd = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_RabbitsEnd, gg_rct_KotoBogPortal)
    TriggerAddCondition(gg_trg_RabbitsEnd, Condition(Trig_RabbitsEnd_Conditions))
    TriggerAddAction(gg_trg_RabbitsEnd, Trig_RabbitsEnd_Actions)
end

function Trig_KotoBog_Conditions()
    if (not (GetEnteringUnit() == gg_unit_H000_0004)) then
        return false
    end
    return true
end

function Trig_KotoBog_Func005C()
    if (not (udg_Cat == 0)) then
        return false
    end
    return true
end

function Trig_KotoBog_Func006C()
    if (not (udg_Cat == 1)) then
        return false
    end
    return true
end

function Trig_KotoBog_Func007C()
    if (not (udg_Cat == 2)) then
        return false
    end
    return true
end

function Trig_KotoBog_Func008C()
    if (not (udg_Cat == 3)) then
        return false
    end
    return true
end

function Trig_KotoBog_Func009C()
    if (not (udg_Cat == 4)) then
        return false
    end
    return true
end

function Trig_KotoBog_Func010C()
    if (not (udg_Cat == 5)) then
        return false
    end
    return true
end

function Trig_KotoBog_Func011C()
    if (not (udg_Cat == 6)) then
        return false
    end
    return true
end

function Trig_KotoBog_Func012C()
    if (not (udg_Cat == 7)) then
        return false
    end
    return true
end

function Trig_KotoBog_Func013C()
    if (not (udg_Cat == 8)) then
        return false
    end
    return true
end

function Trig_KotoBog_Func014C()
    if (not (udg_Cat == 9)) then
        return false
    end
    return true
end

function Trig_KotoBog_Func015C()
    if (not (udg_Cat == 15)) then
        return false
    end
    return true
end

function Trig_KotoBog_Actions()
    PlaySoundBJ(gg_snd_cat_y)
    DisableTrigger(GetTriggeringTrigger())
    if (Trig_KotoBog_Func005C()) then
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_203", nil, "TRIGSTR_204", bj_TIMETYPE_ADD, 0, true)
    else
    end
    if (Trig_KotoBog_Func006C()) then
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_205", nil, "TRIGSTR_206", bj_TIMETYPE_ADD, 0, true)
    else
    end
    if (Trig_KotoBog_Func007C()) then
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_207", nil, "TRIGSTR_208", bj_TIMETYPE_ADD, 0, true)
    else
    end
    if (Trig_KotoBog_Func008C()) then
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_209", nil, "TRIGSTR_210", bj_TIMETYPE_ADD, 0, true)
    else
    end
    if (Trig_KotoBog_Func009C()) then
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_211", nil, "TRIGSTR_212", bj_TIMETYPE_ADD, 0, true)
    else
    end
    if (Trig_KotoBog_Func010C()) then
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_213", nil, "TRIGSTR_214", bj_TIMETYPE_ADD, 0, true)
    else
    end
    if (Trig_KotoBog_Func011C()) then
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_215", nil, "TRIGSTR_216", bj_TIMETYPE_ADD, 0, true)
    else
    end
    if (Trig_KotoBog_Func012C()) then
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_217", nil, "TRIGSTR_218", bj_TIMETYPE_ADD, 0, true)
    else
    end
    if (Trig_KotoBog_Func013C()) then
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_219", nil, "TRIGSTR_220", bj_TIMETYPE_ADD, 0, true)
    else
    end
    if (Trig_KotoBog_Func014C()) then
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_221", nil, "TRIGSTR_222", bj_TIMETYPE_ADD, 0, true)
    else
    end
    if (Trig_KotoBog_Func015C()) then
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_223", nil, "TRIGSTR_224", bj_TIMETYPE_ADD, 0, true)
        SetUnitPositionLoc(gg_unit_H000_0004, GetRectCenter(gg_rct_Intro_Trap))
    else
    end
    TriggerSleepAction(2)
    udg_Cat = (udg_Cat + 1)
    EnableTrigger(GetTriggeringTrigger())
end

function InitTrig_KotoBog()
    gg_trg_KotoBog = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_KotoBog, gg_rct_KotobogInteract)
    TriggerAddCondition(gg_trg_KotoBog, Condition(Trig_KotoBog_Conditions))
    TriggerAddAction(gg_trg_KotoBog, Trig_KotoBog_Actions)
end

function Trig_xWizard_Func004C()
    if (not (udg_xWizard == 0)) then
        return false
    end
    return true
end

function Trig_xWizard_Func005C()
    if (not (udg_xWizard == 1)) then
        return false
    end
    return true
end

function Trig_xWizard_Func006C()
    if (not (udg_xWizard == 2)) then
        return false
    end
    return true
end

function Trig_xWizard_Func007C()
    if (not (udg_xWizard == 3)) then
        return false
    end
    return true
end

function Trig_xWizard_Func008C()
    if (not (udg_xWizard == 4)) then
        return false
    end
    return true
end

function Trig_xWizard_Actions()
    DisableTrigger(GetTriggeringTrigger())
    IssuePointOrderLocBJ(gg_unit_n008_0067, "move", GetRandomLocInRect(gg_rct_xWizardPatrol))
    if (Trig_xWizard_Func004C()) then
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_485", nil, "TRIGSTR_486", bj_TIMETYPE_ADD, 0, true)
    else
    end
    if (Trig_xWizard_Func005C()) then
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_507", nil, "TRIGSTR_508", bj_TIMETYPE_ADD, 0, true)
    else
    end
    if (Trig_xWizard_Func006C()) then
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_509", nil, "TRIGSTR_510", bj_TIMETYPE_ADD, 0, true)
    else
    end
    if (Trig_xWizard_Func007C()) then
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_511", nil, "TRIGSTR_512", bj_TIMETYPE_ADD, 0, true)
    else
    end
    if (Trig_xWizard_Func008C()) then
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_513", nil, "TRIGSTR_514", bj_TIMETYPE_ADD, 0, true)
    else
    end
    TriggerSleepAction(2)
    udg_xWizard = (udg_xWizard + 1)
    EnableTrigger(GetTriggeringTrigger())
end

function InitTrig_xWizard()
    gg_trg_xWizard = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_xWizard, gg_rct_xWizard)
    TriggerAddAction(gg_trg_xWizard, Trig_xWizard_Actions)
end

function Trig_MrOgreman_Actions()
    DisableTrigger(GetTriggeringTrigger())
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_534", nil, "TRIGSTR_535", bj_TIMETYPE_ADD, 0, true)
    PlaySoundBJ(gg_snd_OgreWhat1)
    TriggerSleepAction(1.00)
    PlaySoundBJ(gg_snd_OgreWhat2)
end

function InitTrig_MrOgreman()
    gg_trg_MrOgreman = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_MrOgreman, gg_rct_OgreMan)
    TriggerAddAction(gg_trg_MrOgreman, Trig_MrOgreman_Actions)
end

function Trig_xWizardRescue_Conditions()
    if (not (GetLeavingUnit() == gg_unit_n008_0067)) then
        return false
    end
    return true
end

function Trig_xWizardRescue_Actions()
    DisableTrigger(gg_trg_xWizard)
    DisableTrigger(GetTriggeringTrigger())
    TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_520", nil, "TRIGSTR_521", bj_TIMETYPE_ADD, 0, true)
    TriggerSleepAction(2)
    CreateItemLoc(FourCC("manh"), GetRectCenter(gg_rct_xWizard))
    IssuePointOrderLocBJ(gg_unit_n008_0067, "move", GetRectCenter(gg_rct_Region_131))
end

function InitTrig_xWizardRescue()
    gg_trg_xWizardRescue = CreateTrigger()
    TriggerRegisterLeaveRectSimple(gg_trg_xWizardRescue, gg_rct_xWizardPatrol)
    TriggerAddCondition(gg_trg_xWizardRescue, Condition(Trig_xWizardRescue_Conditions))
    TriggerAddAction(gg_trg_xWizardRescue, Trig_xWizardRescue_Actions)
end

function Trig_CATapult_Actions()
    IssueTargetOrderBJ(gg_unit_ocat_0161, "attackonce", gg_unit_zcso_0298)
end

function InitTrig_CATapult()
    gg_trg_CATapult = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_CATapult, gg_unit_ocat_0161, EVENT_UNIT_DAMAGED)
    TriggerAddAction(gg_trg_CATapult, Trig_CATapult_Actions)
end

function Trig_ExplodeStarcraft_Conditions()
    if (not (GetEventDamageSource() == gg_unit_ocat_0161)) then
        return false
    end
    return true
end

function Trig_ExplodeStarcraft_Actions()
    DisableTrigger(GetTriggeringTrigger())
    ExplodeUnitBJ(gg_unit_zcso_0298)
    ExplodeUnitBJ(gg_unit_zcso_0297)
    ExplodeUnitBJ(gg_unit_zcso_0295)
    ExplodeUnitBJ(gg_unit_zzrg_0301)
    ExplodeUnitBJ(gg_unit_zzrg_0300)
    ExplodeUnitBJ(gg_unit_zzrg_0299)
    TriggerSleepAction(1.00)
    AddSpecialEffectTargetUnitBJ("overhead", gg_unit_n004_0296, "Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
    AddSpecialEffectTargetUnitBJ("overhead", gg_unit_o001_0294, "Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
    SetUnitFacingToFaceUnitTimed(gg_unit_n004_0296, udg_mainHero, 0.50)
    SetUnitFacingToFaceUnitTimed(gg_unit_o001_0294, udg_mainHero, 0.50)
end

function InitTrig_ExplodeStarcraft()
    gg_trg_ExplodeStarcraft = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_ExplodeStarcraft, gg_unit_zcso_0298, EVENT_UNIT_DAMAGED)
    TriggerAddCondition(gg_trg_ExplodeStarcraft, Condition(Trig_ExplodeStarcraft_Conditions))
    TriggerAddAction(gg_trg_ExplodeStarcraft, Trig_ExplodeStarcraft_Actions)
end

function Trig_SelectHero_Conditions()
    if (not (GetTriggerUnit() ~= udg_mainHero)) then
        return false
    end
    return true
end

function Trig_SelectHero_Actions()
    ClearSelectionForPlayer(Player(0))
    SelectUnitAddForPlayer(udg_mainHero, Player(0))
end

function InitTrig_SelectHero()
    gg_trg_SelectHero = CreateTrigger()
    TriggerRegisterPlayerSelectionEventBJ(gg_trg_SelectHero, Player(0), true)
    TriggerAddCondition(gg_trg_SelectHero, Condition(Trig_SelectHero_Conditions))
    TriggerAddAction(gg_trg_SelectHero, Trig_SelectHero_Actions)
end

function Trig_Revive_victim_Conditions()
    if (not (GetUnitTypeId(GetDyingUnit()) == FourCC("nvlw"))) then
        return false
    end
    return true
end

function Trig_Revive_victim_Actions()
    TriggerSleepAction(60.00)
    CreateNUnitsAtLoc(1, FourCC("u006"), Player(PLAYER_NEUTRAL_AGGRESSIVE), GetUnitLoc(GetDyingUnit()), bj_UNIT_FACING)
end

function InitTrig_Revive_victim()
    gg_trg_Revive_victim = CreateTrigger()
    TriggerRegisterAnyUnitEventBJ(gg_trg_Revive_victim, EVENT_PLAYER_UNIT_DEATH)
    TriggerAddCondition(gg_trg_Revive_victim, Condition(Trig_Revive_victim_Conditions))
    TriggerAddAction(gg_trg_Revive_victim, Trig_Revive_victim_Actions)
end

function Trig_Cry_Func003C()
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Hpal")) then
        return true
    end
    if (GetUnitTypeId(GetEnteringUnit()) == FourCC("Edmm")) then
        return true
    end
    return false
end

function Trig_Cry_Conditions()
    if (not Trig_Cry_Func003C()) then
        return false
    end
    return true
end

function Trig_Cry_Func002Func002001002001002()
    return (GetUnitTypeId(GetFilterUnit()) == FourCC("nvlw"))
end

function Trig_Cry_Func002C()
    if (not (GetUnitStateSwap(UNIT_STATE_LIFE, GroupPickRandomUnit(GetUnitsInRectMatching(RectFromCenterSizeBJ(GetUnitLoc(gg_unit_Hpal_0002), 1200.00, 1200.00), Condition(Trig_Cry_Func002Func002001002001002)))) >= 1.00)) then
        return false
    end
    return true
end

function Trig_Cry_Actions()
        CQX,CQY=5200,1200
    if (Trig_Cry_Func002C()) then
        PlaySoundBJ(gg_snd_Cry)
    else
    end
end

function InitTrig_Cry()
    gg_trg_Cry = CreateTrigger()
    TriggerRegisterEnterRectSimple(gg_trg_Cry, gg_rct_Cry1)
    TriggerRegisterEnterRectSimple(gg_trg_Cry, gg_rct_Cry2)
    TriggerRegisterEnterRectSimple(gg_trg_Cry, gg_rct_Cry3)
    TriggerRegisterEnterRectSimple(gg_trg_Cry, gg_rct_Cry4)
    TriggerRegisterEnterRectSimple(gg_trg_Cry, gg_rct_Cry5)
    TriggerRegisterEnterRectSimple(gg_trg_Cry, gg_rct_Cry6)
    TriggerAddCondition(gg_trg_Cry, Condition(Trig_Cry_Conditions))
    TriggerAddAction(gg_trg_Cry, Trig_Cry_Actions)
end

function Trig_Kain_Laugh_Conditions()
    if (not (GetKillingUnitBJ() == gg_unit_Hpal_0002)) then
        return false
    end
    return true
end

function Trig_Kain_Laugh_Func003C()
    if (not (udg_Random == 1)) then
        return false
    end
    return true
end

function Trig_Kain_Laugh_Actions()
    DisableTrigger(GetTriggeringTrigger())
    udg_Random = GetRandomInt(1, 4)
    if (Trig_Kain_Laugh_Func003C()) then
        PlaySoundBJ(gg_snd_SoundsKainLaugh)
    else
    end
    EnableTrigger(GetTriggeringTrigger())
end

function InitTrig_Kain_Laugh()
    gg_trg_Kain_Laugh = CreateTrigger()
    TriggerRegisterAnyUnitEventBJ(gg_trg_Kain_Laugh, EVENT_PLAYER_UNIT_DEATH)
    TriggerAddCondition(gg_trg_Kain_Laugh, Condition(Trig_Kain_Laugh_Conditions))
    TriggerAddAction(gg_trg_Kain_Laugh, Trig_Kain_Laugh_Actions)
end

function Trig_Enemy_Scream_Func005C()
    if (GetUnitTypeId(GetAttacker()) == FourCC("hfoo")) then
        return true
    end
    if (GetUnitTypeId(GetAttacker()) == FourCC("h002")) then
        return true
    end
    return false
end

function Trig_Enemy_Scream_Conditions()
    if (not Trig_Enemy_Scream_Func005C()) then
        return false
    end
    return true
end

function Trig_Enemy_Scream_Func003C()
    if (not (udg_Random == 1)) then
        return false
    end
    return true
end

function Trig_Enemy_Scream_Actions()
    DisableTrigger(GetTriggeringTrigger())
    udg_Random = GetRandomInt(1, 5)
    if (Trig_Enemy_Scream_Func003C()) then
        PlaySoundBJ(gg_snd_Enemy)
    else
    end
    EnableTrigger(GetTriggeringTrigger())
end

function InitTrig_Enemy_Scream()
    gg_trg_Enemy_Scream = CreateTrigger()
    TriggerRegisterAnyUnitEventBJ(gg_trg_Enemy_Scream, EVENT_PLAYER_UNIT_ATTACKED)
    TriggerAddCondition(gg_trg_Enemy_Scream, Condition(Trig_Enemy_Scream_Conditions))
    TriggerAddAction(gg_trg_Enemy_Scream, Trig_Enemy_Scream_Actions)
end

function Trig_SkipIntro_Func012C()
    if (not (UnitHasItemOfTypeBJ(gg_unit_Hpal_0002, FourCC("I005")) == false)) then
        return false
    end
    return true
end

function Trig_SkipIntro_Actions()
    SetUnitOwner(gg_unit_Hpal_0002, Player(0), true)
    SelectUnitForPlayerSingle(gg_unit_Hpal_0002, Player(0))
    SetUnitPositionLoc(gg_unit_Hpal_0002, GetRectCenter(gg_rct_KainStart))
    udg_mainHero = gg_unit_Hpal_0002
        mainHero=udg_mainHero
    AddHeroXPSwapped(3000, gg_unit_Hpal_0002, true)
    UnitAddAbilityBJ(FourCC("dssd"), gg_unit_Hpal_0002)
    UnitAddAbilityBJ(FourCC("A007"), gg_unit_Hpal_0002)
    UnitAddAbilityBJ(FourCC("A005"), gg_unit_Hpal_0002)
    UnitAddAbilityBJ(FourCC("A00G"), gg_unit_Hpal_0002)
    AdjustPlayerStateBJ(1, Player(0), PLAYER_STATE_RESOURCE_LUMBER)
    if (Trig_SkipIntro_Func012C()) then
        UnitAddItemByIdSwapped(FourCC("ratf"), udg_mainHero)
        UnitAddItemByIdSwapped(FourCC("I005"), udg_mainHero)
    else
    end
end

function InitTrig_SkipIntro()
    gg_trg_SkipIntro = CreateTrigger()
    TriggerRegisterPlayerChatEvent(gg_trg_SkipIntro, Player(0), "skip", true)
    TriggerRegisterPlayerChatEvent(gg_trg_SkipIntro, Player(0), "-skip", true)
    TriggerRegisterPlayerChatEvent(gg_trg_SkipIntro, Player(0), "s", true)
    TriggerRegisterPlayerChatEvent(gg_trg_SkipIntro, Player(0), "", true)
    TriggerAddAction(gg_trg_SkipIntro, Trig_SkipIntro_Actions)
end

function Trig_Fixed_Camera_Actions()
    SetCameraTargetControllerNoZForPlayer(Player(0), udg_mainHero, 0, 150.00, false)
    SetCameraFieldForPlayer(Player(0), CAMERA_FIELD_ROTATION, 90.00, 0.05)
    SetCameraFieldForPlayer(Player(0), CAMERA_FIELD_TARGET_DISTANCE, 1650.00, 0.05)
    SetCameraFieldForPlayer(Player(0), CAMERA_FIELD_ANGLE_OF_ATTACK, 300.00, 0.05)
end

function InitTrig_Fixed_Camera()
    gg_trg_Fixed_Camera = CreateTrigger()
    DisableTrigger(gg_trg_Fixed_Camera)
    TriggerRegisterTimerEventPeriodic(gg_trg_Fixed_Camera, 0.05)
    TriggerAddAction(gg_trg_Fixed_Camera, Trig_Fixed_Camera_Actions)
end

function Trig_Kain_Dies_Func001C()
    if (not (GetPlayerState(Player(0), PLAYER_STATE_RESOURCE_LUMBER) == 0)) then
        return false
    end
    return true
end

function Trig_Kain_Dies_Actions()
    if (Trig_Kain_Dies_Func001C()) then
        CustomDefeatBJ(Player(0), "TRIGSTR_226")
    else
        DisableTrigger(gg_trg_LightDamage)
        CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT, 2, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
        TriggerSleepAction(4.00)
        SetTerrainFogExBJ(0, 0.00, 2000.00, 0, 0.00, 0.00, 0.00)
        ReviveHeroLoc(gg_unit_Hpal_0002, GetRectCenter(udg_RevivePoint), true)
        SetUnitManaPercentBJ(gg_unit_Hpal_0002, 100)
        SelectUnitForPlayerSingle(gg_unit_Hpal_0002, Player(0))
        SetPlayerStateBJ(Player(0), PLAYER_STATE_RESOURCE_LUMBER, (GetPlayerState(Player(0), PLAYER_STATE_RESOURCE_LUMBER) - 1))
        SetCameraTargetControllerNoZForPlayer(Player(0), gg_unit_Hpal_0002, 0, 250.00, false)
        CinematicFadeBJ(bj_CINEFADETYPE_FADEIN, 5.00, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0)
        PlaySoundBJ(gg_snd_KainRessurect)
        TransmissionFromUnitWithNameBJ(GetPlayersAll(), nil, "TRIGSTR_246", nil, "TRIGSTR_247", bj_TIMETYPE_ADD, 0, true)
    end
end

function InitTrig_Kain_Dies()
    gg_trg_Kain_Dies = CreateTrigger()
    TriggerRegisterUnitEvent(gg_trg_Kain_Dies, gg_unit_Hpal_0002, EVENT_UNIT_DEATH)
    TriggerAddAction(gg_trg_Kain_Dies, Trig_Kain_Dies_Actions)
end

function Trig_Init_Func038A()
    KillDestructable(GetEnumDestructable())
end

function Trig_Init_Func039Func002A()
    KillDestructable(GetEnumDestructable())
end

function Trig_Init_Func039Func005A()
    KillDestructable(GetEnumDestructable())
end

function Trig_Init_Func039C()
    if (not (GetRandomInt(1, 2) == 1)) then
        return false
    end
    return true
end

function Trig_Init_Func040A()
    PauseUnitBJ(true, GetEnumUnit())
end

function Trig_Init_Actions()
    SetUnitAnimationWithRarity(gg_unit_n000_0032, "sleep", RARITY_RARE)
    SetUnitAnimationWithRarity(gg_unit_opeo_0070, "stand work", RARITY_RARE)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_DoorwayOpen)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_DoorwayOpen2)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_DoorwayOpen3)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_DoorwayOpen4)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_OpenGate11)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_OpenDoor3)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_OpenGate6)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_NoKainHere)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_SecretDoor1)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D001"), gg_rct_DoorWayOpen5)
    SetDoodadAnimationRectBJ("death alternate", FourCC("D02O"), gg_rct_YellowDoor)
    SetDoodadAnimationRectBJ("hide", FourCC("DObw"), gg_rct_LibraryOpen)
    SetDoodadAnimationRectBJ("death", FourCC("YOsw"), gg_rct_Cinematic_1)
    SetUnitAnimation(gg_unit_o003_0144, "sleep")
    SetUnitAnimation(gg_unit_h00D_0132, "death")
    AddUnitAnimationPropertiesBJ(true, "cinematic", gg_unit_hpea_0000)
    KillDestructable(gg_dest_YY13_0211)
    KillDestructable(gg_dest_CTtc_0212)
    KillDestructable(gg_dest_B007_19692)
    CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_242", "TRIGSTR_243", "ReplaceableTextures\\CommandButtons\\BTNTranquility.blp")
    CreateQuestItemBJ(GetLastCreatedQuestBJ(), "TRIGSTR_389")
    udg_QuestIntro = GetLastCreatedQuestBJ()
    UseTimeOfDayBJ(false)
    SetPlayerFlagBJ(PLAYER_STATE_GIVES_BOUNTY, false, Player(PLAYER_NEUTRAL_AGGRESSIVE))
    udg_mainHero = gg_unit_H000_0004
    udg_RevivePoint = gg_rct_KainStart
    IssuePointOrderLocBJ(gg_unit_hpea_0000, "patrol", GetRectCenter(gg_rct_Barkeep_walk))
    SetPlayerAllianceStateBJ(Player(11), Player(PLAYER_NEUTRAL_AGGRESSIVE), bj_ALLIANCE_ALLIED)
    SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE), Player(11), bj_ALLIANCE_ALLIED)
    SetDoodadAnimationRectBJ("hide", FourCC("D02N"), gg_rct_Skull1)
    SetDoodadAnimationRectBJ("hide", FourCC("D02N"), gg_rct_Skull2)
    SetDoodadAnimationRectBJ("hide", FourCC("D02N"), gg_rct_Skull3)
    EnumDestructablesInRectAll(gg_rct_OpenGate6, Trig_Init_Func038A)
    if (Trig_Init_Func039C()) then
        SetItemPositionLoc(gg_item_spsh_0071, GetRectCenter(gg_rct_BarrelAlternate))
        RemoveDestructable(gg_dest_B008_20585)
        EnumDestructablesInRectAll(gg_rct_Fence1, Trig_Init_Func039Func005A)
    else
        RemoveDestructable(gg_dest_B008_2929)
        EnumDestructablesInRectAll(gg_rct_Fence2, Trig_Init_Func039Func002A)
    end
    ForGroupBJ(GetUnitsInRectAll(gg_rct_FinalZone), Trig_Init_Func040A)
    DialogSetMessageBJ(udg_FinalDialog, "TRIGSTR_572")
    DialogAddButtonBJ(udg_FinalDialog, "TRIGSTR_574")
    udg_Yes = GetLastCreatedButtonBJ()
    DialogAddButtonBJ(udg_FinalDialog, "TRIGSTR_575")
end

function InitTrig_Init()
    gg_trg_Init = CreateTrigger()
    TriggerAddAction(gg_trg_Init, Trig_Init_Actions)
end

function InitCustomTriggers()
    InitTrig_GoAway()
    InitTrig_GoAway2()
    InitTrig_Gain()
    InitTrig_DeathArmy()
    InitTrig_Tips_1()
    InitTrig_Tips_2()
    InitTrig_Tips_3()
    InitTrig_Tips_4()
    InitTrig_Tips_5()
    InitTrig_Tips_6()
    InitTrig_Tips_7()
    InitTrig_Tips_8()
    InitTrig_Tips_9()
    InitTrig_Tips_10()
    InitTrig_Intro_1()
    InitTrig_Intro_2()
    InitTrig_Intro_3()
    InitTrig_Intro_4()
    InitTrig_CinematicStart()
    InitTrig_TpToNecro()
    InitTrig_TpToNecroDoor()
    InitTrig_GuardLeave()
    InitTrig_G_Button_1()
    InitTrig_G_Button_2()
    InitTrig_G_Button_3()
    InitTrig_G_Button_1_Left()
    InitTrig_G_Button_Left_2()
    InitTrig_G_Button_Left_3()
    InitTrig_Closed1()
    InitTrig_RatKey()
    InitTrig_RatKAggro()
    InitTrig_Open_Pass_1()
    InitTrig_Key1()
    InitTrig_Key2()
    InitTrig_Key3()
    InitTrig_LightOn()
    InitTrig_FirstDorHelper()
    InitTrig_LightOff()
    InitTrig_LightDamage()
    InitTrig_Button_1()
    InitTrig_Button_4()
    InitTrig_Button_2()
    InitTrig_Button_3()
    InitTrig_Button_Fly()
    InitTrig_OpenDoorLabirinthToBlue()
    InitTrig_OpenDoorLabirinth()
    InitTrig_Grave1()
    InitTrig_Grave2()
    InitTrig_Grave3()
    InitTrig_RedKey()
    InitTrig_RedKeyDoor()
    InitTrig_BlueKey()
    InitTrig_BlueKeyDoor()
    InitTrig_Portal1_Inn()
    InitTrig_Respawn_rat()
    InitTrig_Trap1()
    InitTrig_Trap1_Damage()
    InitTrig_Trap2()
    InitTrig_Trap2_Damage()
    InitTrig_Trap3()
    InitTrig_Trap3_Damage()
    InitTrig_Button_Yard()
    InitTrig_RemoveDark()
    InitTrig_Button_5()
    InitTrig_ButtonMainGate()
    InitTrig_Key_4()
    InitTrig_AcidKeyDoor()
    InitTrig_AcidKey()
    InitTrig_ChurchCloseTo()
    InitTrig_OpetToBoss()
    InitTrig_BrokenLever()
    InitTrig_CaveEnter()
    InitTrig_CheckpointCave2()
    InitTrig_YellowKeyMaster()
    InitTrig_YellowKey()
    InitTrig_YellowKeyDoor()
    InitTrig_BlackDoor()
    InitTrig_BlackDoorIn()
    InitTrig_BlackDoorOut()
    InitTrig_StartOnce()
    InitTrig_StartRepeat()
    InitTrig_StartKain()
    InitTrig_TraderRespawn()
    InitTrig_Stop()
    InitTrig_StopByDeath()
    InitTrig_Skull1Drop()
    InitTrig_Skull2Drop()
    InitTrig_Skull3Drop()
    InitTrig_KeyDrop()
    InitTrig_Skull1()
    InitTrig_Skull2()
    InitTrig_Skull3()
    InitTrig_SkullTP()
    InitTrig_BanditsRespawn()
    InitTrig_Outro_1()
    InitTrig_Outro_Bandits()
    InitTrig_Outro_2()
    InitTrig_Outro_3()
    InitTrig_Outro_4()
    InitTrig_Outro_5()
    InitTrig_Outro_5_Yes()
    InitTrig_Outro_6()
    InitTrig_PreventFromLeaving()
    InitTrig_CheckForEveryoneDeaths()
    InitTrig_OpenBanditGate()
    InitTrig_OpenBanditGate2()
    InitTrig_OpenBanditGate3()
    InitTrig_LightOnEgg()
    InitTrig_LightOffEgg()
    InitTrig_BergiCave()
    InitTrig_Rabbits()
    InitTrig_RabbitsEnd()
    InitTrig_KotoBog()
    InitTrig_xWizard()
    InitTrig_MrOgreman()
    InitTrig_xWizardRescue()
    InitTrig_CATapult()
    InitTrig_ExplodeStarcraft()
    InitTrig_SelectHero()
    InitTrig_Revive_victim()
    InitTrig_Cry()
    InitTrig_Kain_Laugh()
    InitTrig_Enemy_Scream()
    InitTrig_SkipIntro()
    InitTrig_Fixed_Camera()
    InitTrig_Kain_Dies()
    InitTrig_Init()
end

function RunInitializationTriggers()
    ConditionalTriggerExecute(gg_trg_Intro_1)
    ConditionalTriggerExecute(gg_trg_Init)
end

function InitCustomPlayerSlots()
    SetPlayerStartLocation(Player(0), 0)
    SetPlayerColor(Player(0), ConvertPlayerColor(0))
    SetPlayerRacePreference(Player(0), RACE_PREF_HUMAN)
    SetPlayerRaceSelectable(Player(0), false)
    SetPlayerController(Player(0), MAP_CONTROL_USER)
    SetPlayerStartLocation(Player(11), 1)
    SetPlayerColor(Player(11), ConvertPlayerColor(11))
    SetPlayerRacePreference(Player(11), RACE_PREF_HUMAN)
    SetPlayerRaceSelectable(Player(11), false)
    SetPlayerController(Player(11), MAP_CONTROL_COMPUTER)
    SetPlayerStartLocation(Player(20), 2)
    SetPlayerColor(Player(20), ConvertPlayerColor(20))
    SetPlayerRacePreference(Player(20), RACE_PREF_HUMAN)
    SetPlayerRaceSelectable(Player(20), false)
    SetPlayerController(Player(20), MAP_CONTROL_COMPUTER)
end

function InitCustomTeams()
    SetPlayerTeam(Player(0), 0)
    SetPlayerTeam(Player(20), 0)
    SetPlayerAllianceStateAllyBJ(Player(0), Player(20), true)
    SetPlayerAllianceStateAllyBJ(Player(20), Player(0), true)
    SetPlayerAllianceStateVisionBJ(Player(0), Player(20), true)
    SetPlayerAllianceStateVisionBJ(Player(20), Player(0), true)
    SetPlayerTeam(Player(11), 1)
end

function main()
    SetCameraBounds(-8192.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), -3584.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 15616.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 12288.0 - GetCameraMargin(CAMERA_MARGIN_TOP), -8192.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 12288.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 15616.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), -3584.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM))
    SetDayNightModels("Environment\\DNC\\DNCFelwood\\DNCFelwoodTerrain\\DNCFelwoodTerrain.mdl", "Environment\\DNC\\DNCFelwood\\DNCFelwoodUnit\\DNCFelwoodUnit.mdl")
    SetTerrainFogEx(0, 0.0, 2000.0, 0.500, 0.000, 0.000, 0.098)
    SetWaterBaseColor(150, 200, 100, 255)
    NewSoundEnvironment("Default")
    SetAmbientDaySound("AshenvaleDay")
    SetAmbientNightSound("AshenvaleNight")
    SetMapMusic("Music", true, 0)
    InitSounds()
    CreateRegions()
    CreateCameras()
    CreateAllDestructables()
    CreateAllItems()
    CreateAllUnits()
    InitBlizzard()
    InitGlobals()
    InitCustomTriggers()
    RunInitializationTriggers()
end

function config()
    SetMapName("TRIGSTR_001")
    SetMapDescription("TRIGSTR_003")
    SetPlayers(3)
    SetTeams(3)
    SetGamePlacement(MAP_PLACEMENT_USE_MAP_SETTINGS)
    DefineStartLocation(0, 6016.0, 4224.0)
    DefineStartLocation(1, 768.0, -896.0)
    DefineStartLocation(2, -256.0, 3200.0)
    InitCustomPlayerSlots()
    InitCustomTeams()
end

